var b_=Object.defineProperty;var x_=(t,e,r)=>e in t?b_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var rh=(t,e,r)=>x_(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();/**
* @vue/shared v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Wg(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const zt={},ko=[],ki=()=>{},w_=()=>!1,Xd=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Gg=t=>t.startsWith("onUpdate:"),Nr=Object.assign,jg=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},S_=Object.prototype.hasOwnProperty,_t=(t,e)=>S_.call(t,e),je=Array.isArray,Io=t=>zu(t)==="[object Map]",Zd=t=>zu(t)==="[object Set]",q0=t=>zu(t)==="[object Date]",st=t=>typeof t=="function",Zt=t=>typeof t=="string",Ii=t=>typeof t=="symbol",Ht=t=>t!==null&&typeof t=="object",EA=t=>(Ht(t)||st(t))&&st(t.then)&&st(t.catch),AA=Object.prototype.toString,zu=t=>AA.call(t),E_=t=>zu(t).slice(8,-1),NA=t=>zu(t)==="[object Object]",Kg=t=>Zt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Kl=Wg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Qd=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},A_=/-(\w)/g,Xn=Qd(t=>t.replace(A_,(e,r)=>r?r.toUpperCase():"")),N_=/\B([A-Z])/g,to=Qd(t=>t.replace(N_,"-$1").toLowerCase()),ep=Qd(t=>t.charAt(0).toUpperCase()+t.slice(1)),nh=Qd(t=>t?`on${ep(t)}`:""),ja=(t,e)=>!Object.is(t,e),sf=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},DA=(t,e,r,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:r})},bm=t=>{const e=parseFloat(t);return isNaN(e)?t:e},D_=t=>{const e=Zt(t)?Number(t):NaN;return isNaN(e)?t:e};let U0;const tp=()=>U0||(U0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ca(t){if(je(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],i=Zt(n)?__(n):ca(n);if(i)for(const a in i)e[a]=i[a]}return e}else if(Zt(t)||Ht(t))return t}const C_=/;(?![^(]*\))/g,M_=/:([^]+)/,T_=/\/\*[^]*?\*\//g;function __(t){const e={};return t.replace(T_,"").split(C_).forEach(r=>{if(r){const n=r.split(M_);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function ct(t){let e="";if(Zt(t))e=t;else if(je(t))for(let r=0;r<t.length;r++){const n=ct(t[r]);n&&(e+=n+" ")}else if(Ht(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const O_="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",F_=Wg(O_);function CA(t){return!!t||t===""}function B_(t,e){if(t.length!==e.length)return!1;let r=!0;for(let n=0;r&&n<t.length;n++)r=rp(t[n],e[n]);return r}function rp(t,e){if(t===e)return!0;let r=q0(t),n=q0(e);if(r||n)return r&&n?t.getTime()===e.getTime():!1;if(r=Ii(t),n=Ii(e),r||n)return t===e;if(r=je(t),n=je(e),r||n)return r&&n?B_(t,e):!1;if(r=Ht(t),n=Ht(e),r||n){if(!r||!n)return!1;const i=Object.keys(t).length,a=Object.keys(e).length;if(i!==a)return!1;for(const s in t){const o=t.hasOwnProperty(s),l=e.hasOwnProperty(s);if(o&&!l||!o&&l||!rp(t[s],e[s]))return!1}}return String(t)===String(e)}function MA(t,e){return t.findIndex(r=>rp(r,e))}const TA=t=>!!(t&&t.__v_isRef===!0),ar=t=>Zt(t)?t:t==null?"":je(t)||Ht(t)&&(t.toString===AA||!st(t.toString))?TA(t)?ar(t.value):JSON.stringify(t,_A,2):String(t),_A=(t,e)=>TA(e)?_A(t,e.value):Io(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,i],a)=>(r[ih(n,a)+" =>"]=i,r),{})}:Zd(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>ih(r))}:Ii(e)?ih(e):Ht(e)&&!je(e)&&!NA(e)?String(e):e,ih=(t,e="")=>{var r;return Ii(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let bn;class k_{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=bn,!e&&bn&&(this.index=(bn.scopes||(bn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=bn;try{return bn=this,e()}finally{bn=r}}}on(){++this._on===1&&(this.prevScope=bn,bn=this)}off(){this._on>0&&--this._on===0&&(bn=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function I_(){return bn}let Wt;const ah=new WeakSet;class OA{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,bn&&bn.active&&bn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ah.has(this)&&(ah.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||BA(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,H0(this),kA(this);const e=Wt,r=ui;Wt=this,ui=!0;try{return this.fn()}finally{IA(this),Wt=e,ui=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Xg(e);this.deps=this.depsTail=void 0,H0(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ah.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){xm(this)&&this.run()}get dirty(){return xm(this)}}let FA=0,Jl,Yl;function BA(t,e=!1){if(t.flags|=8,e){t.next=Yl,Yl=t;return}t.next=Jl,Jl=t}function Jg(){FA++}function Yg(){if(--FA>0)return;if(Yl){let e=Yl;for(Yl=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;Jl;){let e=Jl;for(Jl=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=r}}if(t)throw t}function kA(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function IA(t){let e,r=t.depsTail,n=r;for(;n;){const i=n.prevDep;n.version===-1?(n===r&&(r=i),Xg(n),R_(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}t.deps=e,t.depsTail=r}function xm(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(RA(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function RA(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===hu)||(t.globalVersion=hu,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!xm(t))))return;t.flags|=2;const e=t.dep,r=Wt,n=ui;Wt=t,ui=!0;try{kA(t);const i=t.fn(t._value);(e.version===0||ja(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Wt=r,ui=n,IA(t),t.flags&=-3}}function Xg(t,e=!1){const{dep:r,prevSub:n,nextSub:i}=t;if(n&&(n.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=n,t.nextSub=void 0),r.subs===t&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let a=r.computed.deps;a;a=a.nextDep)Xg(a,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function R_(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let ui=!0;const PA=[];function ga(){PA.push(ui),ui=!1}function va(){const t=PA.pop();ui=t===void 0?!0:t}function H0(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=Wt;Wt=void 0;try{e()}finally{Wt=r}}}let hu=0,P_=class{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class np{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Wt||!ui||Wt===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==Wt)r=this.activeLink=new P_(Wt,this),Wt.deps?(r.prevDep=Wt.depsTail,Wt.depsTail.nextDep=r,Wt.depsTail=r):Wt.deps=Wt.depsTail=r,$A(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=Wt.depsTail,r.nextDep=void 0,Wt.depsTail.nextDep=r,Wt.depsTail=r,Wt.deps===r&&(Wt.deps=n)}return r}trigger(e){this.version++,hu++,this.notify(e)}notify(e){Jg();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{Yg()}}}function $A(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)$A(n)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const wm=new WeakMap,Ls=Symbol(""),Sm=Symbol(""),mu=Symbol("");function Vr(t,e,r){if(ui&&Wt){let n=wm.get(t);n||wm.set(t,n=new Map);let i=n.get(r);i||(n.set(r,i=new np),i.map=n,i.key=r),i.track()}}function ia(t,e,r,n,i,a){const s=wm.get(t);if(!s){hu++;return}const o=l=>{l&&l.trigger()};if(Jg(),e==="clear")s.forEach(o);else{const l=je(t),u=l&&Kg(r);if(l&&r==="length"){const c=Number(n);s.forEach((f,d)=>{(d==="length"||d===mu||!Ii(d)&&d>=c)&&o(f)})}else switch((r!==void 0||s.has(void 0))&&o(s.get(r)),u&&o(s.get(mu)),e){case"add":l?u&&o(s.get("length")):(o(s.get(Ls)),Io(t)&&o(s.get(Sm)));break;case"delete":l||(o(s.get(Ls)),Io(t)&&o(s.get(Sm)));break;case"set":Io(t)&&o(s.get(Ls));break}}Yg()}function vo(t){const e=Ct(t);return e===t?e:(Vr(e,"iterate",mu),jn(t)?e:e.map(Or))}function ip(t){return Vr(t=Ct(t),"iterate",mu),t}const $_={__proto__:null,[Symbol.iterator](){return sh(this,Symbol.iterator,Or)},concat(...t){return vo(this).concat(...t.map(e=>je(e)?vo(e):e))},entries(){return sh(this,"entries",t=>(t[1]=Or(t[1]),t))},every(t,e){return Wi(this,"every",t,e,void 0,arguments)},filter(t,e){return Wi(this,"filter",t,e,r=>r.map(Or),arguments)},find(t,e){return Wi(this,"find",t,e,Or,arguments)},findIndex(t,e){return Wi(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Wi(this,"findLast",t,e,Or,arguments)},findLastIndex(t,e){return Wi(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Wi(this,"forEach",t,e,void 0,arguments)},includes(...t){return oh(this,"includes",t)},indexOf(...t){return oh(this,"indexOf",t)},join(t){return vo(this).join(t)},lastIndexOf(...t){return oh(this,"lastIndexOf",t)},map(t,e){return Wi(this,"map",t,e,void 0,arguments)},pop(){return Ml(this,"pop")},push(...t){return Ml(this,"push",t)},reduce(t,...e){return V0(this,"reduce",t,e)},reduceRight(t,...e){return V0(this,"reduceRight",t,e)},shift(){return Ml(this,"shift")},some(t,e){return Wi(this,"some",t,e,void 0,arguments)},splice(...t){return Ml(this,"splice",t)},toReversed(){return vo(this).toReversed()},toSorted(t){return vo(this).toSorted(t)},toSpliced(...t){return vo(this).toSpliced(...t)},unshift(...t){return Ml(this,"unshift",t)},values(){return sh(this,"values",Or)}};function sh(t,e,r){const n=ip(t),i=n[e]();return n!==t&&!jn(t)&&(i._next=i.next,i.next=()=>{const a=i._next();return a.value&&(a.value=r(a.value)),a}),i}const L_=Array.prototype;function Wi(t,e,r,n,i,a){const s=ip(t),o=s!==t&&!jn(t),l=s[e];if(l!==L_[e]){const f=l.apply(t,a);return o?Or(f):f}let u=r;s!==t&&(o?u=function(f,d){return r.call(this,Or(f),d,t)}:r.length>2&&(u=function(f,d){return r.call(this,f,d,t)}));const c=l.call(s,u,n);return o&&i?i(c):c}function V0(t,e,r,n){const i=ip(t);let a=r;return i!==t&&(jn(t)?r.length>3&&(a=function(s,o,l){return r.call(this,s,o,l,t)}):a=function(s,o,l){return r.call(this,s,Or(o),l,t)}),i[e](a,...n)}function oh(t,e,r){const n=Ct(t);Vr(n,"iterate",mu);const i=n[e](...r);return(i===-1||i===!1)&&ev(r[0])?(r[0]=Ct(r[0]),n[e](...r)):i}function Ml(t,e,r=[]){ga(),Jg();const n=Ct(t)[e].apply(t,r);return Yg(),va(),n}const z_=Wg("__proto__,__v_isRef,__isVue"),LA=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ii));function q_(t){Ii(t)||(t=String(t));const e=Ct(this);return Vr(e,"has",t),e.hasOwnProperty(t)}class zA{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){if(r==="__v_skip")return e.__v_skip;const i=this._isReadonly,a=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return a;if(r==="__v_raw")return n===(i?a?X_:VA:a?HA:UA).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const s=je(e);if(!i){let l;if(s&&(l=$_[r]))return l;if(r==="hasOwnProperty")return q_}const o=Reflect.get(e,r,Kr(e)?e:n);return(Ii(r)?LA.has(r):z_(r))||(i||Vr(e,"get",r),a)?o:Kr(o)?s&&Kg(r)?o:o.value:Ht(o)?i?GA(o):qu(o):o}}class qA extends zA{constructor(e=!1){super(!1,e)}set(e,r,n,i){let a=e[r];if(!this._isShallow){const l=es(a);if(!jn(n)&&!es(n)&&(a=Ct(a),n=Ct(n)),!je(e)&&Kr(a)&&!Kr(n))return l?!1:(a.value=n,!0)}const s=je(e)&&Kg(r)?Number(r)<e.length:_t(e,r),o=Reflect.set(e,r,n,Kr(e)?e:i);return e===Ct(i)&&(s?ja(n,a)&&ia(e,"set",r,n):ia(e,"add",r,n)),o}deleteProperty(e,r){const n=_t(e,r);e[r];const i=Reflect.deleteProperty(e,r);return i&&n&&ia(e,"delete",r,void 0),i}has(e,r){const n=Reflect.has(e,r);return(!Ii(r)||!LA.has(r))&&Vr(e,"has",r),n}ownKeys(e){return Vr(e,"iterate",je(e)?"length":Ls),Reflect.ownKeys(e)}}class U_ extends zA{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const H_=new qA,V_=new U_,W_=new qA(!0);const Em=t=>t,yc=t=>Reflect.getPrototypeOf(t);function G_(t,e,r){return function(...n){const i=this.__v_raw,a=Ct(i),s=Io(a),o=t==="entries"||t===Symbol.iterator&&s,l=t==="keys"&&s,u=i[t](...n),c=r?Em:e?Tf:Or;return!e&&Vr(a,"iterate",l?Sm:Ls),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:o?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function bc(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function j_(t,e){const r={get(i){const a=this.__v_raw,s=Ct(a),o=Ct(i);t||(ja(i,o)&&Vr(s,"get",i),Vr(s,"get",o));const{has:l}=yc(s),u=e?Em:t?Tf:Or;if(l.call(s,i))return u(a.get(i));if(l.call(s,o))return u(a.get(o));a!==s&&a.get(i)},get size(){const i=this.__v_raw;return!t&&Vr(Ct(i),"iterate",Ls),Reflect.get(i,"size",i)},has(i){const a=this.__v_raw,s=Ct(a),o=Ct(i);return t||(ja(i,o)&&Vr(s,"has",i),Vr(s,"has",o)),i===o?a.has(i):a.has(i)||a.has(o)},forEach(i,a){const s=this,o=s.__v_raw,l=Ct(o),u=e?Em:t?Tf:Or;return!t&&Vr(l,"iterate",Ls),o.forEach((c,f)=>i.call(a,u(c),u(f),s))}};return Nr(r,t?{add:bc("add"),set:bc("set"),delete:bc("delete"),clear:bc("clear")}:{add(i){!e&&!jn(i)&&!es(i)&&(i=Ct(i));const a=Ct(this);return yc(a).has.call(a,i)||(a.add(i),ia(a,"add",i,i)),this},set(i,a){!e&&!jn(a)&&!es(a)&&(a=Ct(a));const s=Ct(this),{has:o,get:l}=yc(s);let u=o.call(s,i);u||(i=Ct(i),u=o.call(s,i));const c=l.call(s,i);return s.set(i,a),u?ja(a,c)&&ia(s,"set",i,a):ia(s,"add",i,a),this},delete(i){const a=Ct(this),{has:s,get:o}=yc(a);let l=s.call(a,i);l||(i=Ct(i),l=s.call(a,i)),o&&o.call(a,i);const u=a.delete(i);return l&&ia(a,"delete",i,void 0),u},clear(){const i=Ct(this),a=i.size!==0,s=i.clear();return a&&ia(i,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(i=>{r[i]=G_(i,t,e)}),r}function Zg(t,e){const r=j_(t,e);return(n,i,a)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(_t(r,i)&&i in n?r:n,i,a)}const K_={get:Zg(!1,!1)},J_={get:Zg(!1,!0)},Y_={get:Zg(!0,!1)};const UA=new WeakMap,HA=new WeakMap,VA=new WeakMap,X_=new WeakMap;function Z_(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Q_(t){return t.__v_skip||!Object.isExtensible(t)?0:Z_(E_(t))}function qu(t){return es(t)?t:Qg(t,!1,H_,K_,UA)}function WA(t){return Qg(t,!1,W_,J_,HA)}function GA(t){return Qg(t,!0,V_,Y_,VA)}function Qg(t,e,r,n,i){if(!Ht(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const a=Q_(t);if(a===0)return t;const s=i.get(t);if(s)return s;const o=new Proxy(t,a===2?n:r);return i.set(t,o),o}function Ro(t){return es(t)?Ro(t.__v_raw):!!(t&&t.__v_isReactive)}function es(t){return!!(t&&t.__v_isReadonly)}function jn(t){return!!(t&&t.__v_isShallow)}function ev(t){return t?!!t.__v_raw:!1}function Ct(t){const e=t&&t.__v_raw;return e?Ct(e):t}function jA(t){return!_t(t,"__v_skip")&&Object.isExtensible(t)&&DA(t,"__v_skip",!0),t}const Or=t=>Ht(t)?qu(t):t,Tf=t=>Ht(t)?GA(t):t;function Kr(t){return t?t.__v_isRef===!0:!1}function Pe(t){return KA(t,!1)}function eO(t){return KA(t,!0)}function KA(t,e){return Kr(t)?t:new tO(t,e)}class tO{constructor(e,r){this.dep=new np,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:Ct(e),this._value=r?e:Or(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,n=this.__v_isShallow||jn(e)||es(e);e=n?e:Ct(e),ja(e,r)&&(this._rawValue=e,this._value=n?e:Or(e),this.dep.trigger())}}function Oe(t){return Kr(t)?t.value:t}const rO={get:(t,e,r)=>e==="__v_raw"?t:Oe(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const i=t[e];return Kr(i)&&!Kr(r)?(i.value=r,!0):Reflect.set(t,e,r,n)}};function JA(t){return Ro(t)?t:new Proxy(t,rO)}class nO{constructor(e){this.__v_isRef=!0,this._value=void 0;const r=this.dep=new np,{get:n,set:i}=e(r.track.bind(r),r.trigger.bind(r));this._get=n,this._set=i}get value(){return this._value=this._get()}set value(e){this._set(e)}}function iO(t){return new nO(t)}class aO{constructor(e,r,n){this.fn=e,this.setter=r,this._value=void 0,this.dep=new np(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=hu-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Wt!==this)return BA(this,!0),!0}get value(){const e=this.dep.track();return RA(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function sO(t,e,r=!1){let n,i;return st(t)?n=t:(n=t.get,i=t.set),new aO(n,i,r)}const xc={},_f=new WeakMap;let Ns;function oO(t,e=!1,r=Ns){if(r){let n=_f.get(r);n||_f.set(r,n=[]),n.push(t)}}function lO(t,e,r=zt){const{immediate:n,deep:i,once:a,scheduler:s,augmentJob:o,call:l}=r,u=w=>i?w:jn(w)||i===!1||i===0?aa(w,1):aa(w);let c,f,d,p,h=!1,m=!1;if(Kr(t)?(f=()=>t.value,h=jn(t)):Ro(t)?(f=()=>u(t),h=!0):je(t)?(m=!0,h=t.some(w=>Ro(w)||jn(w)),f=()=>t.map(w=>{if(Kr(w))return w.value;if(Ro(w))return u(w);if(st(w))return l?l(w,2):w()})):st(t)?e?f=l?()=>l(t,2):t:f=()=>{if(d){ga();try{d()}finally{va()}}const w=Ns;Ns=c;try{return l?l(t,3,[p]):t(p)}finally{Ns=w}}:f=ki,e&&i){const w=f,x=i===!0?1/0:i;f=()=>aa(w(),x)}const v=I_(),y=()=>{c.stop(),v&&v.active&&jg(v.effects,c)};if(a&&e){const w=e;e=(...x)=>{w(...x),y()}}let S=m?new Array(t.length).fill(xc):xc;const g=w=>{if(!(!(c.flags&1)||!c.dirty&&!w))if(e){const x=c.run();if(i||h||(m?x.some((b,A)=>ja(b,S[A])):ja(x,S))){d&&d();const b=Ns;Ns=c;try{const A=[x,S===xc?void 0:m&&S[0]===xc?[]:S,p];l?l(e,3,A):e(...A),S=x}finally{Ns=b}}}else c.run()};return o&&o(g),c=new OA(f),c.scheduler=s?()=>s(g,!1):g,p=w=>oO(w,!1,c),d=c.onStop=()=>{const w=_f.get(c);if(w){if(l)l(w,4);else for(const x of w)x();_f.delete(c)}},e?n?g(!0):S=c.run():s?s(g.bind(null,!0),!0):c.run(),y.pause=c.pause.bind(c),y.resume=c.resume.bind(c),y.stop=y,y}function aa(t,e=1/0,r){if(e<=0||!Ht(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),e--,Kr(t))aa(t.value,e,r);else if(je(t))for(let n=0;n<t.length;n++)aa(t[n],e,r);else if(Zd(t)||Io(t))t.forEach(n=>{aa(n,e,r)});else if(NA(t)){for(const n in t)aa(t[n],e,r);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&aa(t[n],e,r)}return t}/**
* @vue/runtime-core v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Uu(t,e,r,n){try{return n?t(...n):t()}catch(i){Hu(i,e,r)}}function pi(t,e,r,n){if(st(t)){const i=Uu(t,e,r,n);return i&&EA(i)&&i.catch(a=>{Hu(a,e,r)}),i}if(je(t)){const i=[];for(let a=0;a<t.length;a++)i.push(pi(t[a],e,r,n));return i}}function Hu(t,e,r,n=!0){const i=e?e.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:s}=e&&e.appContext.config||zt;if(e){let o=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${r}`;for(;o;){const c=o.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](t,l,u)===!1)return}o=o.parent}if(a){ga(),Uu(a,null,10,[t,l,u]),va();return}}uO(t,r,i,n,s)}function uO(t,e,r,n=!0,i=!1){if(i)throw t;console.error(t)}const nn=[];let Ci=-1;const Po=[];let _a=null,Do=0;const YA=Promise.resolve();let Of=null;function ap(t){const e=Of||YA;return t?e.then(this?t.bind(this):t):e}function cO(t){let e=Ci+1,r=nn.length;for(;e<r;){const n=e+r>>>1,i=nn[n],a=gu(i);a<t||a===t&&i.flags&2?e=n+1:r=n}return e}function tv(t){if(!(t.flags&1)){const e=gu(t),r=nn[nn.length-1];!r||!(t.flags&2)&&e>=gu(r)?nn.push(t):nn.splice(cO(e),0,t),t.flags|=1,XA()}}function XA(){Of||(Of=YA.then(QA))}function fO(t){je(t)?Po.push(...t):_a&&t.id===-1?_a.splice(Do+1,0,t):t.flags&1||(Po.push(t),t.flags|=1),XA()}function W0(t,e,r=Ci+1){for(;r<nn.length;r++){const n=nn[r];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;nn.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function ZA(t){if(Po.length){const e=[...new Set(Po)].sort((r,n)=>gu(r)-gu(n));if(Po.length=0,_a){_a.push(...e);return}for(_a=e,Do=0;Do<_a.length;Do++){const r=_a[Do];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}_a=null,Do=0}}const gu=t=>t.id==null?t.flags&2?-1:1/0:t.id;function QA(t){try{for(Ci=0;Ci<nn.length;Ci++){const e=nn[Ci];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Uu(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ci<nn.length;Ci++){const e=nn[Ci];e&&(e.flags&=-2)}Ci=-1,nn.length=0,ZA(),Of=null,(nn.length||Po.length)&&QA()}}let Sn=null,eN=null;function Ff(t){const e=Sn;return Sn=t,eN=t&&t.type.__scopeId||null,e}function Fs(t,e=Sn,r){if(!e||t._n)return t;const n=(...i)=>{n._d&&sy(-1);const a=Ff(e);let s;try{s=t(...i)}finally{Ff(a),n._d&&sy(1)}return s};return n._n=!0,n._c=!0,n._d=!0,n}function jo(t,e){if(Sn===null)return t;const r=up(Sn),n=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[a,s,o,l=zt]=e[i];a&&(st(a)&&(a={mounted:a,updated:a}),a.deep&&aa(s),n.push({dir:a,instance:r,value:s,oldValue:void 0,arg:o,modifiers:l}))}return t}function xs(t,e,r,n){const i=t.dirs,a=e&&e.dirs;for(let s=0;s<i.length;s++){const o=i[s];a&&(o.oldValue=a[s].value);let l=o.dir[n];l&&(ga(),pi(l,r,8,[t.el,o,t,e]),va())}}const tN=Symbol("_vte"),rN=t=>t.__isTeleport,Xl=t=>t&&(t.disabled||t.disabled===""),G0=t=>t&&(t.defer||t.defer===""),j0=t=>typeof SVGElement<"u"&&t instanceof SVGElement,K0=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Am=(t,e)=>{const r=t&&t.to;return Zt(r)?e?e(r):null:r},nN={name:"Teleport",__isTeleport:!0,process(t,e,r,n,i,a,s,o,l,u){const{mc:c,pc:f,pbc:d,o:{insert:p,querySelector:h,createText:m,createComment:v}}=u,y=Xl(e.props);let{shapeFlag:S,children:g,dynamicChildren:w}=e;if(t==null){const x=e.el=m(""),b=e.anchor=m("");p(x,r,n),p(b,r,n);const A=(E,N)=>{S&16&&(i&&i.isCE&&(i.ce._teleportTarget=E),c(g,E,N,i,a,s,o,l))},D=()=>{const E=e.target=Am(e.props,h),N=iN(E,e,m,p);E&&(s!=="svg"&&j0(E)?s="svg":s!=="mathml"&&K0(E)&&(s="mathml"),y||(A(E,N),of(e,!1)))};y&&(A(r,b),of(e,!0)),G0(e.props)?rn(()=>{D(),e.el.__isMounted=!0},a):D()}else{if(G0(e.props)&&!t.el.__isMounted){rn(()=>{nN.process(t,e,r,n,i,a,s,o,l,u),delete t.el.__isMounted},a);return}e.el=t.el,e.targetStart=t.targetStart;const x=e.anchor=t.anchor,b=e.target=t.target,A=e.targetAnchor=t.targetAnchor,D=Xl(t.props),E=D?r:b,N=D?x:A;if(s==="svg"||j0(b)?s="svg":(s==="mathml"||K0(b))&&(s="mathml"),w?(d(t.dynamicChildren,w,E,i,a,s,o),ov(t,e,!0)):l||f(t,e,E,N,i,a,s,o,!1),y)D?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):wc(e,r,x,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const C=e.target=Am(e.props,h);C&&wc(e,C,null,u,0)}else D&&wc(e,b,A,u,1);of(e,y)}},remove(t,e,r,{um:n,o:{remove:i}},a){const{shapeFlag:s,children:o,anchor:l,targetStart:u,targetAnchor:c,target:f,props:d}=t;if(f&&(i(u),i(c)),a&&i(l),s&16){const p=a||!Xl(d);for(let h=0;h<o.length;h++){const m=o[h];n(m,e,r,p,!!m.dynamicChildren)}}},move:wc,hydrate:dO};function wc(t,e,r,{o:{insert:n},m:i},a=2){a===0&&n(t.targetAnchor,e,r);const{el:s,anchor:o,shapeFlag:l,children:u,props:c}=t,f=a===2;if(f&&n(s,e,r),(!f||Xl(c))&&l&16)for(let d=0;d<u.length;d++)i(u[d],e,r,2);f&&n(o,e,r)}function dO(t,e,r,n,i,a,{o:{nextSibling:s,parentNode:o,querySelector:l,insert:u,createText:c}},f){const d=e.target=Am(e.props,l);if(d){const p=Xl(e.props),h=d._lpa||d.firstChild;if(e.shapeFlag&16)if(p)e.anchor=f(s(t),e,o(t),r,n,i,a),e.targetStart=h,e.targetAnchor=h&&s(h);else{e.anchor=s(t);let m=h;for(;m;){if(m&&m.nodeType===8){if(m.data==="teleport start anchor")e.targetStart=m;else if(m.data==="teleport anchor"){e.targetAnchor=m,d._lpa=e.targetAnchor&&s(e.targetAnchor);break}}m=s(m)}e.targetAnchor||iN(d,e,c,u),f(h&&s(h),e,d,r,n,i,a)}of(e,p)}return e.anchor&&s(e.anchor)}const rv=nN;function of(t,e){const r=t.ctx;if(r&&r.ut){let n,i;for(e?(n=t.el,i=t.anchor):(n=t.targetStart,i=t.targetAnchor);n&&n!==i;)n.nodeType===1&&n.setAttribute("data-v-owner",r.uid),n=n.nextSibling;r.ut()}}function iN(t,e,r,n){const i=e.targetStart=r(""),a=e.targetAnchor=r("");return i[tN]=a,t&&(n(i,t),n(a,t)),a}const Oa=Symbol("_leaveCb"),Sc=Symbol("_enterCb");function pO(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return jt(()=>{t.isMounted=!0}),fl(()=>{t.isUnmounting=!0}),t}const Rn=[Function,Array],aN={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Rn,onEnter:Rn,onAfterEnter:Rn,onEnterCancelled:Rn,onBeforeLeave:Rn,onLeave:Rn,onAfterLeave:Rn,onLeaveCancelled:Rn,onBeforeAppear:Rn,onAppear:Rn,onAfterAppear:Rn,onAppearCancelled:Rn},sN=t=>{const e=t.subTree;return e.component?sN(e.component):e},hO={name:"BaseTransition",props:aN,setup(t,{slots:e}){const r=BN(),n=pO();return()=>{const i=e.default&&uN(e.default(),!0);if(!i||!i.length)return;const a=oN(i),s=Ct(t),{mode:o}=s;if(n.isLeaving)return lh(a);const l=J0(a);if(!l)return lh(a);let u=Nm(l,s,n,r,f=>u=f);l.type!==an&&vu(l,u);let c=r.subTree&&J0(r.subTree);if(c&&c.type!==an&&!Cs(l,c)&&sN(r).type!==an){let f=Nm(c,s,n,r);if(vu(c,f),o==="out-in"&&l.type!==an)return n.isLeaving=!0,f.afterLeave=()=>{n.isLeaving=!1,r.job.flags&8||r.update(),delete f.afterLeave,c=void 0},lh(a);o==="in-out"&&l.type!==an?f.delayLeave=(d,p,h)=>{const m=lN(n,c);m[String(c.key)]=c,d[Oa]=()=>{p(),d[Oa]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{h(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return a}}};function oN(t){let e=t[0];if(t.length>1){for(const r of t)if(r.type!==an){e=r;break}}return e}const mO=hO;function lN(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function Nm(t,e,r,n,i){const{appear:a,mode:s,persisted:o=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:d,onLeave:p,onAfterLeave:h,onLeaveCancelled:m,onBeforeAppear:v,onAppear:y,onAfterAppear:S,onAppearCancelled:g}=e,w=String(t.key),x=lN(r,t),b=(E,N)=>{E&&pi(E,n,9,N)},A=(E,N)=>{const C=N[1];b(E,N),je(E)?E.every(M=>M.length<=1)&&C():E.length<=1&&C()},D={mode:s,persisted:o,beforeEnter(E){let N=l;if(!r.isMounted)if(a)N=v||l;else return;E[Oa]&&E[Oa](!0);const C=x[w];C&&Cs(t,C)&&C.el[Oa]&&C.el[Oa](),b(N,[E])},enter(E){let N=u,C=c,M=f;if(!r.isMounted)if(a)N=y||u,C=S||c,M=g||f;else return;let F=!1;const I=E[Sc]=R=>{F||(F=!0,R?b(M,[E]):b(C,[E]),D.delayedLeave&&D.delayedLeave(),E[Sc]=void 0)};N?A(N,[E,I]):I()},leave(E,N){const C=String(t.key);if(E[Sc]&&E[Sc](!0),r.isUnmounting)return N();b(d,[E]);let M=!1;const F=E[Oa]=I=>{M||(M=!0,N(),I?b(m,[E]):b(h,[E]),E[Oa]=void 0,x[C]===t&&delete x[C])};x[C]=t,p?A(p,[E,F]):F()},clone(E){const N=Nm(E,e,r,n,i);return i&&i(N),N}};return D}function lh(t){if(Vu(t))return t=ts(t),t.children=null,t}function J0(t){if(!Vu(t))return rN(t.type)&&t.children?oN(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:r}=t;if(r){if(e&16)return r[0];if(e&32&&st(r.default))return r.default()}}function vu(t,e){t.shapeFlag&6&&t.component?(t.transition=e,vu(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function uN(t,e=!1,r){let n=[],i=0;for(let a=0;a<t.length;a++){let s=t[a];const o=r==null?s.key:String(r)+String(s.key!=null?s.key:a);s.type===Gt?(s.patchFlag&128&&i++,n=n.concat(uN(s.children,e,o))):(e||s.type!==an)&&n.push(o!=null?ts(s,{key:o}):s)}if(i>1)for(let a=0;a<n.length;a++)n[a].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function fr(t,e){return st(t)?Nr({name:t.name},e,{setup:t}):t}function nv(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Bf(t,e,r,n,i=!1){if(je(t)){t.forEach((h,m)=>Bf(h,e&&(je(e)?e[m]:e),r,n,i));return}if(Zl(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Bf(t,e,r,n.component.subTree);return}const a=n.shapeFlag&4?up(n.component):n.el,s=i?null:a,{i:o,r:l}=t,u=e&&e.r,c=o.refs===zt?o.refs={}:o.refs,f=o.setupState,d=Ct(f),p=f===zt?()=>!1:h=>_t(d,h);if(u!=null&&u!==l&&(Zt(u)?(c[u]=null,p(u)&&(f[u]=null)):Kr(u)&&(u.value=null)),st(l))Uu(l,o,12,[s,c]);else{const h=Zt(l),m=Kr(l);if(h||m){const v=()=>{if(t.f){const y=h?p(l)?f[l]:c[l]:l.value;i?je(y)&&jg(y,a):je(y)?y.includes(a)||y.push(a):h?(c[l]=[a],p(l)&&(f[l]=c[l])):(l.value=[a],t.k&&(c[t.k]=l.value))}else h?(c[l]=s,p(l)&&(f[l]=s)):m&&(l.value=s,t.k&&(c[t.k]=s))};s?(v.id=-1,rn(v,r)):v()}}}const Y0=t=>t.nodeType===8;tp().requestIdleCallback;tp().cancelIdleCallback;function gO(t,e){if(Y0(t)&&t.data==="["){let r=1,n=t.nextSibling;for(;n;){if(n.nodeType===1){if(e(n)===!1)break}else if(Y0(n))if(n.data==="]"){if(--r===0)break}else n.data==="["&&r++;n=n.nextSibling}}else e(t)}const Zl=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function vO(t){st(t)&&(t={loader:t});const{loader:e,loadingComponent:r,errorComponent:n,delay:i=200,hydrate:a,timeout:s,suspensible:o=!0,onError:l}=t;let u=null,c,f=0;const d=()=>(f++,u=null,p()),p=()=>{let h;return u||(h=u=e().catch(m=>{if(m=m instanceof Error?m:new Error(String(m)),l)return new Promise((v,y)=>{l(m,()=>v(d()),()=>y(m),f+1)});throw m}).then(m=>h!==u&&u?u:(m&&(m.__esModule||m[Symbol.toStringTag]==="Module")&&(m=m.default),c=m,m)))};return fr({name:"AsyncComponentWrapper",__asyncLoader:p,__asyncHydrate(h,m,v){const y=a?()=>{const S=a(v,g=>gO(h,g));S&&(m.bum||(m.bum=[])).push(S)}:v;c?y():p().then(()=>!m.isUnmounted&&y())},get __asyncResolved(){return c},setup(){const h=wr;if(nv(h),c)return()=>uh(c,h);const m=g=>{u=null,Hu(g,h,13,!n)};if(o&&h.suspense||Ko)return p().then(g=>()=>uh(g,h)).catch(g=>(m(g),()=>n?dt(n,{error:g}):null));const v=Pe(!1),y=Pe(),S=Pe(!!i);return i&&setTimeout(()=>{S.value=!1},i),s!=null&&setTimeout(()=>{if(!v.value&&!y.value){const g=new Error(`Async component timed out after ${s}ms.`);m(g),y.value=g}},s),p().then(()=>{v.value=!0,h.parent&&Vu(h.parent.vnode)&&h.parent.update()}).catch(g=>{m(g),y.value=g}),()=>{if(v.value&&c)return uh(c,h);if(y.value&&n)return dt(n,{error:y.value});if(r&&!S.value)return dt(r)}}})}function uh(t,e){const{ref:r,props:n,children:i,ce:a}=e.vnode,s=dt(t,n,i);return s.ref=r,s.ce=a,delete e.vnode.ce,s}const Vu=t=>t.type.__isKeepAlive;function yO(t,e){cN(t,"a",e)}function bO(t,e){cN(t,"da",e)}function cN(t,e,r=wr){const n=t.__wdc||(t.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(sp(e,n,r),r){let i=r.parent;for(;i&&i.parent;)Vu(i.parent.vnode)&&xO(n,e,r,i),i=i.parent}}function xO(t,e,r,n){const i=sp(e,t,n,!0);Wu(()=>{jg(n[e],i)},r)}function sp(t,e,r=wr,n=!1){if(r){const i=r[t]||(r[t]=[]),a=e.__weh||(e.__weh=(...s)=>{ga();const o=Gu(r),l=pi(e,r,t,s);return o(),va(),l});return n?i.unshift(a):i.push(a),a}}const xa=t=>(e,r=wr)=>{(!Ko||t==="sp")&&sp(t,(...n)=>e(...n),r)},wO=xa("bm"),jt=xa("m"),fN=xa("bu"),iv=xa("u"),fl=xa("bum"),Wu=xa("um"),SO=xa("sp"),EO=xa("rtg"),AO=xa("rtc");function NO(t,e=wr){sp("ec",t,e)}const dN="components";function DO(t,e){return hN(dN,t,!0,e)||t}const pN=Symbol.for("v-ndc");function CO(t){return Zt(t)?hN(dN,t,!1)||t:t||pN}function hN(t,e,r=!0,n=!1){const i=Sn||wr;if(i){const a=i.type;{const o=h3(a,!1);if(o&&(o===e||o===Xn(e)||o===ep(Xn(e))))return a}const s=X0(i[t]||a[t],e)||X0(i.appContext[t],e);return!s&&n?a:s}}function X0(t,e){return t&&(t[e]||t[Xn(e)]||t[ep(Xn(e))])}function fa(t,e,r,n){let i;const a=r,s=je(t);if(s||Zt(t)){const o=s&&Ro(t);let l=!1,u=!1;o&&(l=!jn(t),u=es(t),t=ip(t)),i=new Array(t.length);for(let c=0,f=t.length;c<f;c++)i[c]=e(l?u?Tf(Or(t[c])):Or(t[c]):t[c],c,void 0,a)}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,a)}else if(Ht(t))if(t[Symbol.iterator])i=Array.from(t,(o,l)=>e(o,l,void 0,a));else{const o=Object.keys(t);i=new Array(o.length);for(let l=0,u=o.length;l<u;l++){const c=o[l];i[l]=e(t[c],c,l,a)}}else i=[];return i}const Dm=t=>t?kN(t)?up(t):Dm(t.parent):null,Ql=Nr(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Dm(t.parent),$root:t=>Dm(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>gN(t),$forceUpdate:t=>t.f||(t.f=()=>{tv(t.update)}),$nextTick:t=>t.n||(t.n=ap.bind(t.proxy)),$watch:t=>JO.bind(t)}),ch=(t,e)=>t!==zt&&!t.__isScriptSetup&&_t(t,e),MO={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:i,props:a,accessCache:s,type:o,appContext:l}=t;let u;if(e[0]!=="$"){const p=s[e];if(p!==void 0)switch(p){case 1:return n[e];case 2:return i[e];case 4:return r[e];case 3:return a[e]}else{if(ch(n,e))return s[e]=1,n[e];if(i!==zt&&_t(i,e))return s[e]=2,i[e];if((u=t.propsOptions[0])&&_t(u,e))return s[e]=3,a[e];if(r!==zt&&_t(r,e))return s[e]=4,r[e];Cm&&(s[e]=0)}}const c=Ql[e];let f,d;if(c)return e==="$attrs"&&Vr(t.attrs,"get",""),c(t);if((f=o.__cssModules)&&(f=f[e]))return f;if(r!==zt&&_t(r,e))return s[e]=4,r[e];if(d=l.config.globalProperties,_t(d,e))return d[e]},set({_:t},e,r){const{data:n,setupState:i,ctx:a}=t;return ch(i,e)?(i[e]=r,!0):n!==zt&&_t(n,e)?(n[e]=r,!0):_t(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(a[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:i,propsOptions:a}},s){let o;return!!r[s]||t!==zt&&_t(t,s)||ch(e,s)||(o=a[0])&&_t(o,s)||_t(n,s)||_t(Ql,s)||_t(i.config.globalProperties,s)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:_t(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function Z0(t){return je(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let Cm=!0;function TO(t){const e=gN(t),r=t.proxy,n=t.ctx;Cm=!1,e.beforeCreate&&Q0(e.beforeCreate,t,"bc");const{data:i,computed:a,methods:s,watch:o,provide:l,inject:u,created:c,beforeMount:f,mounted:d,beforeUpdate:p,updated:h,activated:m,deactivated:v,beforeDestroy:y,beforeUnmount:S,destroyed:g,unmounted:w,render:x,renderTracked:b,renderTriggered:A,errorCaptured:D,serverPrefetch:E,expose:N,inheritAttrs:C,components:M,directives:F,filters:I}=e;if(u&&_O(u,n,null),s)for(const L in s){const _=s[L];st(_)&&(n[L]=_.bind(r))}if(i){const L=i.call(r,r);Ht(L)&&(t.data=qu(L))}if(Cm=!0,a)for(const L in a){const _=a[L],H=st(_)?_.bind(r,r):st(_.get)?_.get.bind(r,r):ki,k=!st(_)&&st(_.set)?_.set.bind(r):ki,ie=kr({get:H,set:k});Object.defineProperty(n,L,{enumerable:!0,configurable:!0,get:()=>ie.value,set:ee=>ie.value=ee})}if(o)for(const L in o)mN(o[L],n,r,L);if(l){const L=st(l)?l.call(r):l;Reflect.ownKeys(L).forEach(_=>{Lo(_,L[_])})}c&&Q0(c,t,"c");function T(L,_){je(_)?_.forEach(H=>L(H.bind(r))):_&&L(_.bind(r))}if(T(wO,f),T(jt,d),T(fN,p),T(iv,h),T(yO,m),T(bO,v),T(NO,D),T(AO,b),T(EO,A),T(fl,S),T(Wu,w),T(SO,E),je(N))if(N.length){const L=t.exposed||(t.exposed={});N.forEach(_=>{Object.defineProperty(L,_,{get:()=>r[_],set:H=>r[_]=H})})}else t.exposed||(t.exposed={});x&&t.render===ki&&(t.render=x),C!=null&&(t.inheritAttrs=C),M&&(t.components=M),F&&(t.directives=F),E&&nv(t)}function _O(t,e,r=ki){je(t)&&(t=Mm(t));for(const n in t){const i=t[n];let a;Ht(i)?"default"in i?a=ci(i.from||n,i.default,!0):a=ci(i.from||n):a=ci(i),Kr(a)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:s=>a.value=s}):e[n]=a}}function Q0(t,e,r){pi(je(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function mN(t,e,r,n){let i=n.includes(".")?CN(r,n):()=>r[n];if(Zt(t)){const a=e[t];st(a)&&Kn(i,a)}else if(st(t))Kn(i,t.bind(r));else if(Ht(t))if(je(t))t.forEach(a=>mN(a,e,r,n));else{const a=st(t.handler)?t.handler.bind(r):e[t.handler];st(a)&&Kn(i,a,t)}}function gN(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:i,optionsCache:a,config:{optionMergeStrategies:s}}=t.appContext,o=a.get(e);let l;return o?l=o:!i.length&&!r&&!n?l=e:(l={},i.length&&i.forEach(u=>kf(l,u,s,!0)),kf(l,e,s)),Ht(e)&&a.set(e,l),l}function kf(t,e,r,n=!1){const{mixins:i,extends:a}=e;a&&kf(t,a,r,!0),i&&i.forEach(s=>kf(t,s,r,!0));for(const s in e)if(!(n&&s==="expose")){const o=OO[s]||r&&r[s];t[s]=o?o(t[s],e[s]):e[s]}return t}const OO={data:ey,props:ty,emits:ty,methods:zl,computed:zl,beforeCreate:tn,created:tn,beforeMount:tn,mounted:tn,beforeUpdate:tn,updated:tn,beforeDestroy:tn,beforeUnmount:tn,destroyed:tn,unmounted:tn,activated:tn,deactivated:tn,errorCaptured:tn,serverPrefetch:tn,components:zl,directives:zl,watch:BO,provide:ey,inject:FO};function ey(t,e){return e?t?function(){return Nr(st(t)?t.call(this,this):t,st(e)?e.call(this,this):e)}:e:t}function FO(t,e){return zl(Mm(t),Mm(e))}function Mm(t){if(je(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function tn(t,e){return t?[...new Set([].concat(t,e))]:e}function zl(t,e){return t?Nr(Object.create(null),t,e):e}function ty(t,e){return t?je(t)&&je(e)?[...new Set([...t,...e])]:Nr(Object.create(null),Z0(t),Z0(e??{})):e}function BO(t,e){if(!t)return e;if(!e)return t;const r=Nr(Object.create(null),t);for(const n in e)r[n]=tn(t[n],e[n]);return r}function vN(){return{app:null,config:{isNativeTag:w_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let kO=0;function IO(t,e){return function(n,i=null){st(n)||(n=Nr({},n)),i!=null&&!Ht(i)&&(i=null);const a=vN(),s=new WeakSet,o=[];let l=!1;const u=a.app={_uid:kO++,_component:n,_props:i,_container:null,_context:a,_instance:null,version:g3,get config(){return a.config},set config(c){},use(c,...f){return s.has(c)||(c&&st(c.install)?(s.add(c),c.install(u,...f)):st(c)&&(s.add(c),c(u,...f))),u},mixin(c){return a.mixins.includes(c)||a.mixins.push(c),u},component(c,f){return f?(a.components[c]=f,u):a.components[c]},directive(c,f){return f?(a.directives[c]=f,u):a.directives[c]},mount(c,f,d){if(!l){const p=u._ceVNode||dt(n,i);return p.appContext=a,d===!0?d="svg":d===!1&&(d=void 0),t(p,c,d),l=!0,u._container=c,c.__vue_app__=u,up(p.component)}},onUnmount(c){o.push(c)},unmount(){l&&(pi(o,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,f){return a.provides[c]=f,u},runWithContext(c){const f=$o;$o=u;try{return c()}finally{$o=f}}};return u}}let $o=null;function Lo(t,e){if(wr){let r=wr.provides;const n=wr.parent&&wr.parent.provides;n===r&&(r=wr.provides=Object.create(n)),r[t]=e}}function ci(t,e,r=!1){const n=wr||Sn;if(n||$o){const i=$o?$o._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return r&&st(e)?e.call(n&&n.proxy):e}}const yN={},bN=()=>Object.create(yN),xN=t=>Object.getPrototypeOf(t)===yN;function RO(t,e,r,n=!1){const i={},a=bN();t.propsDefaults=Object.create(null),wN(t,e,i,a);for(const s in t.propsOptions[0])s in i||(i[s]=void 0);r?t.props=n?i:WA(i):t.type.props?t.props=i:t.props=a,t.attrs=a}function PO(t,e,r,n){const{props:i,attrs:a,vnode:{patchFlag:s}}=t,o=Ct(i),[l]=t.propsOptions;let u=!1;if((n||s>0)&&!(s&16)){if(s&8){const c=t.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(op(t.emitsOptions,d))continue;const p=e[d];if(l)if(_t(a,d))p!==a[d]&&(a[d]=p,u=!0);else{const h=Xn(d);i[h]=Tm(l,o,h,p,t,!1)}else p!==a[d]&&(a[d]=p,u=!0)}}}else{wN(t,e,i,a)&&(u=!0);let c;for(const f in o)(!e||!_t(e,f)&&((c=to(f))===f||!_t(e,c)))&&(l?r&&(r[f]!==void 0||r[c]!==void 0)&&(i[f]=Tm(l,o,f,void 0,t,!0)):delete i[f]);if(a!==o)for(const f in a)(!e||!_t(e,f))&&(delete a[f],u=!0)}u&&ia(t.attrs,"set","")}function wN(t,e,r,n){const[i,a]=t.propsOptions;let s=!1,o;if(e)for(let l in e){if(Kl(l))continue;const u=e[l];let c;i&&_t(i,c=Xn(l))?!a||!a.includes(c)?r[c]=u:(o||(o={}))[c]=u:op(t.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,s=!0)}if(a){const l=Ct(r),u=o||zt;for(let c=0;c<a.length;c++){const f=a[c];r[f]=Tm(i,l,f,u[f],t,!_t(u,f))}}return s}function Tm(t,e,r,n,i,a){const s=t[r];if(s!=null){const o=_t(s,"default");if(o&&n===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&st(l)){const{propsDefaults:u}=i;if(r in u)n=u[r];else{const c=Gu(i);n=u[r]=l.call(null,e),c()}}else n=l;i.ce&&i.ce._setProp(r,n)}s[0]&&(a&&!o?n=!1:s[1]&&(n===""||n===to(r))&&(n=!0))}return n}const $O=new WeakMap;function SN(t,e,r=!1){const n=r?$O:e.propsCache,i=n.get(t);if(i)return i;const a=t.props,s={},o=[];let l=!1;if(!st(t)){const c=f=>{l=!0;const[d,p]=SN(f,e,!0);Nr(s,d),p&&o.push(...p)};!r&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!a&&!l)return Ht(t)&&n.set(t,ko),ko;if(je(a))for(let c=0;c<a.length;c++){const f=Xn(a[c]);ry(f)&&(s[f]=zt)}else if(a)for(const c in a){const f=Xn(c);if(ry(f)){const d=a[c],p=s[f]=je(d)||st(d)?{type:d}:Nr({},d),h=p.type;let m=!1,v=!0;if(je(h))for(let y=0;y<h.length;++y){const S=h[y],g=st(S)&&S.name;if(g==="Boolean"){m=!0;break}else g==="String"&&(v=!1)}else m=st(h)&&h.name==="Boolean";p[0]=m,p[1]=v,(m||_t(p,"default"))&&o.push(f)}}const u=[s,o];return Ht(t)&&n.set(t,u),u}function ry(t){return t[0]!=="$"&&!Kl(t)}const av=t=>t[0]==="_"||t==="$stable",sv=t=>je(t)?t.map(Oi):[Oi(t)],LO=(t,e,r)=>{if(e._n)return e;const n=Fs((...i)=>sv(e(...i)),r);return n._c=!1,n},EN=(t,e,r)=>{const n=t._ctx;for(const i in t){if(av(i))continue;const a=t[i];if(st(a))e[i]=LO(i,a,n);else if(a!=null){const s=sv(a);e[i]=()=>s}}},AN=(t,e)=>{const r=sv(e);t.slots.default=()=>r},NN=(t,e,r)=>{for(const n in e)(r||!av(n))&&(t[n]=e[n])},zO=(t,e,r)=>{const n=t.slots=bN();if(t.vnode.shapeFlag&32){const i=e._;i?(NN(n,e,r),r&&DA(n,"_",i,!0)):EN(e,n)}else e&&AN(t,e)},qO=(t,e,r)=>{const{vnode:n,slots:i}=t;let a=!0,s=zt;if(n.shapeFlag&32){const o=e._;o?r&&o===1?a=!1:NN(i,e,r):(a=!e.$stable,EN(e,i)),s=e}else e&&(AN(t,e),s={default:1});if(a)for(const o in i)!av(o)&&s[o]==null&&delete i[o]},rn=r3;function UO(t){return HO(t)}function HO(t,e){const r=tp();r.__VUE__=!0;const{insert:n,remove:i,patchProp:a,createElement:s,createText:o,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:d,setScopeId:p=ki,insertStaticContent:h}=t,m=(B,q,G,se=null,P=null,z=null,Y=void 0,ne=null,oe=!!q.dynamicChildren)=>{if(B===q)return;B&&!Cs(B,q)&&(se=j(B),ee(B,P,z,!0),B=null),q.patchFlag===-2&&(oe=!1,q.dynamicChildren=null);const{type:le,ref:ve,shapeFlag:$}=q;switch(le){case lp:v(B,q,G,se);break;case an:y(B,q,G,se);break;case lf:B==null&&S(q,G,se,Y);break;case Gt:M(B,q,G,se,P,z,Y,ne,oe);break;default:$&1?x(B,q,G,se,P,z,Y,ne,oe):$&6?F(B,q,G,se,P,z,Y,ne,oe):($&64||$&128)&&le.process(B,q,G,se,P,z,Y,ne,oe,K)}ve!=null&&P&&Bf(ve,B&&B.ref,z,q||B,!q)},v=(B,q,G,se)=>{if(B==null)n(q.el=o(q.children),G,se);else{const P=q.el=B.el;q.children!==B.children&&u(P,q.children)}},y=(B,q,G,se)=>{B==null?n(q.el=l(q.children||""),G,se):q.el=B.el},S=(B,q,G,se)=>{[B.el,B.anchor]=h(B.children,q,G,se,B.el,B.anchor)},g=({el:B,anchor:q},G,se)=>{let P;for(;B&&B!==q;)P=d(B),n(B,G,se),B=P;n(q,G,se)},w=({el:B,anchor:q})=>{let G;for(;B&&B!==q;)G=d(B),i(B),B=G;i(q)},x=(B,q,G,se,P,z,Y,ne,oe)=>{q.type==="svg"?Y="svg":q.type==="math"&&(Y="mathml"),B==null?b(q,G,se,P,z,Y,ne,oe):E(B,q,P,z,Y,ne,oe)},b=(B,q,G,se,P,z,Y,ne)=>{let oe,le;const{props:ve,shapeFlag:$,transition:J,dirs:re}=B;if(oe=B.el=s(B.type,z,ve&&ve.is,ve),$&8?c(oe,B.children):$&16&&D(B.children,oe,null,se,P,fh(B,z),Y,ne),re&&xs(B,null,se,"created"),A(oe,B,B.scopeId,Y,se),ve){for(const he in ve)he!=="value"&&!Kl(he)&&a(oe,he,null,ve[he],z,se);"value"in ve&&a(oe,"value",null,ve.value,z),(le=ve.onVnodeBeforeMount)&&Di(le,se,B)}re&&xs(B,null,se,"beforeMount");const fe=VO(P,J);fe&&J.beforeEnter(oe),n(oe,q,G),((le=ve&&ve.onVnodeMounted)||fe||re)&&rn(()=>{le&&Di(le,se,B),fe&&J.enter(oe),re&&xs(B,null,se,"mounted")},P)},A=(B,q,G,se,P)=>{if(G&&p(B,G),se)for(let z=0;z<se.length;z++)p(B,se[z]);if(P){let z=P.subTree;if(q===z||TN(z.type)&&(z.ssContent===q||z.ssFallback===q)){const Y=P.vnode;A(B,Y,Y.scopeId,Y.slotScopeIds,P.parent)}}},D=(B,q,G,se,P,z,Y,ne,oe=0)=>{for(let le=oe;le<B.length;le++){const ve=B[le]=ne?Fa(B[le]):Oi(B[le]);m(null,ve,q,G,se,P,z,Y,ne)}},E=(B,q,G,se,P,z,Y)=>{const ne=q.el=B.el;let{patchFlag:oe,dynamicChildren:le,dirs:ve}=q;oe|=B.patchFlag&16;const $=B.props||zt,J=q.props||zt;let re;if(G&&ws(G,!1),(re=J.onVnodeBeforeUpdate)&&Di(re,G,q,B),ve&&xs(q,B,G,"beforeUpdate"),G&&ws(G,!0),($.innerHTML&&J.innerHTML==null||$.textContent&&J.textContent==null)&&c(ne,""),le?N(B.dynamicChildren,le,ne,G,se,fh(q,P),z):Y||_(B,q,ne,null,G,se,fh(q,P),z,!1),oe>0){if(oe&16)C(ne,$,J,G,P);else if(oe&2&&$.class!==J.class&&a(ne,"class",null,J.class,P),oe&4&&a(ne,"style",$.style,J.style,P),oe&8){const fe=q.dynamicProps;for(let he=0;he<fe.length;he++){const me=fe[he],Ae=$[me],xe=J[me];(xe!==Ae||me==="value")&&a(ne,me,Ae,xe,P,G)}}oe&1&&B.children!==q.children&&c(ne,q.children)}else!Y&&le==null&&C(ne,$,J,G,P);((re=J.onVnodeUpdated)||ve)&&rn(()=>{re&&Di(re,G,q,B),ve&&xs(q,B,G,"updated")},se)},N=(B,q,G,se,P,z,Y)=>{for(let ne=0;ne<q.length;ne++){const oe=B[ne],le=q[ne],ve=oe.el&&(oe.type===Gt||!Cs(oe,le)||oe.shapeFlag&70)?f(oe.el):G;m(oe,le,ve,null,se,P,z,Y,!0)}},C=(B,q,G,se,P)=>{if(q!==G){if(q!==zt)for(const z in q)!Kl(z)&&!(z in G)&&a(B,z,q[z],null,P,se);for(const z in G){if(Kl(z))continue;const Y=G[z],ne=q[z];Y!==ne&&z!=="value"&&a(B,z,ne,Y,P,se)}"value"in G&&a(B,"value",q.value,G.value,P)}},M=(B,q,G,se,P,z,Y,ne,oe)=>{const le=q.el=B?B.el:o(""),ve=q.anchor=B?B.anchor:o("");let{patchFlag:$,dynamicChildren:J,slotScopeIds:re}=q;re&&(ne=ne?ne.concat(re):re),B==null?(n(le,G,se),n(ve,G,se),D(q.children||[],G,ve,P,z,Y,ne,oe)):$>0&&$&64&&J&&B.dynamicChildren?(N(B.dynamicChildren,J,G,P,z,Y,ne),(q.key!=null||P&&q===P.subTree)&&ov(B,q,!0)):_(B,q,G,ve,P,z,Y,ne,oe)},F=(B,q,G,se,P,z,Y,ne,oe)=>{q.slotScopeIds=ne,B==null?q.shapeFlag&512?P.ctx.activate(q,G,se,Y,oe):I(q,G,se,P,z,Y,oe):R(B,q,oe)},I=(B,q,G,se,P,z,Y)=>{const ne=B.component=u3(B,se,P);if(Vu(B)&&(ne.ctx.renderer=K),c3(ne,!1,Y),ne.asyncDep){if(P&&P.registerDep(ne,T,Y),!B.el){const oe=ne.subTree=dt(an);y(null,oe,q,G)}}else T(ne,B,q,G,P,z,Y)},R=(B,q,G)=>{const se=q.component=B.component;if(e3(B,q,G))if(se.asyncDep&&!se.asyncResolved){L(se,q,G);return}else se.next=q,se.update();else q.el=B.el,se.vnode=q},T=(B,q,G,se,P,z,Y)=>{const ne=()=>{if(B.isMounted){let{next:$,bu:J,u:re,parent:fe,vnode:he}=B;{const we=DN(B);if(we){$&&($.el=he.el,L(B,$,Y)),we.asyncDep.then(()=>{B.isUnmounted||ne()});return}}let me=$,Ae;ws(B,!1),$?($.el=he.el,L(B,$,Y)):$=he,J&&sf(J),(Ae=$.props&&$.props.onVnodeBeforeUpdate)&&Di(Ae,fe,$,he),ws(B,!0);const xe=iy(B),De=B.subTree;B.subTree=xe,m(De,xe,f(De.el),j(De),B,P,z),$.el=xe.el,me===null&&t3(B,xe.el),re&&rn(re,P),(Ae=$.props&&$.props.onVnodeUpdated)&&rn(()=>Di(Ae,fe,$,he),P)}else{let $;const{el:J,props:re}=q,{bm:fe,m:he,parent:me,root:Ae,type:xe}=B,De=Zl(q);ws(B,!1),fe&&sf(fe),!De&&($=re&&re.onVnodeBeforeMount)&&Di($,me,q),ws(B,!0);{Ae.ce&&Ae.ce._injectChildStyle(xe);const we=B.subTree=iy(B);m(null,we,G,se,B,P,z),q.el=we.el}if(he&&rn(he,P),!De&&($=re&&re.onVnodeMounted)){const we=q;rn(()=>Di($,me,we),P)}(q.shapeFlag&256||me&&Zl(me.vnode)&&me.vnode.shapeFlag&256)&&B.a&&rn(B.a,P),B.isMounted=!0,q=G=se=null}};B.scope.on();const oe=B.effect=new OA(ne);B.scope.off();const le=B.update=oe.run.bind(oe),ve=B.job=oe.runIfDirty.bind(oe);ve.i=B,ve.id=B.uid,oe.scheduler=()=>tv(ve),ws(B,!0),le()},L=(B,q,G)=>{q.component=B;const se=B.vnode.props;B.vnode=q,B.next=null,PO(B,q.props,se,G),qO(B,q.children,G),ga(),W0(B),va()},_=(B,q,G,se,P,z,Y,ne,oe=!1)=>{const le=B&&B.children,ve=B?B.shapeFlag:0,$=q.children,{patchFlag:J,shapeFlag:re}=q;if(J>0){if(J&128){k(le,$,G,se,P,z,Y,ne,oe);return}else if(J&256){H(le,$,G,se,P,z,Y,ne,oe);return}}re&8?(ve&16&&de(le,P,z),$!==le&&c(G,$)):ve&16?re&16?k(le,$,G,se,P,z,Y,ne,oe):de(le,P,z,!0):(ve&8&&c(G,""),re&16&&D($,G,se,P,z,Y,ne,oe))},H=(B,q,G,se,P,z,Y,ne,oe)=>{B=B||ko,q=q||ko;const le=B.length,ve=q.length,$=Math.min(le,ve);let J;for(J=0;J<$;J++){const re=q[J]=oe?Fa(q[J]):Oi(q[J]);m(B[J],re,G,null,P,z,Y,ne,oe)}le>ve?de(B,P,z,!0,!1,$):D(q,G,se,P,z,Y,ne,oe,$)},k=(B,q,G,se,P,z,Y,ne,oe)=>{let le=0;const ve=q.length;let $=B.length-1,J=ve-1;for(;le<=$&&le<=J;){const re=B[le],fe=q[le]=oe?Fa(q[le]):Oi(q[le]);if(Cs(re,fe))m(re,fe,G,null,P,z,Y,ne,oe);else break;le++}for(;le<=$&&le<=J;){const re=B[$],fe=q[J]=oe?Fa(q[J]):Oi(q[J]);if(Cs(re,fe))m(re,fe,G,null,P,z,Y,ne,oe);else break;$--,J--}if(le>$){if(le<=J){const re=J+1,fe=re<ve?q[re].el:se;for(;le<=J;)m(null,q[le]=oe?Fa(q[le]):Oi(q[le]),G,fe,P,z,Y,ne,oe),le++}}else if(le>J)for(;le<=$;)ee(B[le],P,z,!0),le++;else{const re=le,fe=le,he=new Map;for(le=fe;le<=J;le++){const Qe=q[le]=oe?Fa(q[le]):Oi(q[le]);Qe.key!=null&&he.set(Qe.key,le)}let me,Ae=0;const xe=J-fe+1;let De=!1,we=0;const it=new Array(xe);for(le=0;le<xe;le++)it[le]=0;for(le=re;le<=$;le++){const Qe=B[le];if(Ae>=xe){ee(Qe,P,z,!0);continue}let O;if(Qe.key!=null)O=he.get(Qe.key);else for(me=fe;me<=J;me++)if(it[me-fe]===0&&Cs(Qe,q[me])){O=me;break}O===void 0?ee(Qe,P,z,!0):(it[O-fe]=le+1,O>=we?we=O:De=!0,m(Qe,q[O],G,null,P,z,Y,ne,oe),Ae++)}const Ie=De?WO(it):ko;for(me=Ie.length-1,le=xe-1;le>=0;le--){const Qe=fe+le,O=q[Qe],te=Qe+1<ve?q[Qe+1].el:se;it[le]===0?m(null,O,G,te,P,z,Y,ne,oe):De&&(me<0||le!==Ie[me]?ie(O,G,te,2):me--)}}},ie=(B,q,G,se,P=null)=>{const{el:z,type:Y,transition:ne,children:oe,shapeFlag:le}=B;if(le&6){ie(B.component.subTree,q,G,se);return}if(le&128){B.suspense.move(q,G,se);return}if(le&64){Y.move(B,q,G,K);return}if(Y===Gt){n(z,q,G);for(let $=0;$<oe.length;$++)ie(oe[$],q,G,se);n(B.anchor,q,G);return}if(Y===lf){g(B,q,G);return}if(se!==2&&le&1&&ne)if(se===0)ne.beforeEnter(z),n(z,q,G),rn(()=>ne.enter(z),P);else{const{leave:$,delayLeave:J,afterLeave:re}=ne,fe=()=>{B.ctx.isUnmounted?i(z):n(z,q,G)},he=()=>{$(z,()=>{fe(),re&&re()})};J?J(z,fe,he):he()}else n(z,q,G)},ee=(B,q,G,se=!1,P=!1)=>{const{type:z,props:Y,ref:ne,children:oe,dynamicChildren:le,shapeFlag:ve,patchFlag:$,dirs:J,cacheIndex:re}=B;if($===-2&&(P=!1),ne!=null&&(ga(),Bf(ne,null,G,B,!0),va()),re!=null&&(q.renderCache[re]=void 0),ve&256){q.ctx.deactivate(B);return}const fe=ve&1&&J,he=!Zl(B);let me;if(he&&(me=Y&&Y.onVnodeBeforeUnmount)&&Di(me,q,B),ve&6)pe(B.component,G,se);else{if(ve&128){B.suspense.unmount(G,se);return}fe&&xs(B,null,q,"beforeUnmount"),ve&64?B.type.remove(B,q,G,K,se):le&&!le.hasOnce&&(z!==Gt||$>0&&$&64)?de(le,q,G,!1,!0):(z===Gt&&$&384||!P&&ve&16)&&de(oe,q,G),se&&X(B)}(he&&(me=Y&&Y.onVnodeUnmounted)||fe)&&rn(()=>{me&&Di(me,q,B),fe&&xs(B,null,q,"unmounted")},G)},X=B=>{const{type:q,el:G,anchor:se,transition:P}=B;if(q===Gt){Z(G,se);return}if(q===lf){w(B);return}const z=()=>{i(G),P&&!P.persisted&&P.afterLeave&&P.afterLeave()};if(B.shapeFlag&1&&P&&!P.persisted){const{leave:Y,delayLeave:ne}=P,oe=()=>Y(G,z);ne?ne(B.el,z,oe):oe()}else z()},Z=(B,q)=>{let G;for(;B!==q;)G=d(B),i(B),B=G;i(q)},pe=(B,q,G)=>{const{bum:se,scope:P,job:z,subTree:Y,um:ne,m:oe,a:le,parent:ve,slots:{__:$}}=B;ny(oe),ny(le),se&&sf(se),ve&&je($)&&$.forEach(J=>{ve.renderCache[J]=void 0}),P.stop(),z&&(z.flags|=8,ee(Y,B,q,G)),ne&&rn(ne,q),rn(()=>{B.isUnmounted=!0},q),q&&q.pendingBranch&&!q.isUnmounted&&B.asyncDep&&!B.asyncResolved&&B.suspenseId===q.pendingId&&(q.deps--,q.deps===0&&q.resolve())},de=(B,q,G,se=!1,P=!1,z=0)=>{for(let Y=z;Y<B.length;Y++)ee(B[Y],q,G,se,P)},j=B=>{if(B.shapeFlag&6)return j(B.component.subTree);if(B.shapeFlag&128)return B.suspense.next();const q=d(B.anchor||B.el),G=q&&q[tN];return G?d(G):q};let W=!1;const U=(B,q,G)=>{B==null?q._vnode&&ee(q._vnode,null,null,!0):m(q._vnode||null,B,q,null,null,null,G),q._vnode=B,W||(W=!0,W0(),ZA(),W=!1)},K={p:m,um:ee,m:ie,r:X,mt:I,mc:D,pc:_,pbc:N,n:j,o:t};return{render:U,hydrate:void 0,createApp:IO(U)}}function fh({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function ws({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function VO(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function ov(t,e,r=!1){const n=t.children,i=e.children;if(je(n)&&je(i))for(let a=0;a<n.length;a++){const s=n[a];let o=i[a];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[a]=Fa(i[a]),o.el=s.el),!r&&o.patchFlag!==-2&&ov(s,o)),o.type===lp&&(o.el=s.el),o.type===an&&!o.el&&(o.el=s.el)}}function WO(t){const e=t.slice(),r=[0];let n,i,a,s,o;const l=t.length;for(n=0;n<l;n++){const u=t[n];if(u!==0){if(i=r[r.length-1],t[i]<u){e[n]=i,r.push(n);continue}for(a=0,s=r.length-1;a<s;)o=a+s>>1,t[r[o]]<u?a=o+1:s=o;u<t[r[a]]&&(a>0&&(e[n]=r[a-1]),r[a]=n)}}for(a=r.length,s=r[a-1];a-- >0;)r[a]=s,s=e[s];return r}function DN(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:DN(e)}function ny(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const GO=Symbol.for("v-scx"),jO=()=>ci(GO);function KO(t,e){return lv(t,null,e)}function Kn(t,e,r){return lv(t,e,r)}function lv(t,e,r=zt){const{immediate:n,deep:i,flush:a,once:s}=r,o=Nr({},r),l=e&&n||!e&&a!=="post";let u;if(Ko){if(a==="sync"){const p=jO();u=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=ki,p.resume=ki,p.pause=ki,p}}const c=wr;o.call=(p,h,m)=>pi(p,c,h,m);let f=!1;a==="post"?o.scheduler=p=>{rn(p,c&&c.suspense)}:a!=="sync"&&(f=!0,o.scheduler=(p,h)=>{h?p():tv(p)}),o.augmentJob=p=>{e&&(p.flags|=4),f&&(p.flags|=2,c&&(p.id=c.uid,p.i=c))};const d=lO(t,e,o);return Ko&&(u?u.push(d):l&&d()),d}function JO(t,e,r){const n=this.proxy,i=Zt(t)?t.includes(".")?CN(n,t):()=>n[t]:t.bind(n,n);let a;st(e)?a=e:(a=e.handler,r=e);const s=Gu(this),o=lv(i,a.bind(n),r);return s(),o}function CN(t,e){const r=e.split(".");return()=>{let n=t;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}const YO=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Xn(e)}Modifiers`]||t[`${to(e)}Modifiers`];function XO(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||zt;let i=r;const a=e.startsWith("update:"),s=a&&YO(n,e.slice(7));s&&(s.trim&&(i=r.map(c=>Zt(c)?c.trim():c)),s.number&&(i=r.map(bm)));let o,l=n[o=nh(e)]||n[o=nh(Xn(e))];!l&&a&&(l=n[o=nh(to(e))]),l&&pi(l,t,6,i);const u=n[o+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,pi(u,t,6,i)}}function MN(t,e,r=!1){const n=e.emitsCache,i=n.get(t);if(i!==void 0)return i;const a=t.emits;let s={},o=!1;if(!st(t)){const l=u=>{const c=MN(u,e,!0);c&&(o=!0,Nr(s,c))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!a&&!o?(Ht(t)&&n.set(t,null),null):(je(a)?a.forEach(l=>s[l]=null):Nr(s,a),Ht(t)&&n.set(t,s),s)}function op(t,e){return!t||!Xd(e)?!1:(e=e.slice(2).replace(/Once$/,""),_t(t,e[0].toLowerCase()+e.slice(1))||_t(t,to(e))||_t(t,e))}function iy(t){const{type:e,vnode:r,proxy:n,withProxy:i,propsOptions:[a],slots:s,attrs:o,emit:l,render:u,renderCache:c,props:f,data:d,setupState:p,ctx:h,inheritAttrs:m}=t,v=Ff(t);let y,S;try{if(r.shapeFlag&4){const w=i||n,x=w;y=Oi(u.call(x,w,c,f,p,d,h)),S=o}else{const w=e;y=Oi(w.length>1?w(f,{attrs:o,slots:s,emit:l}):w(f,null)),S=e.props?o:ZO(o)}}catch(w){eu.length=0,Hu(w,t,1),y=dt(an)}let g=y;if(S&&m!==!1){const w=Object.keys(S),{shapeFlag:x}=g;w.length&&x&7&&(a&&w.some(Gg)&&(S=QO(S,a)),g=ts(g,S,!1,!0))}return r.dirs&&(g=ts(g,null,!1,!0),g.dirs=g.dirs?g.dirs.concat(r.dirs):r.dirs),r.transition&&vu(g,r.transition),y=g,Ff(v),y}const ZO=t=>{let e;for(const r in t)(r==="class"||r==="style"||Xd(r))&&((e||(e={}))[r]=t[r]);return e},QO=(t,e)=>{const r={};for(const n in t)(!Gg(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function e3(t,e,r){const{props:n,children:i,component:a}=t,{props:s,children:o,patchFlag:l}=e,u=a.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?ay(n,s,u):!!s;if(l&8){const c=e.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(s[d]!==n[d]&&!op(u,d))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:n===s?!1:n?s?ay(n,s,u):!0:!!s;return!1}function ay(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const a=n[i];if(e[a]!==t[a]&&!op(r,a))return!0}return!1}function t3({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const TN=t=>t.__isSuspense;function r3(t,e){e&&e.pendingBranch?je(t)?e.effects.push(...t):e.effects.push(t):fO(t)}const Gt=Symbol.for("v-fgt"),lp=Symbol.for("v-txt"),an=Symbol.for("v-cmt"),lf=Symbol.for("v-stc"),eu=[];let _n=null;function ke(t=!1){eu.push(_n=t?null:[])}function n3(){eu.pop(),_n=eu[eu.length-1]||null}let yu=1;function sy(t,e=!1){yu+=t,t<0&&_n&&e&&(_n.hasOnce=!0)}function _N(t){return t.dynamicChildren=yu>0?_n||ko:null,n3(),yu>0&&_n&&_n.push(t),t}function Ve(t,e,r,n,i,a){return _N(ce(t,e,r,n,i,a,!0))}function fi(t,e,r,n,i){return _N(dt(t,e,r,n,i,!0))}function If(t){return t?t.__v_isVNode===!0:!1}function Cs(t,e){return t.type===e.type&&t.key===e.key}const ON=({key:t})=>t??null,uf=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?Zt(t)||Kr(t)||st(t)?{i:Sn,r:t,k:e,f:!!r}:t:null);function ce(t,e=null,r=null,n=0,i=null,a=t===Gt?0:1,s=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ON(e),ref:e&&uf(e),scopeId:eN,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Sn};return o?(uv(l,r),a&128&&t.normalize(l)):r&&(l.shapeFlag|=Zt(r)?8:16),yu>0&&!s&&_n&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&_n.push(l),l}const dt=i3;function i3(t,e=null,r=null,n=0,i=null,a=!1){if((!t||t===pN)&&(t=an),If(t)){const o=ts(t,e,!0);return r&&uv(o,r),yu>0&&!a&&_n&&(o.shapeFlag&6?_n[_n.indexOf(t)]=o:_n.push(o)),o.patchFlag=-2,o}if(m3(t)&&(t=t.__vccOpts),e){e=a3(e);let{class:o,style:l}=e;o&&!Zt(o)&&(e.class=ct(o)),Ht(l)&&(ev(l)&&!je(l)&&(l=Nr({},l)),e.style=ca(l))}const s=Zt(t)?1:TN(t)?128:rN(t)?64:Ht(t)?4:st(t)?2:0;return ce(t,e,r,n,i,s,a,!0)}function a3(t){return t?ev(t)||xN(t)?Nr({},t):t:null}function ts(t,e,r=!1,n=!1){const{props:i,ref:a,patchFlag:s,children:o,transition:l}=t,u=e?FN(i||{},e):i,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&ON(u),ref:e&&e.ref?r&&a?je(a)?a.concat(uf(e)):[a,uf(e)]:uf(e):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Gt?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ts(t.ssContent),ssFallback:t.ssFallback&&ts(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&vu(c,l.clone(c)),c}function ql(t=" ",e=0){return dt(lp,null,t,e)}function s3(t,e){const r=dt(lf,null,t);return r.staticCount=e,r}function Yt(t="",e=!1){return e?(ke(),fi(an,null,t)):dt(an,null,t)}function Oi(t){return t==null||typeof t=="boolean"?dt(an):je(t)?dt(Gt,null,t.slice()):If(t)?Fa(t):dt(lp,null,String(t))}function Fa(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ts(t)}function uv(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(je(e))r=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),uv(t,i()),i._c&&(i._d=!0));return}else{r=32;const i=e._;!i&&!xN(e)?e._ctx=Sn:i===3&&Sn&&(Sn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else st(e)?(e={default:e,_ctx:Sn},r=32):(e=String(e),n&64?(r=16,e=[ql(e)]):r=8);t.children=e,t.shapeFlag|=r}function FN(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=ct([e.class,n.class]));else if(i==="style")e.style=ca([e.style,n.style]);else if(Xd(i)){const a=e[i],s=n[i];s&&a!==s&&!(je(a)&&a.includes(s))&&(e[i]=a?[].concat(a,s):s)}else i!==""&&(e[i]=n[i])}return e}function Di(t,e,r,n=null){pi(t,e,7,[r,n])}const o3=vN();let l3=0;function u3(t,e,r){const n=t.type,i=(e?e.appContext:t.appContext)||o3,a={uid:l3++,vnode:t,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new k_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:SN(n,i),emitsOptions:MN(n,i),emit:null,emitted:null,propsDefaults:zt,inheritAttrs:n.inheritAttrs,ctx:zt,data:zt,props:zt,attrs:zt,slots:zt,refs:zt,setupState:zt,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=XO.bind(null,a),t.ce&&t.ce(a),a}let wr=null;const BN=()=>wr||Sn;let Rf,_m;{const t=tp(),e=(r,n)=>{let i;return(i=t[r])||(i=t[r]=[]),i.push(n),a=>{i.length>1?i.forEach(s=>s(a)):i[0](a)}};Rf=e("__VUE_INSTANCE_SETTERS__",r=>wr=r),_m=e("__VUE_SSR_SETTERS__",r=>Ko=r)}const Gu=t=>{const e=wr;return Rf(t),t.scope.on(),()=>{t.scope.off(),Rf(e)}},oy=()=>{wr&&wr.scope.off(),Rf(null)};function kN(t){return t.vnode.shapeFlag&4}let Ko=!1;function c3(t,e=!1,r=!1){e&&_m(e);const{props:n,children:i}=t.vnode,a=kN(t);RO(t,n,a,e),zO(t,i,r||e);const s=a?f3(t,e):void 0;return e&&_m(!1),s}function f3(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,MO);const{setup:n}=r;if(n){ga();const i=t.setupContext=n.length>1?p3(t):null,a=Gu(t),s=Uu(n,t,0,[t.props,i]),o=EA(s);if(va(),a(),(o||t.sp)&&!Zl(t)&&nv(t),o){if(s.then(oy,oy),e)return s.then(l=>{ly(t,l)}).catch(l=>{Hu(l,t,0)});t.asyncDep=s}else ly(t,s)}else IN(t)}function ly(t,e,r){st(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ht(e)&&(t.setupState=JA(e)),IN(t)}function IN(t,e,r){const n=t.type;t.render||(t.render=n.render||ki);{const i=Gu(t);ga();try{TO(t)}finally{va(),i()}}}const d3={get(t,e){return Vr(t,"get",""),t[e]}};function p3(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,d3),slots:t.slots,emit:t.emit,expose:e}}function up(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(JA(jA(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Ql)return Ql[r](t)},has(e,r){return r in e||r in Ql}})):t.proxy}function h3(t,e=!0){return st(t)?t.displayName||t.name:t.name||e&&t.__name}function m3(t){return st(t)&&"__vccOpts"in t}const kr=(t,e)=>sO(t,e,Ko);function Wr(t,e,r){const n=arguments.length;return n===2?Ht(e)&&!je(e)?If(e)?dt(t,null,[e]):dt(t,e):dt(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&If(r)&&(r=[r]),dt(t,e,r))}const g3="3.5.14";/**
* @vue/runtime-dom v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Om;const uy=typeof window<"u"&&window.trustedTypes;if(uy)try{Om=uy.createPolicy("vue",{createHTML:t=>t})}catch{}const RN=Om?t=>Om.createHTML(t):t=>t,v3="http://www.w3.org/2000/svg",y3="http://www.w3.org/1998/Math/MathML",ra=typeof document<"u"?document:null,cy=ra&&ra.createElement("template"),b3={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const i=e==="svg"?ra.createElementNS(v3,t):e==="mathml"?ra.createElementNS(y3,t):r?ra.createElement(t,{is:r}):ra.createElement(t);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>ra.createTextNode(t),createComment:t=>ra.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ra.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,i,a){const s=r?r.previousSibling:e.lastChild;if(i&&(i===a||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),r),!(i===a||!(i=i.nextSibling)););else{cy.innerHTML=RN(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const o=cy.content;if(n==="svg"||n==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,r)}return[s?s.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},Na="transition",Tl="animation",bu=Symbol("_vtc"),PN={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},x3=Nr({},aN,PN),w3=t=>(t.displayName="Transition",t.props=x3,t),cv=w3((t,{slots:e})=>Wr(mO,S3(t),e)),Ss=(t,e=[])=>{je(t)?t.forEach(r=>r(...e)):t&&t(...e)},fy=t=>t?je(t)?t.some(e=>e.length>1):t.length>1:!1;function S3(t){const e={};for(const M in t)M in PN||(e[M]=t[M]);if(t.css===!1)return e;const{name:r="v",type:n,duration:i,enterFromClass:a=`${r}-enter-from`,enterActiveClass:s=`${r}-enter-active`,enterToClass:o=`${r}-enter-to`,appearFromClass:l=a,appearActiveClass:u=s,appearToClass:c=o,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:d=`${r}-leave-active`,leaveToClass:p=`${r}-leave-to`}=t,h=E3(i),m=h&&h[0],v=h&&h[1],{onBeforeEnter:y,onEnter:S,onEnterCancelled:g,onLeave:w,onLeaveCancelled:x,onBeforeAppear:b=y,onAppear:A=S,onAppearCancelled:D=g}=e,E=(M,F,I,R)=>{M._enterCancelled=R,Es(M,F?c:o),Es(M,F?u:s),I&&I()},N=(M,F)=>{M._isLeaving=!1,Es(M,f),Es(M,p),Es(M,d),F&&F()},C=M=>(F,I)=>{const R=M?A:S,T=()=>E(F,M,I);Ss(R,[F,T]),dy(()=>{Es(F,M?l:a),Gi(F,M?c:o),fy(R)||py(F,n,m,T)})};return Nr(e,{onBeforeEnter(M){Ss(y,[M]),Gi(M,a),Gi(M,s)},onBeforeAppear(M){Ss(b,[M]),Gi(M,l),Gi(M,u)},onEnter:C(!1),onAppear:C(!0),onLeave(M,F){M._isLeaving=!0;const I=()=>N(M,F);Gi(M,f),M._enterCancelled?(Gi(M,d),gy()):(gy(),Gi(M,d)),dy(()=>{M._isLeaving&&(Es(M,f),Gi(M,p),fy(w)||py(M,n,v,I))}),Ss(w,[M,I])},onEnterCancelled(M){E(M,!1,void 0,!0),Ss(g,[M])},onAppearCancelled(M){E(M,!0,void 0,!0),Ss(D,[M])},onLeaveCancelled(M){N(M),Ss(x,[M])}})}function E3(t){if(t==null)return null;if(Ht(t))return[dh(t.enter),dh(t.leave)];{const e=dh(t);return[e,e]}}function dh(t){return D_(t)}function Gi(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[bu]||(t[bu]=new Set)).add(e)}function Es(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const r=t[bu];r&&(r.delete(e),r.size||(t[bu]=void 0))}function dy(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let A3=0;function py(t,e,r,n){const i=t._endId=++A3,a=()=>{i===t._endId&&n()};if(r!=null)return setTimeout(a,r);const{type:s,timeout:o,propCount:l}=N3(t,e);if(!s)return n();const u=s+"end";let c=0;const f=()=>{t.removeEventListener(u,d),a()},d=p=>{p.target===t&&++c>=l&&f()};setTimeout(()=>{c<l&&f()},o+1),t.addEventListener(u,d)}function N3(t,e){const r=window.getComputedStyle(t),n=h=>(r[h]||"").split(", "),i=n(`${Na}Delay`),a=n(`${Na}Duration`),s=hy(i,a),o=n(`${Tl}Delay`),l=n(`${Tl}Duration`),u=hy(o,l);let c=null,f=0,d=0;e===Na?s>0&&(c=Na,f=s,d=a.length):e===Tl?u>0&&(c=Tl,f=u,d=l.length):(f=Math.max(s,u),c=f>0?s>u?Na:Tl:null,d=c?c===Na?a.length:l.length:0);const p=c===Na&&/\b(transform|all)(,|$)/.test(n(`${Na}Property`).toString());return{type:c,timeout:f,propCount:d,hasTransform:p}}function hy(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,n)=>my(r)+my(t[n])))}function my(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function gy(){return document.body.offsetHeight}function D3(t,e,r){const n=t[bu];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const vy=Symbol("_vod"),C3=Symbol("_vsh"),M3=Symbol(""),T3=/(^|;)\s*display\s*:/;function _3(t,e,r){const n=t.style,i=Zt(r);let a=!1;if(r&&!i){if(e)if(Zt(e))for(const s of e.split(";")){const o=s.slice(0,s.indexOf(":")).trim();r[o]==null&&cf(n,o,"")}else for(const s in e)r[s]==null&&cf(n,s,"");for(const s in r)s==="display"&&(a=!0),cf(n,s,r[s])}else if(i){if(e!==r){const s=n[M3];s&&(r+=";"+s),n.cssText=r,a=T3.test(r)}}else e&&t.removeAttribute("style");vy in t&&(t[vy]=a?n.display:"",t[C3]&&(n.display="none"))}const yy=/\s*!important$/;function cf(t,e,r){if(je(r))r.forEach(n=>cf(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=O3(t,e);yy.test(r)?t.setProperty(to(n),r.replace(yy,""),"important"):t[n]=r}}const by=["Webkit","Moz","ms"],ph={};function O3(t,e){const r=ph[e];if(r)return r;let n=Xn(e);if(n!=="filter"&&n in t)return ph[e]=n;n=ep(n);for(let i=0;i<by.length;i++){const a=by[i]+n;if(a in t)return ph[e]=a}return e}const xy="http://www.w3.org/1999/xlink";function wy(t,e,r,n,i,a=F_(e)){n&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(xy,e.slice(6,e.length)):t.setAttributeNS(xy,e,r):r==null||a&&!CA(r)?t.removeAttribute(e):t.setAttribute(e,a?"":Ii(r)?String(r):r)}function Sy(t,e,r,n,i){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?RN(r):r);return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const o=a==="OPTION"?t.getAttribute("value")||"":t.value,l=r==null?t.type==="checkbox"?"on":"":String(r);(o!==l||!("_value"in t))&&(t.value=l),r==null&&t.removeAttribute(e),t._value=r;return}let s=!1;if(r===""||r==null){const o=typeof t[e];o==="boolean"?r=CA(r):r==null&&o==="string"?(r="",s=!0):o==="number"&&(r=0,s=!0)}try{t[e]=r}catch{}s&&t.removeAttribute(i||e)}function Ms(t,e,r,n){t.addEventListener(e,r,n)}function F3(t,e,r,n){t.removeEventListener(e,r,n)}const Ey=Symbol("_vei");function B3(t,e,r,n,i=null){const a=t[Ey]||(t[Ey]={}),s=a[e];if(n&&s)s.value=n;else{const[o,l]=k3(e);if(n){const u=a[e]=P3(n,i);Ms(t,o,u,l)}else s&&(F3(t,o,s,l),a[e]=void 0)}}const Ay=/(?:Once|Passive|Capture)$/;function k3(t){let e;if(Ay.test(t)){e={};let n;for(;n=t.match(Ay);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):to(t.slice(2)),e]}let hh=0;const I3=Promise.resolve(),R3=()=>hh||(I3.then(()=>hh=0),hh=Date.now());function P3(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;pi($3(n,r.value),e,5,[n])};return r.value=t,r.attached=R3(),r}function $3(t,e){if(je(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const Ny=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,L3=(t,e,r,n,i,a)=>{const s=i==="svg";e==="class"?D3(t,n,s):e==="style"?_3(t,r,n):Xd(e)?Gg(e)||B3(t,e,r,n,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):z3(t,e,n,s))?(Sy(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&wy(t,e,n,s,a,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Zt(n))?Sy(t,Xn(e),n,a,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),wy(t,e,n,s))};function z3(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&Ny(e)&&st(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Ny(e)&&Zt(r)?!1:e in t}const Pf=t=>{const e=t.props["onUpdate:modelValue"]||!1;return je(e)?r=>sf(e,r):e};function q3(t){t.target.composing=!0}function Dy(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const zo=Symbol("_assign"),xu={created(t,{modifiers:{lazy:e,trim:r,number:n}},i){t[zo]=Pf(i);const a=n||i.props&&i.props.type==="number";Ms(t,e?"change":"input",s=>{if(s.target.composing)return;let o=t.value;r&&(o=o.trim()),a&&(o=bm(o)),t[zo](o)}),r&&Ms(t,"change",()=>{t.value=t.value.trim()}),e||(Ms(t,"compositionstart",q3),Ms(t,"compositionend",Dy),Ms(t,"change",Dy))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:r,modifiers:{lazy:n,trim:i,number:a}},s){if(t[zo]=Pf(s),t.composing)return;const o=(a||t.type==="number")&&!/^0\d/.test(t.value)?bm(t.value):t.value,l=e??"";o!==l&&(document.activeElement===t&&t.type!=="range"&&(n&&e===r||i&&t.value.trim()===l)||(t.value=l))}},U3={deep:!0,created(t,e,r){t[zo]=Pf(r),Ms(t,"change",()=>{const n=t._modelValue,i=H3(t),a=t.checked,s=t[zo];if(je(n)){const o=MA(n,i),l=o!==-1;if(a&&!l)s(n.concat(i));else if(!a&&l){const u=[...n];u.splice(o,1),s(u)}}else if(Zd(n)){const o=new Set(n);a?o.add(i):o.delete(i),s(o)}else s($N(t,a))})},mounted:Cy,beforeUpdate(t,e,r){t[zo]=Pf(r),Cy(t,e,r)}};function Cy(t,{value:e,oldValue:r},n){t._modelValue=e;let i;if(je(e))i=MA(e,n.props.value)>-1;else if(Zd(e))i=e.has(n.props.value);else{if(e===r)return;i=rp(e,$N(t,!0))}t.checked!==i&&(t.checked=i)}function H3(t){return"_value"in t?t._value:t.value}function $N(t,e){const r=e?"_trueValue":"_falseValue";return r in t?t[r]:e}const V3=["ctrl","shift","alt","meta"],W3={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>V3.some(r=>t[`${r}Key`]&&!e.includes(r))},_r=(t,e)=>{const r=t._withMods||(t._withMods={}),n=e.join(".");return r[n]||(r[n]=(i,...a)=>{for(let s=0;s<e.length;s++){const o=W3[e[s]];if(o&&o(i,e))return}return t(i,...a)})},G3=Nr({patchProp:L3},b3);let My;function j3(){return My||(My=UO(G3))}const K3=(...t)=>{const e=j3().createApp(...t),{mount:r}=e;return e.mount=n=>{const i=Y3(n);if(!i)return;const a=e._component;!st(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const s=r(i,!1,J3(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},e};function J3(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Y3(t){return Zt(t)?document.querySelector(t):t}const gi=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r},X3={};function Z3(t,e){const r=DO("router-view");return ke(),fi(r)}const Q3=gi(X3,[["render",Z3]]);/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Co=typeof document<"u";function LN(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function eF(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&LN(t.default)}const Tt=Object.assign;function mh(t,e){const r={};for(const n in e){const i=e[n];r[n]=hi(i)?i.map(t):t(i)}return r}const tu=()=>{},hi=Array.isArray,zN=/#/g,tF=/&/g,rF=/\//g,nF=/=/g,iF=/\?/g,qN=/\+/g,aF=/%5B/g,sF=/%5D/g,UN=/%5E/g,oF=/%60/g,HN=/%7B/g,lF=/%7C/g,VN=/%7D/g,uF=/%20/g;function fv(t){return encodeURI(""+t).replace(lF,"|").replace(aF,"[").replace(sF,"]")}function cF(t){return fv(t).replace(HN,"{").replace(VN,"}").replace(UN,"^")}function Fm(t){return fv(t).replace(qN,"%2B").replace(uF,"+").replace(zN,"%23").replace(tF,"%26").replace(oF,"`").replace(HN,"{").replace(VN,"}").replace(UN,"^")}function fF(t){return Fm(t).replace(nF,"%3D")}function dF(t){return fv(t).replace(zN,"%23").replace(iF,"%3F")}function pF(t){return t==null?"":dF(t).replace(rF,"%2F")}function wu(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const hF=/\/$/,mF=t=>t.replace(hF,"");function gh(t,e,r="/"){let n,i={},a="",s="";const o=e.indexOf("#");let l=e.indexOf("?");return o<l&&o>=0&&(l=-1),l>-1&&(n=e.slice(0,l),a=e.slice(l+1,o>-1?o:e.length),i=t(a)),o>-1&&(n=n||e.slice(0,o),s=e.slice(o,e.length)),n=bF(n??e,r),{fullPath:n+(a&&"?")+a+s,path:n,query:i,hash:wu(s)}}function gF(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function Ty(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function vF(t,e,r){const n=e.matched.length-1,i=r.matched.length-1;return n>-1&&n===i&&Jo(e.matched[n],r.matched[i])&&WN(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function Jo(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function WN(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!yF(t[r],e[r]))return!1;return!0}function yF(t,e){return hi(t)?_y(t,e):hi(e)?_y(e,t):t===e}function _y(t,e){return hi(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function bF(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let a=r.length-1,s,o;for(s=0;s<n.length;s++)if(o=n[s],o!==".")if(o==="..")a>1&&a--;else break;return r.slice(0,a).join("/")+"/"+n.slice(s).join("/")}const Da={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Su;(function(t){t.pop="pop",t.push="push"})(Su||(Su={}));var ru;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ru||(ru={}));function xF(t){if(!t)if(Co){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),mF(t)}const wF=/^[^#]+#/;function SF(t,e){return t.replace(wF,"#")+e}function EF(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const cp=()=>({left:window.scrollX,top:window.scrollY});function AF(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),i=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!i)return;e=EF(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Oy(t,e){return(history.state?history.state.position-e:-1)+t}const Bm=new Map;function NF(t,e){Bm.set(t,e)}function DF(t){const e=Bm.get(t);return Bm.delete(t),e}let CF=()=>location.protocol+"//"+location.host;function GN(t,e){const{pathname:r,search:n,hash:i}=e,a=t.indexOf("#");if(a>-1){let o=i.includes(t.slice(a))?t.slice(a).length:1,l=i.slice(o);return l[0]!=="/"&&(l="/"+l),Ty(l,"")}return Ty(r,t)+n+i}function MF(t,e,r,n){let i=[],a=[],s=null;const o=({state:d})=>{const p=GN(t,location),h=r.value,m=e.value;let v=0;if(d){if(r.value=p,e.value=d,s&&s===h){s=null;return}v=m?d.position-m.position:0}else n(p);i.forEach(y=>{y(r.value,h,{delta:v,type:Su.pop,direction:v?v>0?ru.forward:ru.back:ru.unknown})})};function l(){s=r.value}function u(d){i.push(d);const p=()=>{const h=i.indexOf(d);h>-1&&i.splice(h,1)};return a.push(p),p}function c(){const{history:d}=window;d.state&&d.replaceState(Tt({},d.state,{scroll:cp()}),"")}function f(){for(const d of a)d();a=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:f}}function Fy(t,e,r,n=!1,i=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:i?cp():null}}function TF(t){const{history:e,location:r}=window,n={value:GN(t,r)},i={value:e.state};i.value||a(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function a(l,u,c){const f=t.indexOf("#"),d=f>-1?(r.host&&document.querySelector("base")?t:t.slice(f))+l:CF()+t+l;try{e[c?"replaceState":"pushState"](u,"",d),i.value=u}catch(p){console.error(p),r[c?"replace":"assign"](d)}}function s(l,u){const c=Tt({},e.state,Fy(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});a(l,c,!0),n.value=l}function o(l,u){const c=Tt({},i.value,e.state,{forward:l,scroll:cp()});a(c.current,c,!0);const f=Tt({},Fy(n.value,l,null),{position:c.position+1},u);a(l,f,!1),n.value=l}return{location:n,state:i,push:o,replace:s}}function jN(t){t=xF(t);const e=TF(t),r=MF(t,e.state,e.location,e.replace);function n(a,s=!0){s||r.pauseListeners(),history.go(a)}const i=Tt({location:"",base:t,go:n,createHref:SF.bind(null,t)},e,r);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function _F(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),jN(t)}function OF(t){return typeof t=="string"||t&&typeof t=="object"}function KN(t){return typeof t=="string"||typeof t=="symbol"}const JN=Symbol("");var By;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(By||(By={}));function Yo(t,e){return Tt(new Error,{type:t,[JN]:!0},e)}function ji(t,e){return t instanceof Error&&JN in t&&(e==null||!!(t.type&e))}const ky="[^/]+?",FF={sensitive:!1,strict:!1,start:!0,end:!0},BF=/[.+*?^${}()[\]/\\]/g;function kF(t,e){const r=Tt({},FF,e),n=[];let i=r.start?"^":"";const a=[];for(const u of t){const c=u.length?[]:[90];r.strict&&!u.length&&(i+="/");for(let f=0;f<u.length;f++){const d=u[f];let p=40+(r.sensitive?.25:0);if(d.type===0)f||(i+="/"),i+=d.value.replace(BF,"\\$&"),p+=40;else if(d.type===1){const{value:h,repeatable:m,optional:v,regexp:y}=d;a.push({name:h,repeatable:m,optional:v});const S=y||ky;if(S!==ky){p+=10;try{new RegExp(`(${S})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${h}" (${S}): `+w.message)}}let g=m?`((?:${S})(?:/(?:${S}))*)`:`(${S})`;f||(g=v&&u.length<2?`(?:/${g})`:"/"+g),v&&(g+="?"),i+=g,p+=20,v&&(p+=-8),m&&(p+=-20),S===".*"&&(p+=-50)}c.push(p)}n.push(c)}if(r.strict&&r.end){const u=n.length-1;n[u][n[u].length-1]+=.7000000000000001}r.strict||(i+="/?"),r.end?i+="$":r.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const s=new RegExp(i,r.sensitive?"":"i");function o(u){const c=u.match(s),f={};if(!c)return null;for(let d=1;d<c.length;d++){const p=c[d]||"",h=a[d-1];f[h.name]=p&&h.repeatable?p.split("/"):p}return f}function l(u){let c="",f=!1;for(const d of t){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const p of d)if(p.type===0)c+=p.value;else if(p.type===1){const{value:h,repeatable:m,optional:v}=p,y=h in u?u[h]:"";if(hi(y)&&!m)throw new Error(`Provided param "${h}" is an array but it is not repeatable (* or + modifiers)`);const S=hi(y)?y.join("/"):y;if(!S)if(v)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${h}"`);c+=S}}return c||"/"}return{re:s,score:n,keys:a,parse:o,stringify:l}}function IF(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function YN(t,e){let r=0;const n=t.score,i=e.score;for(;r<n.length&&r<i.length;){const a=IF(n[r],i[r]);if(a)return a;r++}if(Math.abs(i.length-n.length)===1){if(Iy(n))return 1;if(Iy(i))return-1}return i.length-n.length}function Iy(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const RF={type:0,value:""},PF=/[a-zA-Z0-9_]/;function $F(t){if(!t)return[[]];if(t==="/")return[[RF]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${r})/"${u}": ${p}`)}let r=0,n=r;const i=[];let a;function s(){a&&i.push(a),a=[]}let o=0,l,u="",c="";function f(){u&&(r===0?a.push({type:0,value:u}):r===1||r===2||r===3?(a.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function d(){u+=l}for(;o<t.length;){if(l=t[o++],l==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:l==="/"?(u&&f(),s()):l===":"?(f(),r=1):d();break;case 4:d(),r=n;break;case 1:l==="("?r=2:PF.test(l)?d():(f(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&o--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:r=3:c+=l;break;case 3:f(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&o--,c="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${u}"`),f(),s(),i}function LF(t,e,r){const n=kF($F(t.path),r),i=Tt(n,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function zF(t,e){const r=[],n=new Map;e=Ly({strict:!1,end:!0,sensitive:!1},e);function i(f){return n.get(f)}function a(f,d,p){const h=!p,m=Py(f);m.aliasOf=p&&p.record;const v=Ly(e,f),y=[m];if("alias"in f){const w=typeof f.alias=="string"?[f.alias]:f.alias;for(const x of w)y.push(Py(Tt({},m,{components:p?p.record.components:m.components,path:x,aliasOf:p?p.record:m})))}let S,g;for(const w of y){const{path:x}=w;if(d&&x[0]!=="/"){const b=d.record.path,A=b[b.length-1]==="/"?"":"/";w.path=d.record.path+(x&&A+x)}if(S=LF(w,d,v),p?p.alias.push(S):(g=g||S,g!==S&&g.alias.push(S),h&&f.name&&!$y(S)&&s(f.name)),XN(S)&&l(S),m.children){const b=m.children;for(let A=0;A<b.length;A++)a(b[A],S,p&&p.children[A])}p=p||S}return g?()=>{s(g)}:tu}function s(f){if(KN(f)){const d=n.get(f);d&&(n.delete(f),r.splice(r.indexOf(d),1),d.children.forEach(s),d.alias.forEach(s))}else{const d=r.indexOf(f);d>-1&&(r.splice(d,1),f.record.name&&n.delete(f.record.name),f.children.forEach(s),f.alias.forEach(s))}}function o(){return r}function l(f){const d=HF(f,r);r.splice(d,0,f),f.record.name&&!$y(f)&&n.set(f.record.name,f)}function u(f,d){let p,h={},m,v;if("name"in f&&f.name){if(p=n.get(f.name),!p)throw Yo(1,{location:f});v=p.record.name,h=Tt(Ry(d.params,p.keys.filter(g=>!g.optional).concat(p.parent?p.parent.keys.filter(g=>g.optional):[]).map(g=>g.name)),f.params&&Ry(f.params,p.keys.map(g=>g.name))),m=p.stringify(h)}else if(f.path!=null)m=f.path,p=r.find(g=>g.re.test(m)),p&&(h=p.parse(m),v=p.record.name);else{if(p=d.name?n.get(d.name):r.find(g=>g.re.test(d.path)),!p)throw Yo(1,{location:f,currentLocation:d});v=p.record.name,h=Tt({},d.params,f.params),m=p.stringify(h)}const y=[];let S=p;for(;S;)y.unshift(S.record),S=S.parent;return{name:v,path:m,params:h,matched:y,meta:UF(y)}}t.forEach(f=>a(f));function c(){r.length=0,n.clear()}return{addRoute:a,resolve:u,removeRoute:s,clearRoutes:c,getRoutes:o,getRecordMatcher:i}}function Ry(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function Py(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:qF(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function qF(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="object"?r[n]:r;return e}function $y(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function UF(t){return t.reduce((e,r)=>Tt(e,r.meta),{})}function Ly(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}function HF(t,e){let r=0,n=e.length;for(;r!==n;){const a=r+n>>1;YN(t,e[a])<0?n=a:r=a+1}const i=VF(t);return i&&(n=e.lastIndexOf(i,n-1)),n}function VF(t){let e=t;for(;e=e.parent;)if(XN(e)&&YN(t,e)===0)return e}function XN({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function WF(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<n.length;++i){const a=n[i].replace(qN," "),s=a.indexOf("="),o=wu(s<0?a:a.slice(0,s)),l=s<0?null:wu(a.slice(s+1));if(o in e){let u=e[o];hi(u)||(u=e[o]=[u]),u.push(l)}else e[o]=l}return e}function zy(t){let e="";for(let r in t){const n=t[r];if(r=fF(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(hi(n)?n.map(a=>a&&Fm(a)):[n&&Fm(n)]).forEach(a=>{a!==void 0&&(e+=(e.length?"&":"")+r,a!=null&&(e+="="+a))})}return e}function GF(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=hi(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return e}const jF=Symbol(""),qy=Symbol(""),fp=Symbol(""),dv=Symbol(""),km=Symbol("");function _l(){let t=[];function e(n){return t.push(n),()=>{const i=t.indexOf(n);i>-1&&t.splice(i,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function Ba(t,e,r,n,i,a=s=>s()){const s=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((o,l)=>{const u=d=>{d===!1?l(Yo(4,{from:r,to:e})):d instanceof Error?l(d):OF(d)?l(Yo(2,{from:e,to:d})):(s&&n.enterCallbacks[i]===s&&typeof d=="function"&&s.push(d),o())},c=a(()=>t.call(n&&n.instances[i],e,r,u));let f=Promise.resolve(c);t.length<3&&(f=f.then(u)),f.catch(d=>l(d))})}function vh(t,e,r,n,i=a=>a()){const a=[];for(const s of t)for(const o in s.components){let l=s.components[o];if(!(e!=="beforeRouteEnter"&&!s.instances[o]))if(LN(l)){const c=(l.__vccOpts||l)[e];c&&a.push(Ba(c,r,n,s,o,i))}else{let u=l();a.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${o}" at "${s.path}"`);const f=eF(c)?c.default:c;s.mods[o]=c,s.components[o]=f;const p=(f.__vccOpts||f)[e];return p&&Ba(p,r,n,s,o,i)()}))}}return a}function Uy(t){const e=ci(fp),r=ci(dv),n=kr(()=>{const l=Oe(t.to);return e.resolve(l)}),i=kr(()=>{const{matched:l}=n.value,{length:u}=l,c=l[u-1],f=r.matched;if(!c||!f.length)return-1;const d=f.findIndex(Jo.bind(null,c));if(d>-1)return d;const p=Hy(l[u-2]);return u>1&&Hy(c)===p&&f[f.length-1].path!==p?f.findIndex(Jo.bind(null,l[u-2])):d}),a=kr(()=>i.value>-1&&ZF(r.params,n.value.params)),s=kr(()=>i.value>-1&&i.value===r.matched.length-1&&WN(r.params,n.value.params));function o(l={}){if(XF(l)){const u=e[Oe(t.replace)?"replace":"push"](Oe(t.to)).catch(tu);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:n,href:kr(()=>n.value.href),isActive:a,isExactActive:s,navigate:o}}function KF(t){return t.length===1?t[0]:t}const JF=fr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Uy,setup(t,{slots:e}){const r=qu(Uy(t)),{options:n}=ci(fp),i=kr(()=>({[Vy(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[Vy(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const a=e.default&&KF(e.default(r));return t.custom?a:Wr("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:i.value},a)}}}),YF=JF;function XF(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function ZF(t,e){for(const r in e){const n=e[r],i=t[r];if(typeof n=="string"){if(n!==i)return!1}else if(!hi(i)||i.length!==n.length||n.some((a,s)=>a!==i[s]))return!1}return!0}function Hy(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Vy=(t,e,r)=>t??e??r,QF=fr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=ci(km),i=kr(()=>t.route||n.value),a=ci(qy,0),s=kr(()=>{let u=Oe(a);const{matched:c}=i.value;let f;for(;(f=c[u])&&!f.components;)u++;return u}),o=kr(()=>i.value.matched[s.value]);Lo(qy,kr(()=>s.value+1)),Lo(jF,o),Lo(km,i);const l=Pe();return Kn(()=>[l.value,o.value,t.name],([u,c,f],[d,p,h])=>{c&&(c.instances[f]=u,p&&p!==c&&u&&u===d&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),u&&c&&(!p||!Jo(c,p)||!d)&&(c.enterCallbacks[f]||[]).forEach(m=>m(u))},{flush:"post"}),()=>{const u=i.value,c=t.name,f=o.value,d=f&&f.components[c];if(!d)return Wy(r.default,{Component:d,route:u});const p=f.props[c],h=p?p===!0?u.params:typeof p=="function"?p(u):p:null,v=Wr(d,Tt({},h,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(f.instances[c]=null)},ref:l}));return Wy(r.default,{Component:v,route:u})||v}}});function Wy(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const eB=QF;function tB(t){const e=zF(t.routes,t),r=t.parseQuery||WF,n=t.stringifyQuery||zy,i=t.history,a=_l(),s=_l(),o=_l(),l=eO(Da);let u=Da;Co&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=mh.bind(null,j=>""+j),f=mh.bind(null,pF),d=mh.bind(null,wu);function p(j,W){let U,K;return KN(j)?(U=e.getRecordMatcher(j),K=W):K=j,e.addRoute(K,U)}function h(j){const W=e.getRecordMatcher(j);W&&e.removeRoute(W)}function m(){return e.getRoutes().map(j=>j.record)}function v(j){return!!e.getRecordMatcher(j)}function y(j,W){if(W=Tt({},W||l.value),typeof j=="string"){const G=gh(r,j,W.path),se=e.resolve({path:G.path},W),P=i.createHref(G.fullPath);return Tt(G,se,{params:d(se.params),hash:wu(G.hash),redirectedFrom:void 0,href:P})}let U;if(j.path!=null)U=Tt({},j,{path:gh(r,j.path,W.path).path});else{const G=Tt({},j.params);for(const se in G)G[se]==null&&delete G[se];U=Tt({},j,{params:f(G)}),W.params=f(W.params)}const K=e.resolve(U,W),ae=j.hash||"";K.params=c(d(K.params));const B=gF(n,Tt({},j,{hash:cF(ae),path:K.path})),q=i.createHref(B);return Tt({fullPath:B,hash:ae,query:n===zy?GF(j.query):j.query||{}},K,{redirectedFrom:void 0,href:q})}function S(j){return typeof j=="string"?gh(r,j,l.value.path):Tt({},j)}function g(j,W){if(u!==j)return Yo(8,{from:W,to:j})}function w(j){return A(j)}function x(j){return w(Tt(S(j),{replace:!0}))}function b(j){const W=j.matched[j.matched.length-1];if(W&&W.redirect){const{redirect:U}=W;let K=typeof U=="function"?U(j):U;return typeof K=="string"&&(K=K.includes("?")||K.includes("#")?K=S(K):{path:K},K.params={}),Tt({query:j.query,hash:j.hash,params:K.path!=null?{}:j.params},K)}}function A(j,W){const U=u=y(j),K=l.value,ae=j.state,B=j.force,q=j.replace===!0,G=b(U);if(G)return A(Tt(S(G),{state:typeof G=="object"?Tt({},ae,G.state):ae,force:B,replace:q}),W||U);const se=U;se.redirectedFrom=W;let P;return!B&&vF(n,K,U)&&(P=Yo(16,{to:se,from:K}),ie(K,K,!0,!1)),(P?Promise.resolve(P):N(se,K)).catch(z=>ji(z)?ji(z,2)?z:k(z):_(z,se,K)).then(z=>{if(z){if(ji(z,2))return A(Tt({replace:q},S(z.to),{state:typeof z.to=="object"?Tt({},ae,z.to.state):ae,force:B}),W||se)}else z=M(se,K,!0,q,ae);return C(se,K,z),z})}function D(j,W){const U=g(j,W);return U?Promise.reject(U):Promise.resolve()}function E(j){const W=Z.values().next().value;return W&&typeof W.runWithContext=="function"?W.runWithContext(j):j()}function N(j,W){let U;const[K,ae,B]=rB(j,W);U=vh(K.reverse(),"beforeRouteLeave",j,W);for(const G of K)G.leaveGuards.forEach(se=>{U.push(Ba(se,j,W))});const q=D.bind(null,j,W);return U.push(q),de(U).then(()=>{U=[];for(const G of a.list())U.push(Ba(G,j,W));return U.push(q),de(U)}).then(()=>{U=vh(ae,"beforeRouteUpdate",j,W);for(const G of ae)G.updateGuards.forEach(se=>{U.push(Ba(se,j,W))});return U.push(q),de(U)}).then(()=>{U=[];for(const G of B)if(G.beforeEnter)if(hi(G.beforeEnter))for(const se of G.beforeEnter)U.push(Ba(se,j,W));else U.push(Ba(G.beforeEnter,j,W));return U.push(q),de(U)}).then(()=>(j.matched.forEach(G=>G.enterCallbacks={}),U=vh(B,"beforeRouteEnter",j,W,E),U.push(q),de(U))).then(()=>{U=[];for(const G of s.list())U.push(Ba(G,j,W));return U.push(q),de(U)}).catch(G=>ji(G,8)?G:Promise.reject(G))}function C(j,W,U){o.list().forEach(K=>E(()=>K(j,W,U)))}function M(j,W,U,K,ae){const B=g(j,W);if(B)return B;const q=W===Da,G=Co?history.state:{};U&&(K||q?i.replace(j.fullPath,Tt({scroll:q&&G&&G.scroll},ae)):i.push(j.fullPath,ae)),l.value=j,ie(j,W,U,q),k()}let F;function I(){F||(F=i.listen((j,W,U)=>{if(!pe.listening)return;const K=y(j),ae=b(K);if(ae){A(Tt(ae,{replace:!0,force:!0}),K).catch(tu);return}u=K;const B=l.value;Co&&NF(Oy(B.fullPath,U.delta),cp()),N(K,B).catch(q=>ji(q,12)?q:ji(q,2)?(A(Tt(S(q.to),{force:!0}),K).then(G=>{ji(G,20)&&!U.delta&&U.type===Su.pop&&i.go(-1,!1)}).catch(tu),Promise.reject()):(U.delta&&i.go(-U.delta,!1),_(q,K,B))).then(q=>{q=q||M(K,B,!1),q&&(U.delta&&!ji(q,8)?i.go(-U.delta,!1):U.type===Su.pop&&ji(q,20)&&i.go(-1,!1)),C(K,B,q)}).catch(tu)}))}let R=_l(),T=_l(),L;function _(j,W,U){k(j);const K=T.list();return K.length?K.forEach(ae=>ae(j,W,U)):console.error(j),Promise.reject(j)}function H(){return L&&l.value!==Da?Promise.resolve():new Promise((j,W)=>{R.add([j,W])})}function k(j){return L||(L=!j,I(),R.list().forEach(([W,U])=>j?U(j):W()),R.reset()),j}function ie(j,W,U,K){const{scrollBehavior:ae}=t;if(!Co||!ae)return Promise.resolve();const B=!U&&DF(Oy(j.fullPath,0))||(K||!U)&&history.state&&history.state.scroll||null;return ap().then(()=>ae(j,W,B)).then(q=>q&&AF(q)).catch(q=>_(q,j,W))}const ee=j=>i.go(j);let X;const Z=new Set,pe={currentRoute:l,listening:!0,addRoute:p,removeRoute:h,clearRoutes:e.clearRoutes,hasRoute:v,getRoutes:m,resolve:y,options:t,push:w,replace:x,go:ee,back:()=>ee(-1),forward:()=>ee(1),beforeEach:a.add,beforeResolve:s.add,afterEach:o.add,onError:T.add,isReady:H,install(j){const W=this;j.component("RouterLink",YF),j.component("RouterView",eB),j.config.globalProperties.$router=W,Object.defineProperty(j.config.globalProperties,"$route",{enumerable:!0,get:()=>Oe(l)}),Co&&!X&&l.value===Da&&(X=!0,w(i.location).catch(ae=>{}));const U={};for(const ae in Da)Object.defineProperty(U,ae,{get:()=>l.value[ae],enumerable:!0});j.provide(fp,W),j.provide(dv,WA(U)),j.provide(km,l);const K=j.unmount;Z.add(j),j.unmount=function(){Z.delete(j),Z.size<1&&(u=Da,F&&F(),F=null,l.value=Da,X=!1,L=!1),K()}}};function de(j){return j.reduce((W,U)=>W.then(()=>E(U)),Promise.resolve())}return pe}function rB(t,e){const r=[],n=[],i=[],a=Math.max(e.matched.length,t.matched.length);for(let s=0;s<a;s++){const o=e.matched[s];o&&(t.matched.find(u=>Jo(u,o))?n.push(o):r.push(o));const l=t.matched[s];l&&(e.matched.find(u=>Jo(u,l))||i.push(l))}return[r,n,i]}function ro(){return ci(fp)}function ZN(t){return ci(dv)}const nB=""+new URL("../favicon.svg",import.meta.url).href;function Gy(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function pv(t,e){t===void 0&&(t={}),e===void 0&&(e={});const r=["__proto__","constructor","prototype"];Object.keys(e).filter(n=>r.indexOf(n)<0).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:Gy(e[n])&&Gy(t[n])&&Object.keys(e[n]).length>0&&pv(t[n],e[n])})}const QN={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function no(){const t=typeof document<"u"?document:{};return pv(t,QN),t}const iB={document:QN,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function mn(){const t=typeof window<"u"?window:{};return pv(t,iB),t}function aB(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function sB(t){const e=t;Object.keys(e).forEach(r=>{try{e[r]=null}catch{}try{delete e[r]}catch{}})}function Im(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function $f(){return Date.now()}function oB(t){const e=mn();let r;return e.getComputedStyle&&(r=e.getComputedStyle(t,null)),!r&&t.currentStyle&&(r=t.currentStyle),r||(r=t.style),r}function lB(t,e){e===void 0&&(e="x");const r=mn();let n,i,a;const s=oB(t);return r.WebKitCSSMatrix?(i=s.transform||s.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(o=>o.replace(",",".")).join(", ")),a=new r.WebKitCSSMatrix(i==="none"?"":i)):(a=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=a.toString().split(",")),e==="x"&&(r.WebKitCSSMatrix?i=a.m41:n.length===16?i=parseFloat(n[12]):i=parseFloat(n[4])),e==="y"&&(r.WebKitCSSMatrix?i=a.m42:n.length===16?i=parseFloat(n[13]):i=parseFloat(n[5])),i||0}function Ec(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function uB(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Mn(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let r=1;r<arguments.length;r+=1){const n=r<0||arguments.length<=r?void 0:arguments[r];if(n!=null&&!uB(n)){const i=Object.keys(Object(n)).filter(a=>e.indexOf(a)<0);for(let a=0,s=i.length;a<s;a+=1){const o=i[a],l=Object.getOwnPropertyDescriptor(n,o);l!==void 0&&l.enumerable&&(Ec(t[o])&&Ec(n[o])?n[o].__swiper__?t[o]=n[o]:Mn(t[o],n[o]):!Ec(t[o])&&Ec(n[o])?(t[o]={},n[o].__swiper__?t[o]=n[o]:Mn(t[o],n[o])):t[o]=n[o])}}}return t}function Ac(t,e,r){t.style.setProperty(e,r)}function eD(t){let{swiper:e,targetPosition:r,side:n}=t;const i=mn(),a=-e.translate;let s=null,o;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const u=r>a?"next":"prev",c=(d,p)=>u==="next"&&d>=p||u==="prev"&&d<=p,f=()=>{o=new Date().getTime(),s===null&&(s=o);const d=Math.max(Math.min((o-s)/l,1),0),p=.5-Math.cos(d*Math.PI)/2;let h=a+p*(r-a);if(c(h,r)&&(h=r),e.wrapperEl.scrollTo({[n]:h}),c(h,r)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[n]:h})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(f)};f()}function sa(t,e){e===void 0&&(e="");const r=mn(),n=[...t.children];return r.HTMLSlotElement&&t instanceof HTMLSlotElement&&n.push(...t.assignedElements()),e?n.filter(i=>i.matches(e)):n}function cB(t,e){const r=[e];for(;r.length>0;){const n=r.shift();if(t===n)return!0;r.push(...n.children,...n.shadowRoot?n.shadowRoot.children:[],...n.assignedElements?n.assignedElements():[])}}function fB(t,e){const r=mn();let n=e.contains(t);return!n&&r.HTMLSlotElement&&e instanceof HTMLSlotElement&&(n=[...e.assignedElements()].includes(t),n||(n=cB(t,e))),n}function Lf(t){try{console.warn(t);return}catch{}}function Rm(t,e){e===void 0&&(e=[]);const r=document.createElement(t);return r.classList.add(...Array.isArray(e)?e:aB(e)),r}function dB(t,e){const r=[];for(;t.previousElementSibling;){const n=t.previousElementSibling;e?n.matches(e)&&r.push(n):r.push(n),t=n}return r}function pB(t,e){const r=[];for(;t.nextElementSibling;){const n=t.nextElementSibling;e?n.matches(e)&&r.push(n):r.push(n),t=n}return r}function qa(t,e){return mn().getComputedStyle(t,null).getPropertyValue(e)}function jy(t){let e=t,r;if(e){for(r=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(r+=1);return r}}function hB(t,e){const r=[];let n=t.parentElement;for(;n;)r.push(n),n=n.parentElement;return r}function Ky(t,e,r){const n=mn();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(n.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(n.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Jy(t,e){e===void 0&&(e=""),typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:r=>r}).createHTML(e):t.innerHTML=e}let yh;function mB(){const t=mn(),e=no();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function tD(){return yh||(yh=mB()),yh}let bh;function gB(t){let{userAgent:e}=t===void 0?{}:t;const r=tD(),n=mn(),i=n.navigator.platform,a=e||n.navigator.userAgent,s={ios:!1,android:!1},o=n.screen.width,l=n.screen.height,u=a.match(/(Android);?[\s\/]+([\d.]+)?/);let c=a.match(/(iPad).*OS\s([\d_]+)/);const f=a.match(/(iPod)(.*OS\s([\d_]+))?/),d=!c&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p=i==="Win32";let h=i==="MacIntel";const m=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!c&&h&&r.touch&&m.indexOf(`${o}x${l}`)>=0&&(c=a.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),h=!1),u&&!p&&(s.os="android",s.android=!0),(c||d||f)&&(s.os="ios",s.ios=!0),s}function rD(t){return t===void 0&&(t={}),bh||(bh=gB(t)),bh}let xh;function vB(){const t=mn(),e=rD();let r=!1;function n(){const o=t.navigator.userAgent.toLowerCase();return o.indexOf("safari")>=0&&o.indexOf("chrome")<0&&o.indexOf("android")<0}if(n()){const o=String(t.navigator.userAgent);if(o.includes("Version/")){const[l,u]=o.split("Version/")[1].split(" ")[0].split(".").map(c=>Number(c));r=l<16||l===16&&u<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),a=n(),s=a||i&&e.ios;return{isSafari:r||a,needPerspectiveFix:r,need3dFix:s,isWebView:i}}function nD(){return xh||(xh=vB()),xh}function yB(t){let{swiper:e,on:r,emit:n}=t;const i=mn();let a=null,s=null;const o=()=>{!e||e.destroyed||!e.initialized||(n("beforeResize"),n("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(a=new ResizeObserver(f=>{s=i.requestAnimationFrame(()=>{const{width:d,height:p}=e;let h=d,m=p;f.forEach(v=>{let{contentBoxSize:y,contentRect:S,target:g}=v;g&&g!==e.el||(h=S?S.width:(y[0]||y).inlineSize,m=S?S.height:(y[0]||y).blockSize)}),(h!==d||m!==p)&&o()})}),a.observe(e.el))},u=()=>{s&&i.cancelAnimationFrame(s),a&&a.unobserve&&e.el&&(a.unobserve(e.el),a=null)},c=()=>{!e||e.destroyed||!e.initialized||n("orientationchange")};r("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){l();return}i.addEventListener("resize",o),i.addEventListener("orientationchange",c)}),r("destroy",()=>{u(),i.removeEventListener("resize",o),i.removeEventListener("orientationchange",c)})}function bB(t){let{swiper:e,extendParams:r,on:n,emit:i}=t;const a=[],s=mn(),o=function(c,f){f===void 0&&(f={});const d=s.MutationObserver||s.WebkitMutationObserver,p=new d(h=>{if(e.__preventObserver__)return;if(h.length===1){i("observerUpdate",h[0]);return}const m=function(){i("observerUpdate",h[0])};s.requestAnimationFrame?s.requestAnimationFrame(m):s.setTimeout(m,0)});p.observe(c,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:e.isElement||(typeof f.childList>"u"?!0:f).childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),a.push(p)},l=()=>{if(e.params.observer){if(e.params.observeParents){const c=hB(e.hostEl);for(let f=0;f<c.length;f+=1)o(c[f])}o(e.hostEl,{childList:e.params.observeSlideChildren}),o(e.wrapperEl,{attributes:!1})}},u=()=>{a.forEach(c=>{c.disconnect()}),a.splice(0,a.length)};r({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",l),n("destroy",u)}var xB={on(t,e,r){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;const i=r?"unshift":"push";return t.split(" ").forEach(a=>{n.eventsListeners[a]||(n.eventsListeners[a]=[]),n.eventsListeners[a][i](e)}),n},once(t,e,r){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;function i(){n.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];e.apply(n,s)}return i.__emitterProxy=e,n.on(t,i,r)},onAny(t,e){const r=this;if(!r.eventsListeners||r.destroyed||typeof t!="function")return r;const n=e?"unshift":"push";return r.eventsAnyListeners.indexOf(t)<0&&r.eventsAnyListeners[n](t),r},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const r=e.eventsAnyListeners.indexOf(t);return r>=0&&e.eventsAnyListeners.splice(r,1),e},off(t,e){const r=this;return!r.eventsListeners||r.destroyed||!r.eventsListeners||t.split(" ").forEach(n=>{typeof e>"u"?r.eventsListeners[n]=[]:r.eventsListeners[n]&&r.eventsListeners[n].forEach((i,a)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&r.eventsListeners[n].splice(a,1)})}),r},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,r,n;for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return typeof a[0]=="string"||Array.isArray(a[0])?(e=a[0],r=a.slice(1,a.length),n=t):(e=a[0].events,r=a[0].data,n=a[0].context||t),r.unshift(n),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(u=>{u.apply(n,[l,...r])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(u=>{u.apply(n,r)})}),t}};function wB(){const t=this;let e,r;const n=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=n.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?r=t.params.height:r=n.clientHeight,!(e===0&&t.isHorizontal()||r===0&&t.isVertical())&&(e=e-parseInt(qa(n,"padding-left")||0,10)-parseInt(qa(n,"padding-right")||0,10),r=r-parseInt(qa(n,"padding-top")||0,10)-parseInt(qa(n,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(r)&&(r=0),Object.assign(t,{width:e,height:r,size:t.isHorizontal()?e:r}))}function SB(){const t=this;function e(N,C){return parseFloat(N.getPropertyValue(t.getDirectionLabel(C))||0)}const r=t.params,{wrapperEl:n,slidesEl:i,size:a,rtlTranslate:s,wrongRTL:o}=t,l=t.virtual&&r.virtual.enabled,u=l?t.virtual.slides.length:t.slides.length,c=sa(i,`.${t.params.slideClass}, swiper-slide`),f=l?t.virtual.slides.length:c.length;let d=[];const p=[],h=[];let m=r.slidesOffsetBefore;typeof m=="function"&&(m=r.slidesOffsetBefore.call(t));let v=r.slidesOffsetAfter;typeof v=="function"&&(v=r.slidesOffsetAfter.call(t));const y=t.snapGrid.length,S=t.slidesGrid.length;let g=r.spaceBetween,w=-m,x=0,b=0;if(typeof a>"u")return;typeof g=="string"&&g.indexOf("%")>=0?g=parseFloat(g.replace("%",""))/100*a:typeof g=="string"&&(g=parseFloat(g)),t.virtualSize=-g,c.forEach(N=>{s?N.style.marginLeft="":N.style.marginRight="",N.style.marginBottom="",N.style.marginTop=""}),r.centeredSlides&&r.cssMode&&(Ac(n,"--swiper-centered-offset-before",""),Ac(n,"--swiper-centered-offset-after",""));const A=r.grid&&r.grid.rows>1&&t.grid;A?t.grid.initSlides(c):t.grid&&t.grid.unsetSlides();let D;const E=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(N=>typeof r.breakpoints[N].slidesPerView<"u").length>0;for(let N=0;N<f;N+=1){D=0;let C;if(c[N]&&(C=c[N]),A&&t.grid.updateSlide(N,C,c),!(c[N]&&qa(C,"display")==="none")){if(r.slidesPerView==="auto"){E&&(c[N].style[t.getDirectionLabel("width")]="");const M=getComputedStyle(C),F=C.style.transform,I=C.style.webkitTransform;if(F&&(C.style.transform="none"),I&&(C.style.webkitTransform="none"),r.roundLengths)D=t.isHorizontal()?Ky(C,"width"):Ky(C,"height");else{const R=e(M,"width"),T=e(M,"padding-left"),L=e(M,"padding-right"),_=e(M,"margin-left"),H=e(M,"margin-right"),k=M.getPropertyValue("box-sizing");if(k&&k==="border-box")D=R+_+H;else{const{clientWidth:ie,offsetWidth:ee}=C;D=R+T+L+_+H+(ee-ie)}}F&&(C.style.transform=F),I&&(C.style.webkitTransform=I),r.roundLengths&&(D=Math.floor(D))}else D=(a-(r.slidesPerView-1)*g)/r.slidesPerView,r.roundLengths&&(D=Math.floor(D)),c[N]&&(c[N].style[t.getDirectionLabel("width")]=`${D}px`);c[N]&&(c[N].swiperSlideSize=D),h.push(D),r.centeredSlides?(w=w+D/2+x/2+g,x===0&&N!==0&&(w=w-a/2-g),N===0&&(w=w-a/2-g),Math.abs(w)<1/1e3&&(w=0),r.roundLengths&&(w=Math.floor(w)),b%r.slidesPerGroup===0&&d.push(w),p.push(w)):(r.roundLengths&&(w=Math.floor(w)),(b-Math.min(t.params.slidesPerGroupSkip,b))%t.params.slidesPerGroup===0&&d.push(w),p.push(w),w=w+D+g),t.virtualSize+=D+g,x=D,b+=1}}if(t.virtualSize=Math.max(t.virtualSize,a)+v,s&&o&&(r.effect==="slide"||r.effect==="coverflow")&&(n.style.width=`${t.virtualSize+g}px`),r.setWrapperSize&&(n.style[t.getDirectionLabel("width")]=`${t.virtualSize+g}px`),A&&t.grid.updateWrapperSize(D,d),!r.centeredSlides){const N=[];for(let C=0;C<d.length;C+=1){let M=d[C];r.roundLengths&&(M=Math.floor(M)),d[C]<=t.virtualSize-a&&N.push(M)}d=N,Math.floor(t.virtualSize-a)-Math.floor(d[d.length-1])>1&&d.push(t.virtualSize-a)}if(l&&r.loop){const N=h[0]+g;if(r.slidesPerGroup>1){const C=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/r.slidesPerGroup),M=N*r.slidesPerGroup;for(let F=0;F<C;F+=1)d.push(d[d.length-1]+M)}for(let C=0;C<t.virtual.slidesBefore+t.virtual.slidesAfter;C+=1)r.slidesPerGroup===1&&d.push(d[d.length-1]+N),p.push(p[p.length-1]+N),t.virtualSize+=N}if(d.length===0&&(d=[0]),g!==0){const N=t.isHorizontal()&&s?"marginLeft":t.getDirectionLabel("marginRight");c.filter((C,M)=>!r.cssMode||r.loop?!0:M!==c.length-1).forEach(C=>{C.style[N]=`${g}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let N=0;h.forEach(M=>{N+=M+(g||0)}),N-=g;const C=N>a?N-a:0;d=d.map(M=>M<=0?-m:M>C?C+v:M)}if(r.centerInsufficientSlides){let N=0;h.forEach(M=>{N+=M+(g||0)}),N-=g;const C=(r.slidesOffsetBefore||0)+(r.slidesOffsetAfter||0);if(N+C<a){const M=(a-N-C)/2;d.forEach((F,I)=>{d[I]=F-M}),p.forEach((F,I)=>{p[I]=F+M})}}if(Object.assign(t,{slides:c,snapGrid:d,slidesGrid:p,slidesSizesGrid:h}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){Ac(n,"--swiper-centered-offset-before",`${-d[0]}px`),Ac(n,"--swiper-centered-offset-after",`${t.size/2-h[h.length-1]/2}px`);const N=-t.snapGrid[0],C=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(M=>M+N),t.slidesGrid=t.slidesGrid.map(M=>M+C)}if(f!==u&&t.emit("slidesLengthChange"),d.length!==y&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),p.length!==S&&t.emit("slidesGridLengthChange"),r.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const N=`${r.containerModifierClass}backface-hidden`,C=t.el.classList.contains(N);f<=r.maxBackfaceHiddenSlides?C||t.el.classList.add(N):C&&t.el.classList.remove(N)}}function EB(t){const e=this,r=[],n=e.virtual&&e.params.virtual.enabled;let i=0,a;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const s=o=>n?e.slides[e.getSlideIndexByData(o)]:e.slides[o];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(o=>{r.push(o)});else for(a=0;a<Math.ceil(e.params.slidesPerView);a+=1){const o=e.activeIndex+a;if(o>e.slides.length&&!n)break;r.push(s(o))}else r.push(s(e.activeIndex));for(a=0;a<r.length;a+=1)if(typeof r[a]<"u"){const o=r[a].offsetHeight;i=o>i?o:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function AB(){const t=this,e=t.slides,r=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let n=0;n<e.length;n+=1)e[n].swiperSlideOffset=(t.isHorizontal()?e[n].offsetLeft:e[n].offsetTop)-r-t.cssOverflowAdjustment()}const Yy=(t,e,r)=>{e&&!t.classList.contains(r)?t.classList.add(r):!e&&t.classList.contains(r)&&t.classList.remove(r)};function NB(t){t===void 0&&(t=this&&this.translate||0);const e=this,r=e.params,{slides:n,rtlTranslate:i,snapGrid:a}=e;if(n.length===0)return;typeof n[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let s=-t;i&&(s=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let o=r.spaceBetween;typeof o=="string"&&o.indexOf("%")>=0?o=parseFloat(o.replace("%",""))/100*e.size:typeof o=="string"&&(o=parseFloat(o));for(let l=0;l<n.length;l+=1){const u=n[l];let c=u.swiperSlideOffset;r.cssMode&&r.centeredSlides&&(c-=n[0].swiperSlideOffset);const f=(s+(r.centeredSlides?e.minTranslate():0)-c)/(u.swiperSlideSize+o),d=(s-a[0]+(r.centeredSlides?e.minTranslate():0)-c)/(u.swiperSlideSize+o),p=-(s-c),h=p+e.slidesSizesGrid[l],m=p>=0&&p<=e.size-e.slidesSizesGrid[l],v=p>=0&&p<e.size-1||h>1&&h<=e.size||p<=0&&h>=e.size;v&&(e.visibleSlides.push(u),e.visibleSlidesIndexes.push(l)),Yy(u,v,r.slideVisibleClass),Yy(u,m,r.slideFullyVisibleClass),u.progress=i?-f:f,u.originalProgress=i?-d:d}}function DB(t){const e=this;if(typeof t>"u"){const c=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*c||0}const r=e.params,n=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:a,isEnd:s,progressLoop:o}=e;const l=a,u=s;if(n===0)i=0,a=!0,s=!0;else{i=(t-e.minTranslate())/n;const c=Math.abs(t-e.minTranslate())<1,f=Math.abs(t-e.maxTranslate())<1;a=c||i<=0,s=f||i>=1,c&&(i=0),f&&(i=1)}if(r.loop){const c=e.getSlideIndexByData(0),f=e.getSlideIndexByData(e.slides.length-1),d=e.slidesGrid[c],p=e.slidesGrid[f],h=e.slidesGrid[e.slidesGrid.length-1],m=Math.abs(t);m>=d?o=(m-d)/h:o=(m+h-p)/h,o>1&&(o-=1)}Object.assign(e,{progress:i,progressLoop:o,isBeginning:a,isEnd:s}),(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)&&e.updateSlidesProgress(t),a&&!l&&e.emit("reachBeginning toEdge"),s&&!u&&e.emit("reachEnd toEdge"),(l&&!a||u&&!s)&&e.emit("fromEdge"),e.emit("progress",i)}const wh=(t,e,r)=>{e&&!t.classList.contains(r)?t.classList.add(r):!e&&t.classList.contains(r)&&t.classList.remove(r)};function CB(){const t=this,{slides:e,params:r,slidesEl:n,activeIndex:i}=t,a=t.virtual&&r.virtual.enabled,s=t.grid&&r.grid&&r.grid.rows>1,o=f=>sa(n,`.${r.slideClass}${f}, swiper-slide${f}`)[0];let l,u,c;if(a)if(r.loop){let f=i-t.virtual.slidesBefore;f<0&&(f=t.virtual.slides.length+f),f>=t.virtual.slides.length&&(f-=t.virtual.slides.length),l=o(`[data-swiper-slide-index="${f}"]`)}else l=o(`[data-swiper-slide-index="${i}"]`);else s?(l=e.find(f=>f.column===i),c=e.find(f=>f.column===i+1),u=e.find(f=>f.column===i-1)):l=e[i];l&&(s||(c=pB(l,`.${r.slideClass}, swiper-slide`)[0],r.loop&&!c&&(c=e[0]),u=dB(l,`.${r.slideClass}, swiper-slide`)[0],r.loop&&!u===0&&(u=e[e.length-1]))),e.forEach(f=>{wh(f,f===l,r.slideActiveClass),wh(f,f===c,r.slideNextClass),wh(f,f===u,r.slidePrevClass)}),t.emitSlidesClasses()}const ff=(t,e)=>{if(!t||t.destroyed||!t.params)return;const r=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,n=e.closest(r());if(n){let i=n.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(n.shadowRoot?i=n.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{n.shadowRoot&&(i=n.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},Sh=(t,e)=>{if(!t.slides[e])return;const r=t.slides[e].querySelector('[loading="lazy"]');r&&r.removeAttribute("loading")},Pm=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const r=t.slides.length;if(!r||!e||e<0)return;e=Math.min(e,r);const n=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const s=i,o=[s-e];o.push(...Array.from({length:e}).map((l,u)=>s+n+u)),t.slides.forEach((l,u)=>{o.includes(l.column)&&Sh(t,u)});return}const a=i+n-1;if(t.params.rewind||t.params.loop)for(let s=i-e;s<=a+e;s+=1){const o=(s%r+r)%r;(o<i||o>a)&&Sh(t,o)}else for(let s=Math.max(i-e,0);s<=Math.min(a+e,r-1);s+=1)s!==i&&(s>a||s<i)&&Sh(t,s)};function MB(t){const{slidesGrid:e,params:r}=t,n=t.rtlTranslate?t.translate:-t.translate;let i;for(let a=0;a<e.length;a+=1)typeof e[a+1]<"u"?n>=e[a]&&n<e[a+1]-(e[a+1]-e[a])/2?i=a:n>=e[a]&&n<e[a+1]&&(i=a+1):n>=e[a]&&(i=a);return r.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function TB(t){const e=this,r=e.rtlTranslate?e.translate:-e.translate,{snapGrid:n,params:i,activeIndex:a,realIndex:s,snapIndex:o}=e;let l=t,u;const c=p=>{let h=p-e.virtual.slidesBefore;return h<0&&(h=e.virtual.slides.length+h),h>=e.virtual.slides.length&&(h-=e.virtual.slides.length),h};if(typeof l>"u"&&(l=MB(e)),n.indexOf(r)>=0)u=n.indexOf(r);else{const p=Math.min(i.slidesPerGroupSkip,l);u=p+Math.floor((l-p)/i.slidesPerGroup)}if(u>=n.length&&(u=n.length-1),l===a&&!e.params.loop){u!==o&&(e.snapIndex=u,e.emit("snapIndexChange"));return}if(l===a&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=c(l);return}const f=e.grid&&i.grid&&i.grid.rows>1;let d;if(e.virtual&&i.virtual.enabled&&i.loop)d=c(l);else if(f){const p=e.slides.find(m=>m.column===l);let h=parseInt(p.getAttribute("data-swiper-slide-index"),10);Number.isNaN(h)&&(h=Math.max(e.slides.indexOf(p),0)),d=Math.floor(h/i.grid.rows)}else if(e.slides[l]){const p=e.slides[l].getAttribute("data-swiper-slide-index");p?d=parseInt(p,10):d=l}else d=l;Object.assign(e,{previousSnapIndex:o,snapIndex:u,previousRealIndex:s,realIndex:d,previousIndex:a,activeIndex:l}),e.initialized&&Pm(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(s!==d&&e.emit("realIndexChange"),e.emit("slideChange"))}function _B(t,e){const r=this,n=r.params;let i=t.closest(`.${n.slideClass}, swiper-slide`);!i&&r.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(o=>{!i&&o.matches&&o.matches(`.${n.slideClass}, swiper-slide`)&&(i=o)});let a=!1,s;if(i){for(let o=0;o<r.slides.length;o+=1)if(r.slides[o]===i){a=!0,s=o;break}}if(i&&a)r.clickedSlide=i,r.virtual&&r.params.virtual.enabled?r.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):r.clickedIndex=s;else{r.clickedSlide=void 0,r.clickedIndex=void 0;return}n.slideToClickedSlide&&r.clickedIndex!==void 0&&r.clickedIndex!==r.activeIndex&&r.slideToClickedSlide()}var OB={updateSize:wB,updateSlides:SB,updateAutoHeight:EB,updateSlidesOffset:AB,updateSlidesProgress:NB,updateProgress:DB,updateSlidesClasses:CB,updateActiveIndex:TB,updateClickedSlide:_B};function FB(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:r,rtlTranslate:n,translate:i,wrapperEl:a}=e;if(r.virtualTranslate)return n?-i:i;if(r.cssMode)return i;let s=lB(a,t);return s+=e.cssOverflowAdjustment(),n&&(s=-s),s||0}function BB(t,e){const r=this,{rtlTranslate:n,params:i,wrapperEl:a,progress:s}=r;let o=0,l=0;const u=0;r.isHorizontal()?o=n?-t:t:l=t,i.roundLengths&&(o=Math.floor(o),l=Math.floor(l)),r.previousTranslate=r.translate,r.translate=r.isHorizontal()?o:l,i.cssMode?a[r.isHorizontal()?"scrollLeft":"scrollTop"]=r.isHorizontal()?-o:-l:i.virtualTranslate||(r.isHorizontal()?o-=r.cssOverflowAdjustment():l-=r.cssOverflowAdjustment(),a.style.transform=`translate3d(${o}px, ${l}px, ${u}px)`);let c;const f=r.maxTranslate()-r.minTranslate();f===0?c=0:c=(t-r.minTranslate())/f,c!==s&&r.updateProgress(t),r.emit("setTranslate",r.translate,e)}function kB(){return-this.snapGrid[0]}function IB(){return-this.snapGrid[this.snapGrid.length-1]}function RB(t,e,r,n,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),r===void 0&&(r=!0),n===void 0&&(n=!0);const a=this,{params:s,wrapperEl:o}=a;if(a.animating&&s.preventInteractionOnTransition)return!1;const l=a.minTranslate(),u=a.maxTranslate();let c;if(n&&t>l?c=l:n&&t<u?c=u:c=t,a.updateProgress(c),s.cssMode){const f=a.isHorizontal();if(e===0)o[f?"scrollLeft":"scrollTop"]=-c;else{if(!a.support.smoothScroll)return eD({swiper:a,targetPosition:-c,side:f?"left":"top"}),!0;o.scrollTo({[f?"left":"top"]:-c,behavior:"smooth"})}return!0}return e===0?(a.setTransition(0),a.setTranslate(c),r&&(a.emit("beforeTransitionStart",e,i),a.emit("transitionEnd"))):(a.setTransition(e),a.setTranslate(c),r&&(a.emit("beforeTransitionStart",e,i),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(d){!a||a.destroyed||d.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,a.animating=!1,r&&a.emit("transitionEnd"))}),a.wrapperEl.addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd))),!0}var PB={getTranslate:FB,setTranslate:BB,minTranslate:kB,maxTranslate:IB,translateTo:RB};function $B(t,e){const r=this;r.params.cssMode||(r.wrapperEl.style.transitionDuration=`${t}ms`,r.wrapperEl.style.transitionDelay=t===0?"0ms":""),r.emit("setTransition",t,e)}function iD(t){let{swiper:e,runCallbacks:r,direction:n,step:i}=t;const{activeIndex:a,previousIndex:s}=e;let o=n;o||(a>s?o="next":a<s?o="prev":o="reset"),e.emit(`transition${i}`),r&&o==="reset"?e.emit(`slideResetTransition${i}`):r&&a!==s&&(e.emit(`slideChangeTransition${i}`),o==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`))}function LB(t,e){t===void 0&&(t=!0);const r=this,{params:n}=r;n.cssMode||(n.autoHeight&&r.updateAutoHeight(),iD({swiper:r,runCallbacks:t,direction:e,step:"Start"}))}function zB(t,e){t===void 0&&(t=!0);const r=this,{params:n}=r;r.animating=!1,!n.cssMode&&(r.setTransition(0),iD({swiper:r,runCallbacks:t,direction:e,step:"End"}))}var qB={setTransition:$B,transitionStart:LB,transitionEnd:zB};function UB(t,e,r,n,i){t===void 0&&(t=0),r===void 0&&(r=!0),typeof t=="string"&&(t=parseInt(t,10));const a=this;let s=t;s<0&&(s=0);const{params:o,snapGrid:l,slidesGrid:u,previousIndex:c,activeIndex:f,rtlTranslate:d,wrapperEl:p,enabled:h}=a;if(!h&&!n&&!i||a.destroyed||a.animating&&o.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=a.params.speed);const m=Math.min(a.params.slidesPerGroupSkip,s);let v=m+Math.floor((s-m)/a.params.slidesPerGroup);v>=l.length&&(v=l.length-1);const y=-l[v];if(o.normalizeSlideIndex)for(let A=0;A<u.length;A+=1){const D=-Math.floor(y*100),E=Math.floor(u[A]*100),N=Math.floor(u[A+1]*100);typeof u[A+1]<"u"?D>=E&&D<N-(N-E)/2?s=A:D>=E&&D<N&&(s=A+1):D>=E&&(s=A)}if(a.initialized&&s!==f&&(!a.allowSlideNext&&(d?y>a.translate&&y>a.minTranslate():y<a.translate&&y<a.minTranslate())||!a.allowSlidePrev&&y>a.translate&&y>a.maxTranslate()&&(f||0)!==s))return!1;s!==(c||0)&&r&&a.emit("beforeSlideChangeStart"),a.updateProgress(y);let S;s>f?S="next":s<f?S="prev":S="reset";const g=a.virtual&&a.params.virtual.enabled;if(!(g&&i)&&(d&&-y===a.translate||!d&&y===a.translate))return a.updateActiveIndex(s),o.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),o.effect!=="slide"&&a.setTranslate(y),S!=="reset"&&(a.transitionStart(r,S),a.transitionEnd(r,S)),!1;if(o.cssMode){const A=a.isHorizontal(),D=d?y:-y;if(e===0)g&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),g&&!a._cssModeVirtualInitialSet&&a.params.initialSlide>0?(a._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{p[A?"scrollLeft":"scrollTop"]=D})):p[A?"scrollLeft":"scrollTop"]=D,g&&requestAnimationFrame(()=>{a.wrapperEl.style.scrollSnapType="",a._immediateVirtual=!1});else{if(!a.support.smoothScroll)return eD({swiper:a,targetPosition:D,side:A?"left":"top"}),!0;p.scrollTo({[A?"left":"top"]:D,behavior:"smooth"})}return!0}const b=nD().isSafari;return g&&!i&&b&&a.isElement&&a.virtual.update(!1,!1,s),a.setTransition(e),a.setTranslate(y),a.updateActiveIndex(s),a.updateSlidesClasses(),a.emit("beforeTransitionStart",e,n),a.transitionStart(r,S),e===0?a.transitionEnd(r,S):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(D){!a||a.destroyed||D.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(r,S))}),a.wrapperEl.addEventListener("transitionend",a.onSlideToWrapperTransitionEnd)),!0}function HB(t,e,r,n){t===void 0&&(t=0),r===void 0&&(r=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const a=i.grid&&i.params.grid&&i.params.grid.rows>1;let s=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)s=s+i.virtual.slidesBefore;else{let o;if(a){const d=s*i.params.grid.rows;o=i.slides.find(p=>p.getAttribute("data-swiper-slide-index")*1===d).column}else o=i.getSlideIndexByData(s);const l=a?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:u}=i.params;let c=i.params.slidesPerView;c==="auto"?c=i.slidesPerViewDynamic():(c=Math.ceil(parseFloat(i.params.slidesPerView,10)),u&&c%2===0&&(c=c+1));let f=l-o<c;if(u&&(f=f||o<Math.ceil(c/2)),n&&u&&i.params.slidesPerView!=="auto"&&!a&&(f=!1),f){const d=u?o<i.activeIndex?"prev":"next":o-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:d,slideTo:!0,activeSlideIndex:d==="next"?o+1:o-l+1,slideRealIndex:d==="next"?i.realIndex:void 0})}if(a){const d=s*i.params.grid.rows;s=i.slides.find(p=>p.getAttribute("data-swiper-slide-index")*1===d).column}else s=i.getSlideIndexByData(s)}return requestAnimationFrame(()=>{i.slideTo(s,e,r,n)}),i}function VB(t,e,r){e===void 0&&(e=!0);const n=this,{enabled:i,params:a,animating:s}=n;if(!i||n.destroyed)return n;typeof t>"u"&&(t=n.params.speed);let o=a.slidesPerGroup;a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(o=Math.max(n.slidesPerViewDynamic("current",!0),1));const l=n.activeIndex<a.slidesPerGroupSkip?1:o,u=n.virtual&&a.virtual.enabled;if(a.loop){if(s&&!u&&a.loopPreventsSliding)return!1;if(n.loopFix({direction:"next"}),n._clientLeft=n.wrapperEl.clientLeft,n.activeIndex===n.slides.length-1&&a.cssMode)return requestAnimationFrame(()=>{n.slideTo(n.activeIndex+l,t,e,r)}),!0}return a.rewind&&n.isEnd?n.slideTo(0,t,e,r):n.slideTo(n.activeIndex+l,t,e,r)}function WB(t,e,r){e===void 0&&(e=!0);const n=this,{params:i,snapGrid:a,slidesGrid:s,rtlTranslate:o,enabled:l,animating:u}=n;if(!l||n.destroyed)return n;typeof t>"u"&&(t=n.params.speed);const c=n.virtual&&i.virtual.enabled;if(i.loop){if(u&&!c&&i.loopPreventsSliding)return!1;n.loopFix({direction:"prev"}),n._clientLeft=n.wrapperEl.clientLeft}const f=o?n.translate:-n.translate;function d(S){return S<0?-Math.floor(Math.abs(S)):Math.floor(S)}const p=d(f),h=a.map(S=>d(S)),m=i.freeMode&&i.freeMode.enabled;let v=a[h.indexOf(p)-1];if(typeof v>"u"&&(i.cssMode||m)){let S;a.forEach((g,w)=>{p>=g&&(S=w)}),typeof S<"u"&&(v=m?a[S]:a[S>0?S-1:S])}let y=0;if(typeof v<"u"&&(y=s.indexOf(v),y<0&&(y=n.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(y=y-n.slidesPerViewDynamic("previous",!0)+1,y=Math.max(y,0))),i.rewind&&n.isBeginning){const S=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1;return n.slideTo(S,t,e,r)}else if(i.loop&&n.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{n.slideTo(y,t,e,r)}),!0;return n.slideTo(y,t,e,r)}function GB(t,e,r){e===void 0&&(e=!0);const n=this;if(!n.destroyed)return typeof t>"u"&&(t=n.params.speed),n.slideTo(n.activeIndex,t,e,r)}function jB(t,e,r,n){e===void 0&&(e=!0),n===void 0&&(n=.5);const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let a=i.activeIndex;const s=Math.min(i.params.slidesPerGroupSkip,a),o=s+Math.floor((a-s)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[o]){const u=i.snapGrid[o],c=i.snapGrid[o+1];l-u>(c-u)*n&&(a+=i.params.slidesPerGroup)}else{const u=i.snapGrid[o-1],c=i.snapGrid[o];l-u<=(c-u)*n&&(a-=i.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,i.slidesGrid.length-1),i.slideTo(a,t,e,r)}function KB(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:r}=t,n=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,a;const s=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;a=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-n/2||i>t.slides.length-t.loopedSlides+n/2?(t.loopFix(),i=t.getSlideIndex(sa(r,`${s}[data-swiper-slide-index="${a}"]`)[0]),Im(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-n?(t.loopFix(),i=t.getSlideIndex(sa(r,`${s}[data-swiper-slide-index="${a}"]`)[0]),Im(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var JB={slideTo:UB,slideToLoop:HB,slideNext:VB,slidePrev:WB,slideReset:GB,slideToClosest:jB,slideToClickedSlide:KB};function YB(t,e){const r=this,{params:n,slidesEl:i}=r;if(!n.loop||r.virtual&&r.params.virtual.enabled)return;const a=()=>{sa(i,`.${n.slideClass}, swiper-slide`).forEach((d,p)=>{d.setAttribute("data-swiper-slide-index",p)})},s=r.grid&&n.grid&&n.grid.rows>1,o=n.slidesPerGroup*(s?n.grid.rows:1),l=r.slides.length%o!==0,u=s&&r.slides.length%n.grid.rows!==0,c=f=>{for(let d=0;d<f;d+=1){const p=r.isElement?Rm("swiper-slide",[n.slideBlankClass]):Rm("div",[n.slideClass,n.slideBlankClass]);r.slidesEl.append(p)}};if(l){if(n.loopAddBlankSlides){const f=o-r.slides.length%o;c(f),r.recalcSlides(),r.updateSlides()}else Lf("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");a()}else if(u){if(n.loopAddBlankSlides){const f=n.grid.rows-r.slides.length%n.grid.rows;c(f),r.recalcSlides(),r.updateSlides()}else Lf("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");a()}else a();r.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next",initial:e})}function XB(t){let{slideRealIndex:e,slideTo:r=!0,direction:n,setTranslate:i,activeSlideIndex:a,initial:s,byController:o,byMousewheel:l}=t===void 0?{}:t;const u=this;if(!u.params.loop)return;u.emit("beforeLoopFix");const{slides:c,allowSlidePrev:f,allowSlideNext:d,slidesEl:p,params:h}=u,{centeredSlides:m,initialSlide:v}=h;if(u.allowSlidePrev=!0,u.allowSlideNext=!0,u.virtual&&h.virtual.enabled){r&&(!h.centeredSlides&&u.snapIndex===0?u.slideTo(u.virtual.slides.length,0,!1,!0):h.centeredSlides&&u.snapIndex<h.slidesPerView?u.slideTo(u.virtual.slides.length+u.snapIndex,0,!1,!0):u.snapIndex===u.snapGrid.length-1&&u.slideTo(u.virtual.slidesBefore,0,!1,!0)),u.allowSlidePrev=f,u.allowSlideNext=d,u.emit("loopFix");return}let y=h.slidesPerView;y==="auto"?y=u.slidesPerViewDynamic():(y=Math.ceil(parseFloat(h.slidesPerView,10)),m&&y%2===0&&(y=y+1));const S=h.slidesPerGroupAuto?y:h.slidesPerGroup;let g=S;g%S!==0&&(g+=S-g%S),g+=h.loopAdditionalSlides,u.loopedSlides=g;const w=u.grid&&h.grid&&h.grid.rows>1;c.length<y+g||u.params.effect==="cards"&&c.length<y+g*2?Lf("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):w&&h.grid.fill==="row"&&Lf("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const x=[],b=[],A=w?Math.ceil(c.length/h.grid.rows):c.length,D=s&&A-v<y&&!m;let E=D?v:u.activeIndex;typeof a>"u"?a=u.getSlideIndex(c.find(T=>T.classList.contains(h.slideActiveClass))):E=a;const N=n==="next"||!n,C=n==="prev"||!n;let M=0,F=0;const R=(w?c[a].column:a)+(m&&typeof i>"u"?-y/2+.5:0);if(R<g){M=Math.max(g-R,S);for(let T=0;T<g-R;T+=1){const L=T-Math.floor(T/A)*A;if(w){const _=A-L-1;for(let H=c.length-1;H>=0;H-=1)c[H].column===_&&x.push(H)}else x.push(A-L-1)}}else if(R+y>A-g){F=Math.max(R-(A-g*2),S),D&&(F=Math.max(F,y-A+v+1));for(let T=0;T<F;T+=1){const L=T-Math.floor(T/A)*A;w?c.forEach((_,H)=>{_.column===L&&b.push(H)}):b.push(L)}}if(u.__preventObserver__=!0,requestAnimationFrame(()=>{u.__preventObserver__=!1}),u.params.effect==="cards"&&c.length<y+g*2&&(b.includes(a)&&b.splice(b.indexOf(a),1),x.includes(a)&&x.splice(x.indexOf(a),1)),C&&x.forEach(T=>{c[T].swiperLoopMoveDOM=!0,p.prepend(c[T]),c[T].swiperLoopMoveDOM=!1}),N&&b.forEach(T=>{c[T].swiperLoopMoveDOM=!0,p.append(c[T]),c[T].swiperLoopMoveDOM=!1}),u.recalcSlides(),h.slidesPerView==="auto"?u.updateSlides():w&&(x.length>0&&C||b.length>0&&N)&&u.slides.forEach((T,L)=>{u.grid.updateSlide(L,T,u.slides)}),h.watchSlidesProgress&&u.updateSlidesOffset(),r){if(x.length>0&&C){if(typeof e>"u"){const T=u.slidesGrid[E],_=u.slidesGrid[E+M]-T;l?u.setTranslate(u.translate-_):(u.slideTo(E+Math.ceil(M),0,!1,!0),i&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-_,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-_))}else if(i){const T=w?x.length/h.grid.rows:x.length;u.slideTo(u.activeIndex+T,0,!1,!0),u.touchEventsData.currentTranslate=u.translate}}else if(b.length>0&&N)if(typeof e>"u"){const T=u.slidesGrid[E],_=u.slidesGrid[E-F]-T;l?u.setTranslate(u.translate-_):(u.slideTo(E-F,0,!1,!0),i&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-_,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-_))}else{const T=w?b.length/h.grid.rows:b.length;u.slideTo(u.activeIndex-T,0,!1,!0)}}if(u.allowSlidePrev=f,u.allowSlideNext=d,u.controller&&u.controller.control&&!o){const T={slideRealIndex:e,direction:n,setTranslate:i,activeSlideIndex:a,byController:!0};Array.isArray(u.controller.control)?u.controller.control.forEach(L=>{!L.destroyed&&L.params.loop&&L.loopFix({...T,slideTo:L.params.slidesPerView===h.slidesPerView?r:!1})}):u.controller.control instanceof u.constructor&&u.controller.control.params.loop&&u.controller.control.loopFix({...T,slideTo:u.controller.control.params.slidesPerView===h.slidesPerView?r:!1})}u.emit("loopFix")}function ZB(){const t=this,{params:e,slidesEl:r}=t;if(!e.loop||!r||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const n=[];t.slides.forEach(i=>{const a=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;n[a]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),n.forEach(i=>{r.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var QB={loopCreate:YB,loopFix:XB,loopDestroy:ZB};function ek(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const r=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),r.style.cursor="move",r.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function tk(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var rk={setGrabCursor:ek,unsetGrabCursor:tk};function nk(t,e){e===void 0&&(e=this);function r(n){if(!n||n===no()||n===mn())return null;n.assignedSlot&&(n=n.assignedSlot);const i=n.closest(t);return!i&&!n.getRootNode?null:i||r(n.getRootNode().host)}return r(e)}function Xy(t,e,r){const n=mn(),{params:i}=t,a=i.edgeSwipeDetection,s=i.edgeSwipeThreshold;return a&&(r<=s||r>=n.innerWidth-s)?a==="prevent"?(e.preventDefault(),!0):!1:!0}function ik(t){const e=this,r=no();let n=t;n.originalEvent&&(n=n.originalEvent);const i=e.touchEventsData;if(n.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==n.pointerId)return;i.pointerId=n.pointerId}else n.type==="touchstart"&&n.targetTouches.length===1&&(i.touchId=n.targetTouches[0].identifier);if(n.type==="touchstart"){Xy(e,n,n.targetTouches[0].pageX);return}const{params:a,touches:s,enabled:o}=e;if(!o||!a.simulateTouch&&n.pointerType==="mouse"||e.animating&&a.preventInteractionOnTransition)return;!e.animating&&a.cssMode&&a.loop&&e.loopFix();let l=n.target;if(a.touchEventsTarget==="wrapper"&&!fB(l,e.wrapperEl)||"which"in n&&n.which===3||"button"in n&&n.button>0||i.isTouched&&i.isMoved)return;const u=!!a.noSwipingClass&&a.noSwipingClass!=="",c=n.composedPath?n.composedPath():n.path;u&&n.target&&n.target.shadowRoot&&c&&(l=c[0]);const f=a.noSwipingSelector?a.noSwipingSelector:`.${a.noSwipingClass}`,d=!!(n.target&&n.target.shadowRoot);if(a.noSwiping&&(d?nk(f,l):l.closest(f))){e.allowClick=!0;return}if(a.swipeHandler&&!l.closest(a.swipeHandler))return;s.currentX=n.pageX,s.currentY=n.pageY;const p=s.currentX,h=s.currentY;if(!Xy(e,n,p))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),s.startX=p,s.startY=h,i.touchStartTime=$f(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,a.threshold>0&&(i.allowThresholdMove=!1);let m=!0;l.matches(i.focusableElements)&&(m=!1,l.nodeName==="SELECT"&&(i.isTouched=!1)),r.activeElement&&r.activeElement.matches(i.focusableElements)&&r.activeElement!==l&&(n.pointerType==="mouse"||n.pointerType!=="mouse"&&!l.matches(i.focusableElements))&&r.activeElement.blur();const v=m&&e.allowTouchMove&&a.touchStartPreventDefault;(a.touchStartForcePreventDefault||v)&&!l.isContentEditable&&n.preventDefault(),a.freeMode&&a.freeMode.enabled&&e.freeMode&&e.animating&&!a.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",n)}function ak(t){const e=no(),r=this,n=r.touchEventsData,{params:i,touches:a,rtlTranslate:s,enabled:o}=r;if(!o||!i.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(n.touchId!==null||l.pointerId!==n.pointerId))return;let u;if(l.type==="touchmove"){if(u=[...l.changedTouches].find(x=>x.identifier===n.touchId),!u||u.identifier!==n.touchId)return}else u=l;if(!n.isTouched){n.startMoving&&n.isScrolling&&r.emit("touchMoveOpposite",l);return}const c=u.pageX,f=u.pageY;if(l.preventedByNestedSwiper){a.startX=c,a.startY=f;return}if(!r.allowTouchMove){l.target.matches(n.focusableElements)||(r.allowClick=!1),n.isTouched&&(Object.assign(a,{startX:c,startY:f,currentX:c,currentY:f}),n.touchStartTime=$f());return}if(i.touchReleaseOnEdges&&!i.loop)if(r.isVertical()){if(f<a.startY&&r.translate<=r.maxTranslate()||f>a.startY&&r.translate>=r.minTranslate()){n.isTouched=!1,n.isMoved=!1;return}}else{if(s&&(c>a.startX&&-r.translate<=r.maxTranslate()||c<a.startX&&-r.translate>=r.minTranslate()))return;if(!s&&(c<a.startX&&r.translate<=r.maxTranslate()||c>a.startX&&r.translate>=r.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(n.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(n.focusableElements)){n.isMoved=!0,r.allowClick=!1;return}n.allowTouchCallbacks&&r.emit("touchMove",l),a.previousX=a.currentX,a.previousY=a.currentY,a.currentX=c,a.currentY=f;const d=a.currentX-a.startX,p=a.currentY-a.startY;if(r.params.threshold&&Math.sqrt(d**2+p**2)<r.params.threshold)return;if(typeof n.isScrolling>"u"){let x;r.isHorizontal()&&a.currentY===a.startY||r.isVertical()&&a.currentX===a.startX?n.isScrolling=!1:d*d+p*p>=25&&(x=Math.atan2(Math.abs(p),Math.abs(d))*180/Math.PI,n.isScrolling=r.isHorizontal()?x>i.touchAngle:90-x>i.touchAngle)}if(n.isScrolling&&r.emit("touchMoveOpposite",l),typeof n.startMoving>"u"&&(a.currentX!==a.startX||a.currentY!==a.startY)&&(n.startMoving=!0),n.isScrolling||l.type==="touchmove"&&n.preventTouchMoveFromPointerMove){n.isTouched=!1;return}if(!n.startMoving)return;r.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation();let h=r.isHorizontal()?d:p,m=r.isHorizontal()?a.currentX-a.previousX:a.currentY-a.previousY;i.oneWayMovement&&(h=Math.abs(h)*(s?1:-1),m=Math.abs(m)*(s?1:-1)),a.diff=h,h*=i.touchRatio,s&&(h=-h,m=-m);const v=r.touchesDirection;r.swipeDirection=h>0?"prev":"next",r.touchesDirection=m>0?"prev":"next";const y=r.params.loop&&!i.cssMode,S=r.touchesDirection==="next"&&r.allowSlideNext||r.touchesDirection==="prev"&&r.allowSlidePrev;if(!n.isMoved){if(y&&S&&r.loopFix({direction:r.swipeDirection}),n.startTranslate=r.getTranslate(),r.setTransition(0),r.animating){const x=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});r.wrapperEl.dispatchEvent(x)}n.allowMomentumBounce=!1,i.grabCursor&&(r.allowSlideNext===!0||r.allowSlidePrev===!0)&&r.setGrabCursor(!0),r.emit("sliderFirstMove",l)}if(new Date().getTime(),i._loopSwapReset!==!1&&n.isMoved&&n.allowThresholdMove&&v!==r.touchesDirection&&y&&S&&Math.abs(h)>=1){Object.assign(a,{startX:c,startY:f,currentX:c,currentY:f,startTranslate:n.currentTranslate}),n.loopSwapReset=!0,n.startTranslate=n.currentTranslate;return}r.emit("sliderMove",l),n.isMoved=!0,n.currentTranslate=h+n.startTranslate;let g=!0,w=i.resistanceRatio;if(i.touchReleaseOnEdges&&(w=0),h>0?(y&&S&&n.allowThresholdMove&&n.currentTranslate>(i.centeredSlides?r.minTranslate()-r.slidesSizesGrid[r.activeIndex+1]-(i.slidesPerView!=="auto"&&r.slides.length-i.slidesPerView>=2?r.slidesSizesGrid[r.activeIndex+1]+r.params.spaceBetween:0)-r.params.spaceBetween:r.minTranslate())&&r.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),n.currentTranslate>r.minTranslate()&&(g=!1,i.resistance&&(n.currentTranslate=r.minTranslate()-1+(-r.minTranslate()+n.startTranslate+h)**w))):h<0&&(y&&S&&n.allowThresholdMove&&n.currentTranslate<(i.centeredSlides?r.maxTranslate()+r.slidesSizesGrid[r.slidesSizesGrid.length-1]+r.params.spaceBetween+(i.slidesPerView!=="auto"&&r.slides.length-i.slidesPerView>=2?r.slidesSizesGrid[r.slidesSizesGrid.length-1]+r.params.spaceBetween:0):r.maxTranslate())&&r.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:r.slides.length-(i.slidesPerView==="auto"?r.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),n.currentTranslate<r.maxTranslate()&&(g=!1,i.resistance&&(n.currentTranslate=r.maxTranslate()+1-(r.maxTranslate()-n.startTranslate-h)**w))),g&&(l.preventedByNestedSwiper=!0),!r.allowSlideNext&&r.swipeDirection==="next"&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!r.allowSlidePrev&&r.swipeDirection==="prev"&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),!r.allowSlidePrev&&!r.allowSlideNext&&(n.currentTranslate=n.startTranslate),i.threshold>0)if(Math.abs(h)>i.threshold||n.allowThresholdMove){if(!n.allowThresholdMove){n.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,n.currentTranslate=n.startTranslate,a.diff=r.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY;return}}else{n.currentTranslate=n.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&r.freeMode||i.watchSlidesProgress)&&(r.updateActiveIndex(),r.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&r.freeMode&&r.freeMode.onTouchMove(),r.updateProgress(n.currentTranslate),r.setTranslate(n.currentTranslate))}function sk(t){const e=this,r=e.touchEventsData;let n=t;n.originalEvent&&(n=n.originalEvent);let i;if(n.type==="touchend"||n.type==="touchcancel"){if(i=[...n.changedTouches].find(x=>x.identifier===r.touchId),!i||i.identifier!==r.touchId)return}else{if(r.touchId!==null||n.pointerId!==r.pointerId)return;i=n}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(n.type)&&!(["pointercancel","contextmenu"].includes(n.type)&&(e.browser.isSafari||e.browser.isWebView)))return;r.pointerId=null,r.touchId=null;const{params:s,touches:o,rtlTranslate:l,slidesGrid:u,enabled:c}=e;if(!c||!s.simulateTouch&&n.pointerType==="mouse")return;if(r.allowTouchCallbacks&&e.emit("touchEnd",n),r.allowTouchCallbacks=!1,!r.isTouched){r.isMoved&&s.grabCursor&&e.setGrabCursor(!1),r.isMoved=!1,r.startMoving=!1;return}s.grabCursor&&r.isMoved&&r.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const f=$f(),d=f-r.touchStartTime;if(e.allowClick){const x=n.path||n.composedPath&&n.composedPath();e.updateClickedSlide(x&&x[0]||n.target,x),e.emit("tap click",n),d<300&&f-r.lastClickTime<300&&e.emit("doubleTap doubleClick",n)}if(r.lastClickTime=$f(),Im(()=>{e.destroyed||(e.allowClick=!0)}),!r.isTouched||!r.isMoved||!e.swipeDirection||o.diff===0&&!r.loopSwapReset||r.currentTranslate===r.startTranslate&&!r.loopSwapReset){r.isTouched=!1,r.isMoved=!1,r.startMoving=!1;return}r.isTouched=!1,r.isMoved=!1,r.startMoving=!1;let p;if(s.followFinger?p=l?e.translate:-e.translate:p=-r.currentTranslate,s.cssMode)return;if(s.freeMode&&s.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:p});return}const h=p>=-e.maxTranslate()&&!e.params.loop;let m=0,v=e.slidesSizesGrid[0];for(let x=0;x<u.length;x+=x<s.slidesPerGroupSkip?1:s.slidesPerGroup){const b=x<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;typeof u[x+b]<"u"?(h||p>=u[x]&&p<u[x+b])&&(m=x,v=u[x+b]-u[x]):(h||p>=u[x])&&(m=x,v=u[u.length-1]-u[u.length-2])}let y=null,S=null;s.rewind&&(e.isBeginning?S=s.virtual&&s.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(y=0));const g=(p-u[m])/v,w=m<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;if(d>s.longSwipesMs){if(!s.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(g>=s.longSwipesRatio?e.slideTo(s.rewind&&e.isEnd?y:m+w):e.slideTo(m)),e.swipeDirection==="prev"&&(g>1-s.longSwipesRatio?e.slideTo(m+w):S!==null&&g<0&&Math.abs(g)>s.longSwipesRatio?e.slideTo(S):e.slideTo(m))}else{if(!s.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(n.target===e.navigation.nextEl||n.target===e.navigation.prevEl)?n.target===e.navigation.nextEl?e.slideTo(m+w):e.slideTo(m):(e.swipeDirection==="next"&&e.slideTo(y!==null?y:m+w),e.swipeDirection==="prev"&&e.slideTo(S!==null?S:m))}}function Zy(){const t=this,{params:e,el:r}=t;if(r&&r.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:n,allowSlidePrev:i,snapGrid:a}=t,s=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const o=s&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!o?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!s?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=n,t.params.watchOverflow&&a!==t.snapGrid&&t.checkOverflow()}function ok(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function lk(){const t=this,{wrapperEl:e,rtlTranslate:r,enabled:n}=t;if(!n)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const a=t.maxTranslate()-t.minTranslate();a===0?i=0:i=(t.translate-t.minTranslate())/a,i!==t.progress&&t.updateProgress(r?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function uk(t){const e=this;ff(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function ck(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const aD=(t,e)=>{const r=no(),{params:n,el:i,wrapperEl:a,device:s}=t,o=!!n.nested,l=e==="on"?"addEventListener":"removeEventListener",u=e;!i||typeof i=="string"||(r[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:o}),i[l]("touchstart",t.onTouchStart,{passive:!1}),i[l]("pointerdown",t.onTouchStart,{passive:!1}),r[l]("touchmove",t.onTouchMove,{passive:!1,capture:o}),r[l]("pointermove",t.onTouchMove,{passive:!1,capture:o}),r[l]("touchend",t.onTouchEnd,{passive:!0}),r[l]("pointerup",t.onTouchEnd,{passive:!0}),r[l]("pointercancel",t.onTouchEnd,{passive:!0}),r[l]("touchcancel",t.onTouchEnd,{passive:!0}),r[l]("pointerout",t.onTouchEnd,{passive:!0}),r[l]("pointerleave",t.onTouchEnd,{passive:!0}),r[l]("contextmenu",t.onTouchEnd,{passive:!0}),(n.preventClicks||n.preventClicksPropagation)&&i[l]("click",t.onClick,!0),n.cssMode&&a[l]("scroll",t.onScroll),n.updateOnWindowResize?t[u](s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",Zy,!0):t[u]("observerUpdate",Zy,!0),i[l]("load",t.onLoad,{capture:!0}))};function fk(){const t=this,{params:e}=t;t.onTouchStart=ik.bind(t),t.onTouchMove=ak.bind(t),t.onTouchEnd=sk.bind(t),t.onDocumentTouchStart=ck.bind(t),e.cssMode&&(t.onScroll=lk.bind(t)),t.onClick=ok.bind(t),t.onLoad=uk.bind(t),aD(t,"on")}function dk(){aD(this,"off")}var pk={attachEvents:fk,detachEvents:dk};const Qy=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function hk(){const t=this,{realIndex:e,initialized:r,params:n,el:i}=t,a=n.breakpoints;if(!a||a&&Object.keys(a).length===0)return;const s=no(),o=n.breakpointsBase==="window"||!n.breakpointsBase?n.breakpointsBase:"container",l=["window","container"].includes(n.breakpointsBase)||!n.breakpointsBase?t.el:s.querySelector(n.breakpointsBase),u=t.getBreakpoint(a,o,l);if(!u||t.currentBreakpoint===u)return;const f=(u in a?a[u]:void 0)||t.originalParams,d=Qy(t,n),p=Qy(t,f),h=t.params.grabCursor,m=f.grabCursor,v=n.enabled;d&&!p?(i.classList.remove(`${n.containerModifierClass}grid`,`${n.containerModifierClass}grid-column`),t.emitContainerClasses()):!d&&p&&(i.classList.add(`${n.containerModifierClass}grid`),(f.grid.fill&&f.grid.fill==="column"||!f.grid.fill&&n.grid.fill==="column")&&i.classList.add(`${n.containerModifierClass}grid-column`),t.emitContainerClasses()),h&&!m?t.unsetGrabCursor():!h&&m&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(b=>{if(typeof f[b]>"u")return;const A=n[b]&&n[b].enabled,D=f[b]&&f[b].enabled;A&&!D&&t[b].disable(),!A&&D&&t[b].enable()});const y=f.direction&&f.direction!==n.direction,S=n.loop&&(f.slidesPerView!==n.slidesPerView||y),g=n.loop;y&&r&&t.changeDirection(),Mn(t.params,f);const w=t.params.enabled,x=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),v&&!w?t.disable():!v&&w&&t.enable(),t.currentBreakpoint=u,t.emit("_beforeBreakpoint",f),r&&(S?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!g&&x?(t.loopCreate(e),t.updateSlides()):g&&!x&&t.loopDestroy()),t.emit("breakpoint",f)}function mk(t,e,r){if(e===void 0&&(e="window"),!t||e==="container"&&!r)return;let n=!1;const i=mn(),a=e==="window"?i.innerHeight:r.clientHeight,s=Object.keys(t).map(o=>{if(typeof o=="string"&&o.indexOf("@")===0){const l=parseFloat(o.substr(1));return{value:a*l,point:o}}return{value:o,point:o}});s.sort((o,l)=>parseInt(o.value,10)-parseInt(l.value,10));for(let o=0;o<s.length;o+=1){const{point:l,value:u}=s[o];e==="window"?i.matchMedia(`(min-width: ${u}px)`).matches&&(n=l):u<=r.clientWidth&&(n=l)}return n||"max"}var gk={setBreakpoint:hk,getBreakpoint:mk};function vk(t,e){const r=[];return t.forEach(n=>{typeof n=="object"?Object.keys(n).forEach(i=>{n[i]&&r.push(e+i)}):typeof n=="string"&&r.push(e+n)}),r}function yk(){const t=this,{classNames:e,params:r,rtl:n,el:i,device:a}=t,s=vk(["initialized",r.direction,{"free-mode":t.params.freeMode&&r.freeMode.enabled},{autoheight:r.autoHeight},{rtl:n},{grid:r.grid&&r.grid.rows>1},{"grid-column":r.grid&&r.grid.rows>1&&r.grid.fill==="column"},{android:a.android},{ios:a.ios},{"css-mode":r.cssMode},{centered:r.cssMode&&r.centeredSlides},{"watch-progress":r.watchSlidesProgress}],r.containerModifierClass);e.push(...s),i.classList.add(...e),t.emitContainerClasses()}function bk(){const t=this,{el:e,classNames:r}=t;!e||typeof e=="string"||(e.classList.remove(...r),t.emitContainerClasses())}var xk={addClasses:yk,removeClasses:bk};function wk(){const t=this,{isLocked:e,params:r}=t,{slidesOffsetBefore:n}=r;if(n){const i=t.slides.length-1,a=t.slidesGrid[i]+t.slidesSizesGrid[i]+n*2;t.isLocked=t.size>a}else t.isLocked=t.snapGrid.length===1;r.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),r.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var Sk={checkOverflow:wk},$m={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Ek(t,e){return function(n){n===void 0&&(n={});const i=Object.keys(n)[0],a=n[i];if(typeof a!="object"||a===null){Mn(e,n);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in a)){Mn(e,n);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),Mn(e,n)}}const Eh={eventsEmitter:xB,update:OB,translate:PB,transition:qB,slide:JB,loop:QB,grabCursor:rk,events:pk,breakpoints:gk,checkOverflow:Sk,classes:xk},Ah={};let hv=class Qi{constructor(){let e,r;for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?r=i[0]:[e,r]=i,r||(r={}),r=Mn({},r),e&&!r.el&&(r.el=e);const s=no();if(r.el&&typeof r.el=="string"&&s.querySelectorAll(r.el).length>1){const c=[];return s.querySelectorAll(r.el).forEach(f=>{const d=Mn({},r,{el:f});c.push(new Qi(d))}),c}const o=this;o.__swiper__=!0,o.support=tD(),o.device=rD({userAgent:r.userAgent}),o.browser=nD(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],r.modules&&Array.isArray(r.modules)&&o.modules.push(...r.modules);const l={};o.modules.forEach(c=>{c({params:r,swiper:o,extendParams:Ek(r,l),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})});const u=Mn({},$m,l);return o.params=Mn({},u,Ah,r),o.originalParams=Mn({},o.params),o.passedParams=Mn({},r),o.params&&o.params.on&&Object.keys(o.params.on).forEach(c=>{o.on(c,o.params.on[c])}),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return o.params.direction==="horizontal"},isVertical(){return o.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:r,params:n}=this,i=sa(r,`.${n.slideClass}, swiper-slide`),a=jy(i[0]);return jy(e)-a}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(r=>r.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:r,params:n}=e;e.slides=sa(r,`.${n.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,r){const n=this;e=Math.min(Math.max(e,0),1);const i=n.minTranslate(),s=(n.maxTranslate()-i)*e+i;n.translateTo(s,typeof r>"u"?0:r),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const r=e.el.className.split(" ").filter(n=>n.indexOf("swiper")===0||n.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",r.join(" "))}getSlideClasses(e){const r=this;return r.destroyed?"":e.className.split(" ").filter(n=>n.indexOf("swiper-slide")===0||n.indexOf(r.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const r=[];e.slides.forEach(n=>{const i=e.getSlideClasses(n);r.push({slideEl:n,classNames:i}),e.emit("_slideClass",n,i)}),e.emit("_slideClasses",r)}slidesPerViewDynamic(e,r){e===void 0&&(e="current"),r===void 0&&(r=!1);const n=this,{params:i,slides:a,slidesGrid:s,slidesSizesGrid:o,size:l,activeIndex:u}=n;let c=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let f=a[u]?Math.ceil(a[u].swiperSlideSize):0,d;for(let p=u+1;p<a.length;p+=1)a[p]&&!d&&(f+=Math.ceil(a[p].swiperSlideSize),c+=1,f>l&&(d=!0));for(let p=u-1;p>=0;p-=1)a[p]&&!d&&(f+=a[p].swiperSlideSize,c+=1,f>l&&(d=!0))}else if(e==="current")for(let f=u+1;f<a.length;f+=1)(r?s[f]+o[f]-s[u]<l:s[f]-s[u]<l)&&(c+=1);else for(let f=u-1;f>=0;f-=1)s[u]-s[f]<l&&(c+=1);return c}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:r,params:n}=e;n.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(s=>{s.complete&&ff(e,s)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const s=e.rtlTranslate?e.translate*-1:e.translate,o=Math.min(Math.max(s,e.maxTranslate()),e.minTranslate());e.setTranslate(o),e.updateActiveIndex(),e.updateSlidesClasses()}let a;if(n.freeMode&&n.freeMode.enabled&&!n.cssMode)i(),n.autoHeight&&e.updateAutoHeight();else{if((n.slidesPerView==="auto"||n.slidesPerView>1)&&e.isEnd&&!n.centeredSlides){const s=e.virtual&&n.virtual.enabled?e.virtual.slides:e.slides;a=e.slideTo(s.length-1,0,!1,!0)}else a=e.slideTo(e.activeIndex,0,!1,!0);a||i()}n.watchOverflow&&r!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,r){r===void 0&&(r=!0);const n=this,i=n.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(n.el.classList.remove(`${n.params.containerModifierClass}${i}`),n.el.classList.add(`${n.params.containerModifierClass}${e}`),n.emitContainerClasses(),n.params.direction=e,n.slides.forEach(a=>{e==="vertical"?a.style.width="":a.style.height=""}),n.emit("changeDirection"),r&&n.update()),n}changeLanguageDirection(e){const r=this;r.rtl&&e==="rtl"||!r.rtl&&e==="ltr"||(r.rtl=e==="rtl",r.rtlTranslate=r.params.direction==="horizontal"&&r.rtl,r.rtl?(r.el.classList.add(`${r.params.containerModifierClass}rtl`),r.el.dir="rtl"):(r.el.classList.remove(`${r.params.containerModifierClass}rtl`),r.el.dir="ltr"),r.update())}mount(e){const r=this;if(r.mounted)return!0;let n=e||r.params.el;if(typeof n=="string"&&(n=document.querySelector(n)),!n)return!1;n.swiper=r,n.parentNode&&n.parentNode.host&&n.parentNode.host.nodeName===r.params.swiperElementNodeName.toUpperCase()&&(r.isElement=!0);const i=()=>`.${(r.params.wrapperClass||"").trim().split(" ").join(".")}`;let s=n&&n.shadowRoot&&n.shadowRoot.querySelector?n.shadowRoot.querySelector(i()):sa(n,i())[0];return!s&&r.params.createElements&&(s=Rm("div",r.params.wrapperClass),n.append(s),sa(n,`.${r.params.slideClass}`).forEach(o=>{s.append(o)})),Object.assign(r,{el:n,wrapperEl:s,slidesEl:r.isElement&&!n.parentNode.host.slideSlots?n.parentNode.host:s,hostEl:r.isElement?n.parentNode.host:n,mounted:!0,rtl:n.dir.toLowerCase()==="rtl"||qa(n,"direction")==="rtl",rtlTranslate:r.params.direction==="horizontal"&&(n.dir.toLowerCase()==="rtl"||qa(n,"direction")==="rtl"),wrongRTL:qa(s,"display")==="-webkit-box"}),!0}init(e){const r=this;if(r.initialized||r.mount(e)===!1)return r;r.emit("beforeInit"),r.params.breakpoints&&r.setBreakpoint(),r.addClasses(),r.updateSize(),r.updateSlides(),r.params.watchOverflow&&r.checkOverflow(),r.params.grabCursor&&r.enabled&&r.setGrabCursor(),r.params.loop&&r.virtual&&r.params.virtual.enabled?r.slideTo(r.params.initialSlide+r.virtual.slidesBefore,0,r.params.runCallbacksOnInit,!1,!0):r.slideTo(r.params.initialSlide,0,r.params.runCallbacksOnInit,!1,!0),r.params.loop&&r.loopCreate(void 0,!0),r.attachEvents();const i=[...r.el.querySelectorAll('[loading="lazy"]')];return r.isElement&&i.push(...r.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(a=>{a.complete?ff(r,a):a.addEventListener("load",s=>{ff(r,s.target)})}),Pm(r),r.initialized=!0,Pm(r),r.emit("init"),r.emit("afterInit"),r}destroy(e,r){e===void 0&&(e=!0),r===void 0&&(r=!0);const n=this,{params:i,el:a,wrapperEl:s,slides:o}=n;return typeof n.params>"u"||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),i.loop&&n.loopDestroy(),r&&(n.removeClasses(),a&&typeof a!="string"&&a.removeAttribute("style"),s&&s.removeAttribute("style"),o&&o.length&&o.forEach(l=>{l.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),n.emit("destroy"),Object.keys(n.eventsListeners).forEach(l=>{n.off(l)}),e!==!1&&(n.el&&typeof n.el!="string"&&(n.el.swiper=null),sB(n)),n.destroyed=!0),null}static extendDefaults(e){Mn(Ah,e)}static get extendedDefaults(){return Ah}static get defaults(){return $m}static installModule(e){Qi.prototype.__modules__||(Qi.prototype.__modules__=[]);const r=Qi.prototype.__modules__;typeof e=="function"&&r.indexOf(e)<0&&r.push(e)}static use(e){return Array.isArray(e)?(e.forEach(r=>Qi.installModule(r)),Qi):(Qi.installModule(e),Qi)}};Object.keys(Eh).forEach(t=>{Object.keys(Eh[t]).forEach(e=>{hv.prototype[e]=Eh[t][e]})});hv.use([yB,bB]);const sD=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function js(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function qo(t,e){const r=["__proto__","constructor","prototype"];Object.keys(e).filter(n=>r.indexOf(n)<0).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:js(e[n])&&js(t[n])&&Object.keys(e[n]).length>0?e[n].__swiper__?t[n]=e[n]:qo(t[n],e[n]):t[n]=e[n]})}function oD(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function lD(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function uD(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function cD(t){t===void 0&&(t="");const e=t.split(" ").map(n=>n.trim()).filter(n=>!!n),r=[];return e.forEach(n=>{r.indexOf(n)<0&&r.push(n)}),r.join(" ")}function Ak(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function Nk(t){let{swiper:e,slides:r,passedParams:n,changedParams:i,nextEl:a,prevEl:s,scrollbarEl:o,paginationEl:l}=t;const u=i.filter(E=>E!=="children"&&E!=="direction"&&E!=="wrapperClass"),{params:c,pagination:f,navigation:d,scrollbar:p,virtual:h,thumbs:m}=e;let v,y,S,g,w,x,b,A;i.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&!n.thumbs.swiper.destroyed&&c.thumbs&&(!c.thumbs.swiper||c.thumbs.swiper.destroyed)&&(v=!0),i.includes("controller")&&n.controller&&n.controller.control&&c.controller&&!c.controller.control&&(y=!0),i.includes("pagination")&&n.pagination&&(n.pagination.el||l)&&(c.pagination||c.pagination===!1)&&f&&!f.el&&(S=!0),i.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||o)&&(c.scrollbar||c.scrollbar===!1)&&p&&!p.el&&(g=!0),i.includes("navigation")&&n.navigation&&(n.navigation.prevEl||s)&&(n.navigation.nextEl||a)&&(c.navigation||c.navigation===!1)&&d&&!d.prevEl&&!d.nextEl&&(w=!0);const D=E=>{e[E]&&(e[E].destroy(),E==="navigation"?(e.isElement&&(e[E].prevEl.remove(),e[E].nextEl.remove()),c[E].prevEl=void 0,c[E].nextEl=void 0,e[E].prevEl=void 0,e[E].nextEl=void 0):(e.isElement&&e[E].el.remove(),c[E].el=void 0,e[E].el=void 0))};i.includes("loop")&&e.isElement&&(c.loop&&!n.loop?x=!0:!c.loop&&n.loop?b=!0:A=!0),u.forEach(E=>{if(js(c[E])&&js(n[E]))Object.assign(c[E],n[E]),(E==="navigation"||E==="pagination"||E==="scrollbar")&&"enabled"in n[E]&&!n[E].enabled&&D(E);else{const N=n[E];(N===!0||N===!1)&&(E==="navigation"||E==="pagination"||E==="scrollbar")?N===!1&&D(E):c[E]=n[E]}}),u.includes("controller")&&!y&&e.controller&&e.controller.control&&c.controller&&c.controller.control&&(e.controller.control=c.controller.control),i.includes("children")&&r&&h&&c.virtual.enabled?(h.slides=r,h.update(!0)):i.includes("virtual")&&h&&c.virtual.enabled&&(r&&(h.slides=r),h.update(!0)),i.includes("children")&&r&&c.loop&&(A=!0),v&&m.init()&&m.update(!0),y&&(e.controller.control=c.controller.control),S&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(c.pagination.el=l),f.init(),f.render(),f.update()),g&&(e.isElement&&(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-scrollbar"),o.part.add("scrollbar"),e.el.appendChild(o)),o&&(c.scrollbar.el=o),p.init(),p.updateSize(),p.setTranslate()),w&&(e.isElement&&((!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-next"),Jy(a,e.hostEl.constructor.nextButtonSvg),a.part.add("button-next"),e.el.appendChild(a)),(!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-prev"),Jy(s,e.hostEl.constructor.prevButtonSvg),s.part.add("button-prev"),e.el.appendChild(s))),a&&(c.navigation.nextEl=a),s&&(c.navigation.prevEl=s),d.init(),d.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=n.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=n.allowSlidePrev),i.includes("direction")&&e.changeDirection(n.direction,!1),(x||A)&&e.loopDestroy(),(b||A)&&e.loopCreate(),e.update()}function e1(t,e){t===void 0&&(t={});const r={on:{}},n={},i={};qo(r,$m),r._emitClasses=!0,r.init=!1;const a={},s=sD.map(l=>l.replace(/_/,"")),o=Object.assign({},t);return Object.keys(o).forEach(l=>{typeof t[l]>"u"||(s.indexOf(l)>=0?js(t[l])?(r[l]={},i[l]={},qo(r[l],t[l]),qo(i[l],t[l])):(r[l]=t[l],i[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?r.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:a[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{r[l]===!0&&(r[l]={}),r[l]===!1&&delete r[l]}),{params:r,passedParams:i,rest:a,events:n}}function Dk(t,e){let{el:r,nextEl:n,prevEl:i,paginationEl:a,scrollbarEl:s,swiper:o}=t;oD(e)&&n&&i&&(o.params.navigation.nextEl=n,o.originalParams.navigation.nextEl=n,o.params.navigation.prevEl=i,o.originalParams.navigation.prevEl=i),lD(e)&&a&&(o.params.pagination.el=a,o.originalParams.pagination.el=a),uD(e)&&s&&(o.params.scrollbar.el=s,o.originalParams.scrollbar.el=s),o.init(r)}function Ck(t,e,r,n,i){const a=[];if(!e)return a;const s=l=>{a.indexOf(l)<0&&a.push(l)};if(r&&n){const l=n.map(i),u=r.map(i);l.join("")!==u.join("")&&s("children"),n.length!==r.length&&s("children")}return sD.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(js(t[l])&&js(e[l])){const u=Object.keys(t[l]),c=Object.keys(e[l]);u.length!==c.length?s(l):(u.forEach(f=>{t[l][f]!==e[l][f]&&s(l)}),c.forEach(f=>{t[l][f]!==e[l][f]&&s(l)}))}else t[l]!==e[l]&&s(l)}),a}const Mk=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Nh(t,e,r){t===void 0&&(t={});const n=[],i={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},a=(s,o)=>{Array.isArray(s)&&s.forEach(l=>{const u=typeof l.type=="symbol";o==="default"&&(o="container-end"),u&&l.children?a(l.children,o):l.type&&(l.type.name==="SwiperSlide"||l.type.name==="AsyncComponentWrapper")||l.componentOptions&&l.componentOptions.tag==="SwiperSlide"?n.push(l):i[o]&&i[o].push(l)})};return Object.keys(t).forEach(s=>{if(typeof t[s]!="function")return;const o=t[s]();a(o,s)}),r.value=e.value,e.value=n,{slides:n,slots:i}}function Tk(t,e,r){if(!r)return null;const n=c=>{let f=c;return c<0?f=e.length+c:f>=e.length&&(f=f-e.length),f},i=t.value.isHorizontal()?{[t.value.rtlTranslate?"right":"left"]:`${r.offset}px`}:{top:`${r.offset}px`},{from:a,to:s}=r,o=t.value.params.loop?-e.length:0,l=t.value.params.loop?e.length*2:e.length,u=[];for(let c=o;c<l;c+=1)c>=a&&c<=s&&u.length<e.length&&u.push(e[n(c)]);return u.map(c=>{if(c.props||(c.props={}),c.props.style||(c.props.style={}),c.props.swiperRef=t,c.props.style=i,c.type)return Wr(c.type,{...c.props},c.children);if(c.componentOptions)return Wr(c.componentOptions.Ctor,{...c.props},c.componentOptions.children)})}const _k={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},swiperElementNodeName:{type:String,default:"SWIPER-CONTAINER"},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},breakpointsBase:{type:String,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},loopAdditionalSlides:{type:Number,default:void 0},loopAddBlankSlides:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideFullyVisibleClass:{type:String,default:void 0},slideBlankClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slidesUpdated","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(t,e){let{slots:r,emit:n}=e;const{tag:i,wrapperTag:a}=t,s=Pe("swiper"),o=Pe(null),l=Pe(!1),u=Pe(!1),c=Pe(null),f=Pe(null),d=Pe(null),p={value:[]},h={value:[]},m=Pe(null),v=Pe(null),y=Pe(null),S=Pe(null),{params:g,passedParams:w}=e1(t);Nh(r,p,h),d.value=w,h.value=p.value;const x=()=>{Nh(r,p,h),l.value=!0};g.onAny=function(D){for(var E=arguments.length,N=new Array(E>1?E-1:0),C=1;C<E;C++)N[C-1]=arguments[C];n(D,...N)},Object.assign(g.on,{_beforeBreakpoint:x,_containerClasses(D,E){s.value=E}});const b={...g};if(delete b.wrapperClass,f.value=new hv(b),f.value.virtual&&f.value.params.virtual.enabled){f.value.virtual.slides=p.value;const D={cache:!1,slides:p.value,renderExternal:E=>{o.value=E},renderExternalUpdate:!1};qo(f.value.params.virtual,D),qo(f.value.originalParams.virtual,D)}iv(()=>{!u.value&&f.value&&(f.value.emitSlidesClasses(),u.value=!0);const{passedParams:D}=e1(t),E=Ck(D,d.value,p.value,h.value,N=>N.props&&N.props.key);d.value=D,(E.length||l.value)&&f.value&&!f.value.destroyed&&Nk({swiper:f.value,slides:p.value,passedParams:D,changedParams:E,nextEl:m.value,prevEl:v.value,scrollbarEl:S.value,paginationEl:y.value}),l.value=!1}),Lo("swiper",f),Kn(o,()=>{ap(()=>{Mk(f.value)})}),jt(()=>{c.value&&(Dk({el:c.value,nextEl:m.value,prevEl:v.value,paginationEl:y.value,scrollbarEl:S.value,swiper:f.value},g),n("swiper",f.value))}),fl(()=>{f.value&&!f.value.destroyed&&f.value.destroy(!0,!1)});function A(D){return g.virtual?Tk(f,D,o.value):(D.forEach((E,N)=>{E.props||(E.props={}),E.props.swiperRef=f,E.props.swiperSlideIndex=N}),D)}return()=>{const{slides:D,slots:E}=Nh(r,p,h);return Wr(i,{ref:c,class:cD(s.value)},[E["container-start"],Wr(a,{class:Ak(g.wrapperClass)},[E["wrapper-start"],A(D),E["wrapper-end"]]),oD(t)&&[Wr("div",{ref:v,class:"swiper-button-prev"}),Wr("div",{ref:m,class:"swiper-button-next"})],uD(t)&&Wr("div",{ref:S,class:"swiper-scrollbar"}),lD(t)&&Wr("div",{ref:y,class:"swiper-pagination"}),E["container-end"]])}}},t1={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(t,e){let{slots:r}=e,n=!1;const{swiperRef:i}=t,a=Pe(null),s=Pe("swiper-slide"),o=Pe(!1);function l(f,d,p){d===a.value&&(s.value=p)}jt(()=>{!i||!i.value||(i.value.on("_slideClass",l),n=!0)}),fN(()=>{n||!i||!i.value||(i.value.on("_slideClass",l),n=!0)}),iv(()=>{!a.value||!i||!i.value||(typeof t.swiperSlideIndex<"u"&&(a.value.swiperSlideIndex=t.swiperSlideIndex),i.value.destroyed&&s.value!=="swiper-slide"&&(s.value="swiper-slide"))}),fl(()=>{!i||!i.value||i.value.off("_slideClass",l)});const u=kr(()=>({isActive:s.value.indexOf("swiper-slide-active")>=0,isVisible:s.value.indexOf("swiper-slide-visible")>=0,isPrev:s.value.indexOf("swiper-slide-prev")>=0,isNext:s.value.indexOf("swiper-slide-next")>=0}));Lo("swiperSlide",u);const c=()=>{o.value=!0};return()=>Wr(t.tag,{class:cD(`${s.value}`),ref:a,"data-swiper-slide-index":typeof t.virtualIndex>"u"&&i&&i.value&&i.value.params.loop?t.swiperSlideIndex:t.virtualIndex,onLoadCapture:c},t.zoom?Wr("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof t.zoom=="number"?t.zoom:void 0},[r.default&&r.default(u.value),t.lazy&&!o.value&&Wr("div",{class:"swiper-lazy-preloader"})]):[r.default&&r.default(u.value),t.lazy&&!o.value&&Wr("div",{class:"swiper-lazy-preloader"})])}},Lm=(t,e)=>e.some(r=>t instanceof r);let r1,n1;function Ok(){return r1||(r1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Fk(){return n1||(n1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zm=new WeakMap,Dh=new WeakMap,dp=new WeakMap;function Bk(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{r(zs(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return dp.set(e,t),e}function kk(t){if(zm.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});zm.set(t,e)}let qm={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return zm.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return zs(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fD(t){qm=t(qm)}function Ik(t){return Fk().includes(t)?function(...e){return t.apply(Um(this),e),zs(this.request)}:function(...e){return zs(t.apply(Um(this),e))}}function Rk(t){return typeof t=="function"?Ik(t):(t instanceof IDBTransaction&&kk(t),Lm(t,Ok())?new Proxy(t,qm):t)}function zs(t){if(t instanceof IDBRequest)return Bk(t);if(Dh.has(t))return Dh.get(t);const e=Rk(t);return e!==t&&(Dh.set(t,e),dp.set(e,t)),e}const Um=t=>dp.get(t);function dD(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=zs(s);return n&&s.addEventListener("upgradeneeded",l=>{n(zs(s.result),l.oldVersion,l.newVersion,zs(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const Pk=["get","getKey","getAll","getAllKeys","count"],$k=["put","add","delete","clear"],Ch=new Map;function i1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ch.get(e))return Ch.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=$k.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Pk.includes(r)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),i&&l.done]))[0]};return Ch.set(e,a),a}fD(t=>({...t,get:(e,r,n)=>i1(e,r)||t.get(e,r,n),has:(e,r)=>!!i1(e,r)||t.has(e,r)}));const Lk=["continue","continuePrimaryKey","advance"],a1={},Hm=new WeakMap,pD=new WeakMap,zk={get(t,e){if(!Lk.includes(e))return t[e];let r=a1[e];return r||(r=a1[e]=function(...n){Hm.set(this,pD.get(this)[e](...n))}),r}};async function*qk(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const r=new Proxy(e,zk);for(pD.set(r,e),dp.set(r,Um(e));e;)yield r,e=await(Hm.get(r)||e.continue()),Hm.delete(r)}function s1(t,e){return e===Symbol.asyncIterator&&Lm(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&Lm(t,[IDBIndex,IDBObjectStore])}fD(t=>({...t,get(e,r,n){return s1(e,r)?qk:t.get(e,r,n)},has(e,r){return s1(e,r)||t.has(e,r)}}));class Uk{constructor(e,r){rh(this,"dbPromise");this.dbPromise=dD("notes-db",2,{upgrade(n){if(!n.objectStoreNames.contains("notes")){const i=n.createObjectStore("notes",{keyPath:"id"});if(e)for(const a of e)i.add(a)}if(!n.objectStoreNames.contains("tags")){const i=n.createObjectStore("tags",{keyPath:"id"});if(r)for(const a of r)i.add(a)}}})}async getAll(e){return(await this.dbPromise).getAll(e)}async save(e){await(await this.dbPromise).put("notes",e)}async saveTags(e,r){const n=await this.dbPromise,i=await n.get("notes",r);i&&(i.tags=e,await n.put("notes",i))}async saveContent(e,r){const n=await this.dbPromise,i=await n.get("notes",r);i&&(i.content=e,await n.put("notes",i))}async saveTitle(e,r){const n=await this.dbPromise,i=await n.get("notes",r);i&&(i.title=e,await n.put("notes",i))}async togle_pinned(e){const r=await this.dbPromise,n=await r.get("notes",e);n&&(n.pinned=!n.pinned,await r.put("notes",n))}async delete(e){await(await this.dbPromise).delete("notes",e)}async delete_tag(e){await(await this.dbPromise).delete("tags",e)}async create(e){const r=await this.dbPromise,n=await r.getAll("notes");return e.id=n.length+1,await r.add("notes",e),{id:e.id}}async create_tag(e){const r=await this.dbPromise,n=await r.getAll("tags");e.id=n.length+1,await r.add("tags",e)}async getNote(e){return(await this.dbPromise).get("notes",e)}async add_notes(e){if(e.length)for(const r of e)await this.create(r)}async add_tags(e){if(e.length)for(const r of e)await this.create_tag(r)}async save_tag_color(e,r){if(!r)return;const n=await this.dbPromise,i=await n.get("tags",e);i&&(i.color=r,await n.put("tags",i))}async reset(){const e=await this.getAll("notes"),r=await this.getAll("tags");for(const n of r)await this.delete_tag(n.id);for(const n of e)await this.delete(n.id)}}const bt=new Uk(void 0,void 0),Hk={notes:[{id:1,pinned:!1,simply_edit:!1,title:"Buy groceries",content:"<p>Buy milk, eggs, and bread.</p><p>Also check if we need butter, fruits (especially bananas and apples), and some vegetables like carrots or spinach. Don't forget to bring reusable bags and check for any store discounts or loyalty points. Consider meal planning for the week to avoid food waste.</p>",date:"20 juin 2025",tags:[9,6]},{id:2,pinned:!1,simply_edit:!1,title:"Meeting with the team",content:"<p>Discuss the new project timeline.</p><p>Prepare slides outlining the current progress, deadlines, and upcoming milestones. Assign responsibilities clearly to team members and allocate buffer time for potential delays. Bring up any blockers or dependencies that need resolution. Consider a brainstorming session to refine the scope of features.</p>",date:"21 juin 2025",tags:[8,5]},{id:3,pinned:!1,simply_edit:!1,title:"Urgent: Fix bug in the app",content:"<p>Critical bug needs to be fixed before release.</p><p>The bug appears when users try to upload files larger than 5MB  causing the app to crash. Reproduce the issue locally, check the stack trace, and look into the recent commits that might have introduced the error. Once fixed, write a unit test to prevent regressions and notify QA for immediate testing.</p>",date:"22 juin 2025",tags:[1,3]},{id:4,pinned:!1,simply_edit:!1,title:"Write a new blog post",content:"<p>Write about the importance of time management.</p><p>Include personal anecdotes about productivity strategies that worked, such as using Pomodoro, daily planning, and prioritizing tasks with Eisenhower Matrix. Add references to books like 'Deep Work' by Cal Newport. Include actionable tips for readers and end with a call to reflect on how they spend their time daily.</p>",date:"23 juin 2025",tags:[7,5]},{id:5,pinned:!1,simply_edit:!1,title:"Doctor appointment",content:"<p>Check-up appointment at 2:30 PM.</p><p>Location: Dr. Lamberts Clinic, 2nd floor, Room 204. Bring medical records and list of any symptoms or concerns to discuss. Check if vaccinations are up to date and ask about blood work results from last visit. Consider asking about diet and general wellness advice.</p>",date:"24 juin 2025",tags:[10,4]},{id:6,pinned:!1,simply_edit:!1,title:"Plan weekend trip",content:"<p>Plan a trip to the beach with friends.</p><p>Destination idea: Arcachon or Biarritz. Book Airbnb early, check the weather forecast, and make a list of supplies (sunscreen, towels, snacks, water). Discuss carpooling or train options. Plan activities like beach volleyball, sunset watching, or a small barbecue. Dont forget to bring speakers and portable charger.</p>",date:"25 juin 2025",tags:[4,7]},{id:7,pinned:!1,simply_edit:!1,title:"Call Mom",content:"<p>Check in with mom and see how she's doing.</p><p>Ask about her recent medical check-up and whether she needs help with groceries or errands. Share updates about work and weekend plans. Remind her about the family dinner next Sunday. Maybe suggest doing a video call to see her garden progress. Bring up her birthday gift ideas if not done yet.</p>",date:"26 juin 2025",tags:[4,6]},{id:8,pinned:!1,simply_edit:!1,title:"Send email to client",content:"<p>Follow up on the proposal sent last week.</p><p>Include a summary of the offer, reiterate key benefits, and provide an estimated timeline. Ask if they have any feedback or concerns. Offer to set up a call to discuss further details. Attach the final version of the document and thank them for considering the proposal. Mention availability for next week.</p>",date:"27 juin 2025",tags:[5,8]},{id:9,pinned:!1,simply_edit:!1,title:"Finish project report",content:"<p>Complete the final draft of the report for the project.</p><p>Double-check data accuracy and formatting consistency. Ensure that all sectionsexecutive summary, methodology, results, and conclusionsare clearly written. Include relevant charts or graphs. Get feedback from team members and make final edits. Submit to manager by Friday 3 PM. Archive source files in shared drive.</p>",date:"28 juin 2025",tags:[3,5]},{id:10,pinned:!1,simply_edit:!1,title:"Check car maintenance",content:"<p>Ensure that the car's oil and tires are checked.</p><p>Schedule an appointment with the garage if needed. Check tire pressure, tread wear, windshield wipers, brake pads, and coolant level. Look into whether the timing belt or battery is due for replacement. Keep the service log updated. Clean the interior and check emergency kit in the trunk.</p>",date:"29 juin 2025",tags:[9,10]}],tags:[{id:1,name:"Urgent",active:!1,color:"#FF5733"},{id:2,name:"To Do",active:!1,color:"#33FF57"},{id:3,name:"Important",active:!1,color:"#3357FF"},{id:4,name:"Personal",active:!1,color:"#F0E68C"},{id:5,name:"Work",active:!1,color:"#8A2BE2"},{id:6,name:"Reminder",active:!1,color:"#FFD700"},{id:7,name:"Ideas",active:!1,color:"#C71585"},{id:8,name:"Meeting",active:!1,color:"#20B2AA"},{id:9,name:"Shopping",active:!1,color:"#D2691E"},{id:10,name:"Health",active:!1,color:"#008080"}]},Vk=async()=>{const t=await fetch("http://localhost:3000/get_news").then(e=>e.json());return t==!1?void 0:t},Wk=async(t,e)=>{const r=await fetch("https://auth.silvernote.fr/verify").then(i=>i.json());return await fetch("https://api.silvernote.fr/save_db",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Notes:t,Tags:e,user:r})}).then(i=>i.json())},nu={dev_db:Hk,info_message:Vk,saving_all:Wk};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:hD,setPrototypeOf:o1,isFrozen:Gk,getPrototypeOf:jk,getOwnPropertyDescriptor:Kk}=Object;let{freeze:un,seal:Zn,create:mD}=Object,{apply:Vm,construct:Wm}=typeof Reflect<"u"&&Reflect;un||(un=function(e){return e});Zn||(Zn=function(e){return e});Vm||(Vm=function(e,r,n){return e.apply(r,n)});Wm||(Wm=function(e,r){return new e(...r)});const Nc=cn(Array.prototype.forEach),Jk=cn(Array.prototype.lastIndexOf),l1=cn(Array.prototype.pop),Ol=cn(Array.prototype.push),Yk=cn(Array.prototype.splice),df=cn(String.prototype.toLowerCase),Mh=cn(String.prototype.toString),u1=cn(String.prototype.match),Fl=cn(String.prototype.replace),Xk=cn(String.prototype.indexOf),Zk=cn(String.prototype.trim),si=cn(Object.prototype.hasOwnProperty),en=cn(RegExp.prototype.test),Bl=Qk(TypeError);function cn(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return Vm(t,e,n)}}function Qk(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Wm(t,r)}}function St(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:df;o1&&o1(t,null);let n=e.length;for(;n--;){let i=e[n];if(typeof i=="string"){const a=r(i);a!==i&&(Gk(e)||(e[n]=a),i=a)}t[i]=!0}return t}function eI(t){for(let e=0;e<t.length;e++)si(t,e)||(t[e]=null);return t}function ea(t){const e=mD(null);for(const[r,n]of hD(t))si(t,r)&&(Array.isArray(n)?e[r]=eI(n):n&&typeof n=="object"&&n.constructor===Object?e[r]=ea(n):e[r]=n);return e}function kl(t,e){for(;t!==null;){const n=Kk(t,e);if(n){if(n.get)return cn(n.get);if(typeof n.value=="function")return cn(n.value)}t=jk(t)}function r(){return null}return r}const c1=un(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Th=un(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),_h=un(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),tI=un(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Oh=un(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),rI=un(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),f1=un(["#text"]),d1=un(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Fh=un(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),p1=un(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Dc=un(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),nI=Zn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),iI=Zn(/<%[\w\W]*|[\w\W]*%>/gm),aI=Zn(/\$\{[\w\W]*/gm),sI=Zn(/^data-[\-\w.\u00B7-\uFFFF]+$/),oI=Zn(/^aria-[\-\w]+$/),gD=Zn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),lI=Zn(/^(?:\w+script|data):/i),uI=Zn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),vD=Zn(/^html$/i),cI=Zn(/^[a-z][.\w]*(-[.\w]+)+$/i);var h1=Object.freeze({__proto__:null,ARIA_ATTR:oI,ATTR_WHITESPACE:uI,CUSTOM_ELEMENT:cI,DATA_ATTR:sI,DOCTYPE_NAME:vD,ERB_EXPR:iI,IS_ALLOWED_URI:gD,IS_SCRIPT_OR_DATA:lI,MUSTACHE_EXPR:nI,TMPLIT_EXPR:aI});const Il={element:1,text:3,progressingInstruction:7,comment:8,document:9},fI=function(){return typeof window>"u"?null:window},dI=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const i="data-tt-policy-suffix";r&&r.hasAttribute(i)&&(n=r.getAttribute(i));const a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}},m1=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function yD(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:fI();const e=qe=>yD(qe);if(e.version="3.2.6",e.removed=[],!t||!t.document||t.document.nodeType!==Il.document||!t.Element)return e.isSupported=!1,e;let{document:r}=t;const n=r,i=n.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:o,Element:l,NodeFilter:u,NamedNodeMap:c=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:d,trustedTypes:p}=t,h=l.prototype,m=kl(h,"cloneNode"),v=kl(h,"remove"),y=kl(h,"nextSibling"),S=kl(h,"childNodes"),g=kl(h,"parentNode");if(typeof s=="function"){const qe=r.createElement("template");qe.content&&qe.content.ownerDocument&&(r=qe.content.ownerDocument)}let w,x="";const{implementation:b,createNodeIterator:A,createDocumentFragment:D,getElementsByTagName:E}=r,{importNode:N}=n;let C=m1();e.isSupported=typeof hD=="function"&&typeof g=="function"&&b&&b.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:M,ERB_EXPR:F,TMPLIT_EXPR:I,DATA_ATTR:R,ARIA_ATTR:T,IS_SCRIPT_OR_DATA:L,ATTR_WHITESPACE:_,CUSTOM_ELEMENT:H}=h1;let{IS_ALLOWED_URI:k}=h1,ie=null;const ee=St({},[...c1,...Th,..._h,...Oh,...f1]);let X=null;const Z=St({},[...d1,...Fh,...p1,...Dc]);let pe=Object.seal(mD(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),de=null,j=null,W=!0,U=!0,K=!1,ae=!0,B=!1,q=!0,G=!1,se=!1,P=!1,z=!1,Y=!1,ne=!1,oe=!0,le=!1;const ve="user-content-";let $=!0,J=!1,re={},fe=null;const he=St({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let me=null;const Ae=St({},["audio","video","img","source","image","track"]);let xe=null;const De=St({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),we="http://www.w3.org/1998/Math/MathML",it="http://www.w3.org/2000/svg",Ie="http://www.w3.org/1999/xhtml";let Qe=Ie,O=!1,te=null;const ge=St({},[we,it,Ie],Mh);let Se=St({},["mi","mo","mn","ms","mtext"]),Ue=St({},["annotation-xml"]);const et=St({},["title","style","font","a","script"]);let nr=null;const Nl=["application/xhtml+xml","text/html"],Zp="text/html";let or=null,Ea=null;const Qp=r.createElement("form"),lc=function(ue){return ue instanceof RegExp||ue instanceof Function},Dl=function(){let ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ea&&Ea===ue)){if((!ue||typeof ue!="object")&&(ue={}),ue=ea(ue),nr=Nl.indexOf(ue.PARSER_MEDIA_TYPE)===-1?Zp:ue.PARSER_MEDIA_TYPE,or=nr==="application/xhtml+xml"?Mh:df,ie=si(ue,"ALLOWED_TAGS")?St({},ue.ALLOWED_TAGS,or):ee,X=si(ue,"ALLOWED_ATTR")?St({},ue.ALLOWED_ATTR,or):Z,te=si(ue,"ALLOWED_NAMESPACES")?St({},ue.ALLOWED_NAMESPACES,Mh):ge,xe=si(ue,"ADD_URI_SAFE_ATTR")?St(ea(De),ue.ADD_URI_SAFE_ATTR,or):De,me=si(ue,"ADD_DATA_URI_TAGS")?St(ea(Ae),ue.ADD_DATA_URI_TAGS,or):Ae,fe=si(ue,"FORBID_CONTENTS")?St({},ue.FORBID_CONTENTS,or):he,de=si(ue,"FORBID_TAGS")?St({},ue.FORBID_TAGS,or):ea({}),j=si(ue,"FORBID_ATTR")?St({},ue.FORBID_ATTR,or):ea({}),re=si(ue,"USE_PROFILES")?ue.USE_PROFILES:!1,W=ue.ALLOW_ARIA_ATTR!==!1,U=ue.ALLOW_DATA_ATTR!==!1,K=ue.ALLOW_UNKNOWN_PROTOCOLS||!1,ae=ue.ALLOW_SELF_CLOSE_IN_ATTR!==!1,B=ue.SAFE_FOR_TEMPLATES||!1,q=ue.SAFE_FOR_XML!==!1,G=ue.WHOLE_DOCUMENT||!1,z=ue.RETURN_DOM||!1,Y=ue.RETURN_DOM_FRAGMENT||!1,ne=ue.RETURN_TRUSTED_TYPE||!1,P=ue.FORCE_BODY||!1,oe=ue.SANITIZE_DOM!==!1,le=ue.SANITIZE_NAMED_PROPS||!1,$=ue.KEEP_CONTENT!==!1,J=ue.IN_PLACE||!1,k=ue.ALLOWED_URI_REGEXP||gD,Qe=ue.NAMESPACE||Ie,Se=ue.MATHML_TEXT_INTEGRATION_POINTS||Se,Ue=ue.HTML_INTEGRATION_POINTS||Ue,pe=ue.CUSTOM_ELEMENT_HANDLING||{},ue.CUSTOM_ELEMENT_HANDLING&&lc(ue.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(pe.tagNameCheck=ue.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ue.CUSTOM_ELEMENT_HANDLING&&lc(ue.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(pe.attributeNameCheck=ue.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ue.CUSTOM_ELEMENT_HANDLING&&typeof ue.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(pe.allowCustomizedBuiltInElements=ue.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),B&&(U=!1),Y&&(z=!0),re&&(ie=St({},f1),X=[],re.html===!0&&(St(ie,c1),St(X,d1)),re.svg===!0&&(St(ie,Th),St(X,Fh),St(X,Dc)),re.svgFilters===!0&&(St(ie,_h),St(X,Fh),St(X,Dc)),re.mathMl===!0&&(St(ie,Oh),St(X,p1),St(X,Dc))),ue.ADD_TAGS&&(ie===ee&&(ie=ea(ie)),St(ie,ue.ADD_TAGS,or)),ue.ADD_ATTR&&(X===Z&&(X=ea(X)),St(X,ue.ADD_ATTR,or)),ue.ADD_URI_SAFE_ATTR&&St(xe,ue.ADD_URI_SAFE_ATTR,or),ue.FORBID_CONTENTS&&(fe===he&&(fe=ea(fe)),St(fe,ue.FORBID_CONTENTS,or)),$&&(ie["#text"]=!0),G&&St(ie,["html","head","body"]),ie.table&&(St(ie,["tbody"]),delete de.tbody),ue.TRUSTED_TYPES_POLICY){if(typeof ue.TRUSTED_TYPES_POLICY.createHTML!="function")throw Bl('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ue.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Bl('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=ue.TRUSTED_TYPES_POLICY,x=w.createHTML("")}else w===void 0&&(w=dI(p,i)),w!==null&&typeof x=="string"&&(x=w.createHTML(""));un&&un(ue),Ea=ue}},uc=St({},[...Th,..._h,...tI]),cc=St({},[...Oh,...rI]),eh=function(ue){let _e=g(ue);(!_e||!_e.tagName)&&(_e={namespaceURI:Qe,tagName:"template"});const ze=df(ue.tagName),Vt=df(_e.tagName);return te[ue.namespaceURI]?ue.namespaceURI===it?_e.namespaceURI===Ie?ze==="svg":_e.namespaceURI===we?ze==="svg"&&(Vt==="annotation-xml"||Se[Vt]):!!uc[ze]:ue.namespaceURI===we?_e.namespaceURI===Ie?ze==="math":_e.namespaceURI===it?ze==="math"&&Ue[Vt]:!!cc[ze]:ue.namespaceURI===Ie?_e.namespaceURI===it&&!Ue[Vt]||_e.namespaceURI===we&&!Se[Vt]?!1:!cc[ze]&&(et[ze]||!uc[ze]):!!(nr==="application/xhtml+xml"&&te[ue.namespaceURI]):!1},In=function(ue){Ol(e.removed,{element:ue});try{g(ue).removeChild(ue)}catch{v(ue)}},Aa=function(ue,_e){try{Ol(e.removed,{attribute:_e.getAttributeNode(ue),from:_e})}catch{Ol(e.removed,{attribute:null,from:_e})}if(_e.removeAttribute(ue),ue==="is")if(z||Y)try{In(_e)}catch{}else try{_e.setAttribute(ue,"")}catch{}},fc=function(ue){let _e=null,ze=null;if(P)ue="<remove></remove>"+ue;else{const Xe=u1(ue,/^[\r\n\t ]+/);ze=Xe&&Xe[0]}nr==="application/xhtml+xml"&&Qe===Ie&&(ue='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ue+"</body></html>");const Vt=w?w.createHTML(ue):ue;if(Qe===Ie)try{_e=new d().parseFromString(Vt,nr)}catch{}if(!_e||!_e.documentElement){_e=b.createDocument(Qe,"template",null);try{_e.documentElement.innerHTML=O?x:Vt}catch{}}const Qt=_e.body||_e.documentElement;return ue&&ze&&Qt.insertBefore(r.createTextNode(ze),Qt.childNodes[0]||null),Qe===Ie?E.call(_e,G?"html":"body")[0]:G?_e.documentElement:Qt},dc=function(ue){return A.call(ue.ownerDocument||ue,ue,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Cl=function(ue){return ue instanceof f&&(typeof ue.nodeName!="string"||typeof ue.textContent!="string"||typeof ue.removeChild!="function"||!(ue.attributes instanceof c)||typeof ue.removeAttribute!="function"||typeof ue.setAttribute!="function"||typeof ue.namespaceURI!="string"||typeof ue.insertBefore!="function"||typeof ue.hasChildNodes!="function")},pc=function(ue){return typeof o=="function"&&ue instanceof o};function ni(qe,ue,_e){Nc(qe,ze=>{ze.call(e,ue,_e,Ea)})}const hc=function(ue){let _e=null;if(ni(C.beforeSanitizeElements,ue,null),Cl(ue))return In(ue),!0;const ze=or(ue.nodeName);if(ni(C.uponSanitizeElement,ue,{tagName:ze,allowedTags:ie}),q&&ue.hasChildNodes()&&!pc(ue.firstElementChild)&&en(/<[/\w!]/g,ue.innerHTML)&&en(/<[/\w!]/g,ue.textContent)||ue.nodeType===Il.progressingInstruction||q&&ue.nodeType===Il.comment&&en(/<[/\w]/g,ue.data))return In(ue),!0;if(!ie[ze]||de[ze]){if(!de[ze]&&gc(ze)&&(pe.tagNameCheck instanceof RegExp&&en(pe.tagNameCheck,ze)||pe.tagNameCheck instanceof Function&&pe.tagNameCheck(ze)))return!1;if($&&!fe[ze]){const Vt=g(ue)||ue.parentNode,Qt=S(ue)||ue.childNodes;if(Qt&&Vt){const Xe=Qt.length;for(let Ft=Xe-1;Ft>=0;--Ft){const ii=m(Qt[Ft],!0);ii.__removalCount=(ue.__removalCount||0)+1,Vt.insertBefore(ii,y(ue))}}}return In(ue),!0}return ue instanceof l&&!eh(ue)||(ze==="noscript"||ze==="noembed"||ze==="noframes")&&en(/<\/no(script|embed|frames)/i,ue.innerHTML)?(In(ue),!0):(B&&ue.nodeType===Il.text&&(_e=ue.textContent,Nc([M,F,I],Vt=>{_e=Fl(_e,Vt," ")}),ue.textContent!==_e&&(Ol(e.removed,{element:ue.cloneNode()}),ue.textContent=_e)),ni(C.afterSanitizeElements,ue,null),!1)},mc=function(ue,_e,ze){if(oe&&(_e==="id"||_e==="name")&&(ze in r||ze in Qp))return!1;if(!(U&&!j[_e]&&en(R,_e))){if(!(W&&en(T,_e))){if(!X[_e]||j[_e]){if(!(gc(ue)&&(pe.tagNameCheck instanceof RegExp&&en(pe.tagNameCheck,ue)||pe.tagNameCheck instanceof Function&&pe.tagNameCheck(ue))&&(pe.attributeNameCheck instanceof RegExp&&en(pe.attributeNameCheck,_e)||pe.attributeNameCheck instanceof Function&&pe.attributeNameCheck(_e))||_e==="is"&&pe.allowCustomizedBuiltInElements&&(pe.tagNameCheck instanceof RegExp&&en(pe.tagNameCheck,ze)||pe.tagNameCheck instanceof Function&&pe.tagNameCheck(ze))))return!1}else if(!xe[_e]){if(!en(k,Fl(ze,_,""))){if(!((_e==="src"||_e==="xlink:href"||_e==="href")&&ue!=="script"&&Xk(ze,"data:")===0&&me[ue])){if(!(K&&!en(L,Fl(ze,_,"")))){if(ze)return!1}}}}}}return!0},gc=function(ue){return ue!=="annotation-xml"&&u1(ue,H)},vc=function(ue){ni(C.beforeSanitizeAttributes,ue,null);const{attributes:_e}=ue;if(!_e||Cl(ue))return;const ze={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:X,forceKeepAttr:void 0};let Vt=_e.length;for(;Vt--;){const Qt=_e[Vt],{name:Xe,namespaceURI:Ft,value:ii}=Qt,Ni=or(Xe),Vi=ii;let vr=Xe==="value"?Vi:Zk(Vi);if(ze.attrName=Ni,ze.attrValue=vr,ze.keepAttr=!0,ze.forceKeepAttr=void 0,ni(C.uponSanitizeAttribute,ue,ze),vr=ze.attrValue,le&&(Ni==="id"||Ni==="name")&&(Aa(Xe,ue),vr=ve+vr),q&&en(/((--!?|])>)|<\/(style|title)/i,vr)){Aa(Xe,ue);continue}if(ze.forceKeepAttr)continue;if(!ze.keepAttr){Aa(Xe,ue);continue}if(!ae&&en(/\/>/i,vr)){Aa(Xe,ue);continue}B&&Nc([M,F,I],z0=>{vr=Fl(vr,z0," ")});const L0=or(ue.nodeName);if(!mc(L0,Ni,vr)){Aa(Xe,ue);continue}if(w&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!Ft)switch(p.getAttributeType(L0,Ni)){case"TrustedHTML":{vr=w.createHTML(vr);break}case"TrustedScriptURL":{vr=w.createScriptURL(vr);break}}if(vr!==Vi)try{Ft?ue.setAttributeNS(Ft,Xe,vr):ue.setAttribute(Xe,vr),Cl(ue)?In(ue):l1(e.removed)}catch{Aa(Xe,ue)}}ni(C.afterSanitizeAttributes,ue,null)},th=function qe(ue){let _e=null;const ze=dc(ue);for(ni(C.beforeSanitizeShadowDOM,ue,null);_e=ze.nextNode();)ni(C.uponSanitizeShadowNode,_e,null),hc(_e),vc(_e),_e.content instanceof a&&qe(_e.content);ni(C.afterSanitizeShadowDOM,ue,null)};return e.sanitize=function(qe){let ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e=null,ze=null,Vt=null,Qt=null;if(O=!qe,O&&(qe="<!-->"),typeof qe!="string"&&!pc(qe))if(typeof qe.toString=="function"){if(qe=qe.toString(),typeof qe!="string")throw Bl("dirty is not a string, aborting")}else throw Bl("toString is not a function");if(!e.isSupported)return qe;if(se||Dl(ue),e.removed=[],typeof qe=="string"&&(J=!1),J){if(qe.nodeName){const ii=or(qe.nodeName);if(!ie[ii]||de[ii])throw Bl("root node is forbidden and cannot be sanitized in-place")}}else if(qe instanceof o)_e=fc("<!---->"),ze=_e.ownerDocument.importNode(qe,!0),ze.nodeType===Il.element&&ze.nodeName==="BODY"||ze.nodeName==="HTML"?_e=ze:_e.appendChild(ze);else{if(!z&&!B&&!G&&qe.indexOf("<")===-1)return w&&ne?w.createHTML(qe):qe;if(_e=fc(qe),!_e)return z?null:ne?x:""}_e&&P&&In(_e.firstChild);const Xe=dc(J?qe:_e);for(;Vt=Xe.nextNode();)hc(Vt),vc(Vt),Vt.content instanceof a&&th(Vt.content);if(J)return qe;if(z){if(Y)for(Qt=D.call(_e.ownerDocument);_e.firstChild;)Qt.appendChild(_e.firstChild);else Qt=_e;return(X.shadowroot||X.shadowrootmode)&&(Qt=N.call(n,Qt,!0)),Qt}let Ft=G?_e.outerHTML:_e.innerHTML;return G&&ie["!doctype"]&&_e.ownerDocument&&_e.ownerDocument.doctype&&_e.ownerDocument.doctype.name&&en(vD,_e.ownerDocument.doctype.name)&&(Ft="<!DOCTYPE "+_e.ownerDocument.doctype.name+`>
`+Ft),B&&Nc([M,F,I],ii=>{Ft=Fl(Ft,ii," ")}),w&&ne?w.createHTML(Ft):Ft},e.setConfig=function(){let qe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Dl(qe),se=!0},e.clearConfig=function(){Ea=null,se=!1},e.isValidAttribute=function(qe,ue,_e){Ea||Dl({});const ze=or(qe),Vt=or(ue);return mc(ze,Vt,_e)},e.addHook=function(qe,ue){typeof ue=="function"&&Ol(C[qe],ue)},e.removeHook=function(qe,ue){if(ue!==void 0){const _e=Jk(C[qe],ue);return _e===-1?void 0:Yk(C[qe],_e,1)[0]}return l1(C[qe])},e.removeHooks=function(qe){C[qe]=[]},e.removeAllHooks=function(){C=m1()},e}var pI=yD();class hI{date(){const e=new Date,r=e.getDate().toString().padStart(2,"0"),i=["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"][e.getMonth()],a=e.getFullYear();return`${r} ${i} ${a}`}clean_html(e){return pI.sanitize(e)}htmlToText(e){var n;const r=document.createElement("div");return r.innerHTML=this.clean_html(e),r.querySelectorAll("br").forEach(i=>i.replaceWith(`
`)),r.querySelectorAll("p, div, span, li, ul, ol, h1, h2, h3, h4, h5, h6, header, footer, main, section, article, aside, nav, script, style, img, video, audio, source, picture, figure, figcaption, table, thead, tbody, tfoot, tr, td, th, form, input, button, select, option, textarea, label, iframe, canvas, svg, pre, code, blockquote, cite, address, details, summary, mark, time, abbr, b, i, strong, em, small, sub, sup, br, hr").forEach(i=>{i.insertAdjacentText("afterend",`
`)}),((n=r.textContent)==null?void 0:n.trim())||""}async hash(e){const n=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(i)).map(o=>o.toString(16).padStart(2,"0")).join("")}get_text_color(e){if(e=e.replace("#",""),e.length!==6)return"#000";const r=parseInt(e.slice(0,2),16),n=parseInt(e.slice(2,4),16),i=parseInt(e.slice(4,6),16);return .299*r+.587*n+.114*i>186?"#000000":"#FFFFFF"}}const g1=async t=>{t.value=await bt.getAll("notes")||null;const e=t.value.sort((r,n)=>r.pinned===n.pinned?n.id-r.id:r.pinned?-1:1);t.value=e},Lt=new hI;class mv{constructor(e){rh(this,"dbPromise");this.dbPromise=dD("settings-db",1,{upgrade(r){if(!r.objectStoreNames.contains("settings")){const n=r.createObjectStore("settings");e&&n.put(e,"settings")}}})}async get(){return(await this.dbPromise).get("settings","settings")}async save(e){await(await this.dbPromise).put("settings",e,"settings")}async clear(){await(await this.dbPromise).clear("settings")}}const mI={gnraux:[{id:"",name:"Activer les notifications",type:"checkbox",active:!1},{id:"",name:"Langue",type:"checkbox",active:!1}],avanc:[{id:"dev_mode",name:"Mode dveloppeur",type:"checkbox",active:!1}],dev_mode:[{id:"hitbox",name:"Activer les hitbox",type:"checkbox",active:!1},{id:"",name:"Afficher la console",type:"checkbox",active:!1}]},io=async()=>{var r;const e=await new mv().get();return((r=e==null?void 0:e.dev_mode.find(n=>n.id=="hitbox"))==null?void 0:r.active)??!1},gI=async()=>{var r;const e=await new mv().get();return((r=e==null?void 0:e.avanc.find(n=>n.id=="dev_mode"))==null?void 0:r.active)??!1},vI=window.matchMedia("(prefers-color-scheme: dark)").matches;function pp(){const t=localStorage.getItem("theme");t=="dark"||t=="light"?pf(t=="light"):pf(!vI)}function pf(t){const e=document.body;t?(e.classList.add("light"),e.classList.remove("dark")):(e.classList.add("dark"),e.classList.remove("light")),localStorage.setItem("theme",t?"light":"dark")}const yI={class:"font-bold text-2xl"},bI={class:"text-lg"},xI=fr({__name:"Danger_card",props:{title:{},content:{},href:{default:""},btn:{type:Boolean,default:!1}},setup(t){const e=t,r=()=>{e.btn&&e.href&&window.open(e.href,"_blank")};return(n,i)=>(ke(),Ve("div",{class:ct([n.btn?"cursor-pointer":"","bg-[#fff2d0] mr-4 ml-4 text-[#D96E30] p-5 border-[var(--text)] border-2 relative"]),style:{"border-radius":"15px","font-family":"'Montserrat'"},onClick:r},[ce("span",yI,ar(n.title),1),ce("p",bI,ar(n.content),1)],2))}}),wI={key:0,class:"fixed inset-0 z-50 flex items-center justify-center",style:{"background-color":"#00000090","backdrop-filter":"blur(5px)"}},SI={class:"bg-[var(--bg)] rounded-md shadow-md p-4 m-3 w-full max-w-sm text-sm"},EI={class:"text-base font-semibold mb-2"},AI={class:"mb-4"},bD=fr({__name:"ConfirmDialog",props:{visible:{type:Boolean},title:{},message:{}},emits:["confirm","cancel"],setup(t,{emit:e}){const r=e,n=()=>r("confirm"),i=()=>r("cancel");return(a,s)=>(ke(),fi(rv,{to:"body"},[a.visible?(ke(),Ve("div",wI,[ce("div",SI,[ce("h2",EI,ar(a.title),1),ce("p",AI,ar(a.message),1),ce("div",{class:"flex justify-end gap-2"},[ce("button",{class:"px-3 py-1 rounded border cursor-pointer",onClick:i}," Annuler "),ce("button",{class:"px-3 py-1 rounded text-[var(--text)] bg-red-600 hover:bg-red-900 cursor-pointer",onClick:n}," Confirmer ")])])])):Yt("",!0)]))}}),NI={role:"alert",class:"z-50 bg-red-100 dark:bg-red-900 border-l-4 border-red-500 dark:border-red-700 text-red-900 dark:text-red-100 p-2 rounded-lg flex items-center transition duration-300 ease-in-out hover:bg-red-200 dark:hover:bg-red-800 transform hover:scale-105"},DI={class:"text-xs font-semibold"},CI=fr({__name:"error",props:{content:{}},setup(t){return(e,r)=>(ke(),Ve("div",NI,[r[0]||(r[0]=ce("svg",{stroke:"currentColor",viewBox:"0 0 24 24",fill:"none",class:"h-5 w-5 flex-shrink-0 mr-2 text-red-600",xmlns:"http://www.w3.org/2000/svg"},[ce("path",{d:"M13 16h-1v-4h1m0-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z","stroke-width":"2","stroke-linejoin":"round","stroke-linecap":"round"})],-1)),ce("p",DI,"Erreur - "+ar(e.content),1)]))}}),MI={role:"alert",class:"bg-green-100 dark:bg-green-900 border-l-4 border-green-500 dark:border-green-700 text-green-900 dark:text-green-100 p-2 rounded-lg flex items-center transition duration-300 ease-in-out hover:bg-green-200 dark:hover:bg-green-800 transform hover:scale-105"},TI={class:"text-xs font-semibold"},_I=fr({__name:"success",props:{content:{}},setup(t){return(e,r)=>(ke(),Ve("div",MI,[r[0]||(r[0]=ce("svg",{stroke:"currentColor",viewBox:"0 0 24 24",fill:"none",class:"h-5 w-5 flex-shrink-0 mr-2 text-green-600",xmlns:"http://www.w3.org/2000/svg"},[ce("path",{d:"M13 16h-1v-4h1m0-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z","stroke-width":"2","stroke-linejoin":"round","stroke-linecap":"round"})],-1)),ce("p",TI,"Succs - "+ar(e.content),1)]))}}),OI=""+new URL("svgs/social/watsapp.svg",import.meta.url).href,FI=""+new URL("svgs/copy.svg",import.meta.url).href,BI={key:2,class:"fixed right-0 left-0 bottom-0 z-50 flex items-center justify-center px-4"},kI={class:"bg-[#FFF8F0] rounded-md p-4 m-3 mb-25 w-full max-w-sm text-sm flex items-center justify-center",style:{"border-radius":"15px","box-shadow":"0 0 10px #3336"}},II={class:"flex flex-row items-center gap-5"},RI=["src"],PI=["src"],$I=fr({__name:"share_menu",props:{visible:{type:Boolean},title:{},content:{}},setup(t){const e=t,r=Pe(!1);let n="";const i=Pe(!1);let a="";const s=(l,u)=>{l=="error"?(n=u,r.value=!0,setTimeout(()=>{r.value=!1},3e3)):l=="success"&&(a=u,i.value=!0,setTimeout(()=>{i.value=!1},3e3))},o=async l=>{if(console.log("Partage d'une note par",l),l==="watsapp"){const c=`https://wa.me/?text=${encodeURIComponent(`Je te partage ma note : ${await Lt.htmlToText(e.title)}


${await Lt.htmlToText(e.content)}


Envoy via www.silvernote.fr`)}`;window.open(c,"_blank")}else if(l==="nav")if(navigator.share)try{await navigator.share({title:e.title,text:e.content,url:window.location.href}),console.log("Partag avec succs")}catch(u){console.error("Erreur de partage",u),s("error","Une erreur est survenue lors du partage.")}else s("error","Le partage n'est pas support sur ce navigateur.");else if(l==="copy")try{await navigator.clipboard.writeText(`${e.title}

${e.content}`),console.log("Contenu copi"),s("success","Note copier.")}catch(u){console.error("Erreur lors de la copie :",u),s("error","Une erreur est survenue lors de la copie.")}};return(l,u)=>(ke(),fi(rv,{to:"body"},[r.value?(ke(),fi(CI,{key:0,class:"z-50 fixed top-14 ml-2",content:Oe(n)},null,8,["content"])):Yt("",!0),i.value?(ke(),fi(_I,{key:1,class:"z-50 fixed top-14 ml-2",content:Oe(a)},null,8,["content"])):Yt("",!0),l.visible?(ke(),Ve("div",BI,[ce("div",kI,[ce("ul",II,[ce("li",{onClick:u[0]||(u[0]=c=>o("nav"))},u[3]||(u[3]=[ce("button",{class:"icon-button"},[ce("svg",{width:"30",height:"30",fill:"currentColor",viewBox:"0 0 24 24"},[ce("path",{d:"M15.75 5.125a3.125 3.125 0 1 1 .754 2.035l-8.397 3.9a3.124 3.124 0 0 1 0 1.88l8.397 3.9a3.125 3.125 0 1 1-.61 1.095l-8.397-3.9a3.125 3.125 0 1 1 0-4.07l8.397-3.9a3.125 3.125 0 0 1-.144-.94Z"})])],-1)])),ce("li",{onClick:u[1]||(u[1]=c=>o("watsapp"))},[ce("img",{class:"icon-button w-10 h-10",src:Oe(OI)},null,8,RI)]),ce("li",{onClick:u[2]||(u[2]=c=>o("copy"))},[ce("img",{class:"icon-button w-10 h-10",style:{filter:"invert(55%) sepia(79%) saturate(558%) hue-rotate(342deg) brightness(93%) contrast(89%)"},src:Oe(FI)},null,8,PI)])])])])):Yt("",!0)]))}}),LI=gi($I,[["__scopeId","data-v-072f7954"]]),zI={key:0,class:"fixed inset-0 z-50 flex items-center justify-center",style:{"background-color":"#00000060"}},qI={class:"fixed inset-0 top-10 z-50 flex items-center justify-center px-4"},UI={class:"bg-[var(--bg2)] rounded-md p-4 m-3 mb-25 w-full max-w-sm text-sm flex flex-col items-center justify-center top",style:{"border-radius":"15px"}},HI={class:"flex flex-col items-center gap-5 w-full max-h-[60vh] overflow-auto pr-20 pl-20 mt-10"},VI=["for"],WI={class:"text-lg max-w-[60%]"},GI={class:"switch flex flex-row"},jI=["id","checked","onChange"],KI=fr({__name:"tags_manager",props:{tags:{},active:{type:Boolean}},emits:["update:tags","update:active"],setup(t,{emit:e}){const r=t,n=e,i=Pe([]),a=Pe([...r.tags]),s=l=>{a.value.includes(l)?a.value=a.value.filter(u=>u!==l):a.value.push(l)},o=()=>{n("update:tags",[...a.value]),n("update:active",!1)};return Kn(()=>r.active,l=>{l&&(a.value=[...r.tags])}),jt(async()=>{i.value=await bt.getAll("tags")}),Kn(i,async()=>{i.value=await bt.getAll("tags")}),(l,u)=>(ke(),fi(rv,{to:"body"},[r.active?(ke(),Ve("div",zI,[ce("div",qI,[ce("div",UI,[u[1]||(u[1]=ce("h1",{class:"text-2xl font-bold",style:{"font-family":"'Montserrat'","letter-spacing":"2px"}},"Grer les dossiers",-1)),u[2]||(u[2]=ce("span",null,"Slectionnez les dossiers contenant la note",-1)),ce("ul",HI,[(ke(!0),Ve(Gt,null,fa(i.value,(c,f)=>(ke(),Ve("li",{class:"w-full",key:f},[ce("label",{class:"flex flex-row justify-between items-center",for:`switch-${c.id}`},[ce("span",WI,ar(c.name),1),ce("div",GI,[ce("input",{id:`switch-${c.id}`,type:"checkbox",checked:a.value.includes(c.id),onChange:d=>s(c.id)},null,40,jI),u[0]||(u[0]=ce("span",{class:"slider"},null,-1))])],8,VI)]))),128))]),ce("button",{class:"px-3 py-1 rounded border hover:bg-gray-200 cursor-pointer mt-5",onClick:o}," Fermer ")])])])):Yt("",!0)]))}}),xD=""+new URL("webp/pin_plein.webp",import.meta.url).href,wD=""+new URL("webp/pin_vide.webp",import.meta.url).href,JI={class:"absolute right-0 top-3 h-full flex flex-row-reverse gap-1.5"},YI={key:0,class:"absolute top-8 right-0 bg-[var(--bg2)] border-[var(--text)] border-t-0 border-1 p-2 pr-3 pl-3 z-30",style:{"border-radius":"var(--br-card)","border-top-left-radius":"20px","border-top-right-radius":"0px"}},XI={class:"absolute left-1 bottom-1 w-[60%] whitespace-nowrap overflow-x-auto text-ellipsis scrollbar-none"},ZI=fr({__name:"Note_card",props:{title:{},content:{},date:{},pinned:{type:Boolean},tags:{},simply_edit:{type:Boolean},id:{}},emits:["pin"],setup(t,{emit:e}){let r;jt(async()=>{r=await io()});const n=ro(),i=e,a=t,s=Pe(!1),o=Pe(a.pinned),l=Pe(!1),u=Pe(!1),c=Pe([]),f=Pe([]),d=Pe(!1),p=Pe(null),h=async()=>{await bt.togle_pinned(a.id),o.value=!o.value,i("pin",!0)},m=g=>{bt.saveTags(g,a.id)},v=async g=>{g==1?s.value=!0:g==2&&(await bt.delete(a.id),s.value=!1)},y=()=>{n.push(`/edit?id=${a.id}&pinned=${o.value}&simply_edit=${a.simply_edit}`)};jt(async()=>{c.value=await bt.getAll("tags"),f.value=c.value.filter(g=>a.tags.includes(g.id))}),Kn(()=>a.pinned,g=>{o.value=g});const S=g=>{p.value&&!p.value.contains(g.target)&&(d.value=!1),l.value&&(l.value=!1)};return jt(()=>{document.addEventListener("click",S)}),Wu(()=>{document.removeEventListener("click",S)}),Kn(f,async()=>{c.value=await bt.getAll("tags"),f.value=c.value.filter(g=>a.tags.includes(g.id))}),(g,w)=>(ke(),Ve(Gt,null,[ce("div",{class:"note-card bg-[var(--bg2)] text-[var(--text)] p-3 border-[var(--text)] mr-4 ml-4 md:mr-2 md:ml-2 border-2 relative cursor-pointer mb-4 md:h-[28vh]",style:{"border-radius":"var(--br-card)"},onClick:y},[ce("p",{class:ct(["font-bold text-xl w-[80%] whitespace-nowrap overflow-hidden text-ellipsis",Oe(r)?"bg-teal-500":""])},ar(Oe(Lt).htmlToText(g.title)),3),ce("div",JI,[ce("div",{ref_key:"dropdown_rootRef",ref:p,class:"relative",onClick:w[3]||(w[3]=_r(x=>d.value=!d.value,["stop"]))},[ce("div",{class:ct(["ellipsis",Oe(r)?"bg-red-600":""])},null,2),dt(cv,{name:"fade-slide"},{default:Fs(()=>[d.value?(ke(),Ve("div",YI,[ce("ul",null,[ce("li",{onClick:w[0]||(w[0]=_r(()=>{u.value=!0,d.value=!1},["stop"])),class:ct(Oe(r)?"bg-teal-600 border-1 border-black":"")},"dossiers",2),ce("li",{onClick:w[1]||(w[1]=_r(x=>l.value=!l.value,["stop"])),class:ct(Oe(r)?"bg-teal-600 border-1 border-black":"")},"partager",2),ce("li",{onClick:w[2]||(w[2]=_r(x=>v(1),["stop"])),class:ct(["text-red-600",Oe(r)?"bg-teal-600 border-1 border-black":""])},"supprimer",2)])])):Yt("",!0)]),_:1})],512),ce("div",{class:ct(["pin",Oe(r)?"bg-red-600":""]),style:ca({backgroundImage:o.value?`url(${Oe(xD)})`:`url(${Oe(wD)})`}),onClick:_r(h,["stop"])},null,6)]),ce("p",{class:ct(["text-mb mb-5 w-[65%] h-[80%] whitespace-nowrap md:whitespace-normal overflow-hidden text-ellipsis",Oe(r)?"bg-blue-500":""])},ar(Oe(Lt).htmlToText(g.content)),3),ce("div",XI,[(ke(!0),Ve(Gt,null,fa(f.value,(x,b)=>(ke(),Ve("span",{key:b,class:ct(["ml-2 border-1 border-[var(--text)] pr-1.5 pl-1.5 rounded-[var(--br-tag)]",Oe(r)?"bg-teal-500":""]),style:ca({backgroundColor:x.color,color:Oe(Lt).get_text_color(x.color)})},ar(x.name),7))),128))]),ce("label",{class:ct(["absolute right-2 bottom-1 z-10",Oe(r)?"bg-teal-500":""])},ar(g.date),3)]),dt(bD,{visible:s.value,title:"Confirmation",message:"Voulez-vous vraiment supprimer cette note ?",onConfirm:w[4]||(w[4]=x=>v(2)),onCancel:w[5]||(w[5]=x=>s.value=!1)},null,8,["visible"]),dt(LI,{visible:l.value,title:g.title,content:g.content},null,8,["visible","title","content"]),dt(KI,{active:u.value,tags:g.tags,"onUpdate:tags":m,"onUpdate:active":w[6]||(w[6]=x=>u.value=x)},null,8,["active","tags"])],64))}}),QI=gi(ZI,[["__scopeId","data-v-805e5702"]]),eR={},tR={class:"note-card bg-[var(--bg2)] mr-4 ml-4 text-[#3B3B3B] p-3 border-[#3B3B3B] border-2 relative cursor-pointer",style:{"border-radius":"15px"}};function rR(t,e){return ke(),Ve("div",tR,e[0]||(e[0]=[s3('<p class="font-bold text-xl mb-1 w-[80%] whitespace-nowrap overflow-hidden text-ellipsis animate-pulse bg-gray-300 h-5 rounded-full" data-v-a38d49b2></p><div class="pin absolute right-3 top-3 animate-pulse bg-gray-300 h-5 rounded-full" data-v-a38d49b2></div><p class="text-mb mb-5 w-[65%] whitespace-nowrap overflow-hidden text-ellipsis animate-pulse bg-gray-300 h-5 rounded-full" data-v-a38d49b2></p><div class="absolute left-3 bottom-1.5 w-[60%] whitespace-nowrap overflow-x-auto text-ellipsis scrollbar-none animate-pulse bg-gray-300 h-5 rounded-full" data-v-a38d49b2></div><label class="absolute right-2 bottom-1.5 animate-pulse bg-gray-300 h-5 rounded-full w-[20%]" data-v-a38d49b2></label>',5)]))}const Cc=gi(eR,[["render",rR],["__scopeId","data-v-a38d49b2"]]),nR={class:"flex flex-row items-center"},iR=["onClick"],aR=["innerHTML"],sR=["innerHTML"],oR={key:1,class:"text-sm mt-4"},lR=["onClick"],uR=["innerHTML"],cR=["innerHTML"],fR={class:"absolute left-1 bottom-1 w-[60%] whitespace-nowrap overflow-x-auto text-ellipsis scrollbar-none"},dR=["innerHTML"],pR=fr({__name:"Search_bar",props:{pt:{},desktop:{type:Boolean}},setup(t){let e;jt(async()=>{e=await io()});const r=t,n=Pe(null),i=ro(),a=Pe(""),s=Pe([]),o=Pe([]);jt(async()=>{o.value=await bt.getAll("tags")});const l=async()=>{s.value=await bt.getAll("notes"),s.value.sort((f,d)=>d.id-f.id)},u=kr(()=>s.value.filter(f=>{const d=o.value.filter(h=>f.tags.includes(h.id)).map(h=>h.name).join(" ");return[f.title,f.content,d,...f.tags||[]].join(" ").toLowerCase().includes(a.value.toLowerCase())})),c=(f,d)=>{if(!d)return f;const p=d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),h=new RegExp(`(${p})`,"gi");return f.replace(h,'<mark class="bg-yellow-300">$1</mark>')};return jt(async()=>{await l()}),(f,d)=>(ke(),Ve("div",{class:ct(f.desktop&&u.value.length&&a.value!=""?"note-card bg-[var(--bg2)] text-[var(--text)] absolute right-4 left-4  flex flex-col pl-4 pt-2.5 pb-2.5 border border-[var(--text)] z-30":"note-card bg-[var(--bg2)] text-[var(--text)] relative lg:ml-0 ml-4 mr-4 w-full flex flex-col pl-4 pt-2.5 pb-2.5 border border-[var(--text)] z-30"),style:ca([{"box-shadow":"0 0 15px #3636364f","border-radius":"var(--br-btn)"},f.desktop&&u.value.length&&a.value!=""?{top:`calc(4.5rem + ${r.pt})`}:""])},[ce("div",nR,[jo(ce("input",{ref_key:"search_input",ref:n,"onUpdate:modelValue":d[0]||(d[0]=p=>a.value=p),type:"text",class:"w-[85%] border-none outline-none",placeholder:"Recherche..."},null,512),[[xu,a.value]]),a.value!==""?(ke(),Ve("button",{key:0,onClick:d[1]||(d[1]=p=>a.value=""),class:ct(["cross-btn absolute end-1",Oe(e)?"bg-red-600":""])},null,2)):Yt("",!0),a.value==""?(ke(),Ve("button",{key:1,onClick:d[2]||(d[2]=p=>{var h;return(h=n.value)==null?void 0:h.focus()}),class:ct(["search-btn absolute end-4",Oe(e)?"bg-red-600":""])},null,2)):Yt("",!0)]),u.value.length&&a.value!=""&&!f.desktop?(ke(),Ve("div",{key:0,class:"mt-4 space-y-2 w-[100%] relative overflow-x-auto pr-4",style:ca({maxHeight:`calc(100vh - 3.5rem - ${r.pt} - 5.3rem)`,minHeight:`calc(100vh - 3.5rem - ${r.pt} - 5.3rem)`})},[(ke(!0),Ve(Gt,null,fa(u.value,p=>(ke(),Ve("div",{key:p.id,onClick:h=>Oe(i).push(`/edit?id=${p.id}&pinned=${p.pinned}`),class:"bg-[var(--bg2)] p-2 rounded shadow cursor-pointer border-1 border-[var(--text)]"},[ce("h3",{class:"font-semibold",innerHTML:c(Oe(Lt).clean_html(p.title),a.value)},null,8,aR),ce("p",{class:"text-sm max-h-20 overflow-hidden",innerHTML:c(Oe(Lt).clean_html(p.content),a.value)},null,8,sR)],8,iR))),128))],4)):Yt("",!0),a.value!==""&&!u.value.length?(ke(),Ve("div",oR," Aucune note trouve. ")):u.value.length&&a.value!=""&&f.desktop?(ke(),Ve("ul",{key:2,class:"mt-4 space-y-2 w-full relative overflow-x-auto gap-4 pr-4 grid lg:grid-cols-[23%_23%_23%_23%] xl:grid-cols-[18%_18%_18%_18%_18%]",style:ca({maxHeight:`calc(100vh - 3.5rem - ${r.pt} - 5.3rem)`,minHeight:`calc(80vh - 3.5rem - ${r.pt})`})},[(ke(!0),Ve(Gt,null,fa(u.value,p=>(ke(),Ve("li",{key:p.id,onClick:h=>Oe(i).push(`/edit?id=${p.id}&pinned=${p.pinned}`),class:"bg-[var(--bg2)] p-3 rounded-[15px] shadow cursor-pointer relative h-fullborder-[var(--text)]"},[ce("h3",{class:ct(["font-semibold",Oe(e)?"bg-blue-200":""]),innerHTML:c(Oe(Lt).clean_html(p.title),a.value)},null,10,uR),ce("p",{class:ct(["text-sm overflow-hidden mb-5",Oe(e)?"bg-blue-500":""]),innerHTML:c(Oe(Lt).clean_html(p.content),a.value)},null,10,cR),ce("div",fR,[(ke(!0),Ve(Gt,null,fa(o.value.filter(h=>p.tags.includes(h.id)),h=>(ke(),Ve("div",{key:h.id,class:ct(["ml-2 underline",Oe(e)?"bg-teal-500":""]),innerHTML:c(h.name,a.value)},null,10,dR))),128))]),ce("label",{class:ct(["absolute right-2.5 bottom-1.5 z-10",Oe(e)?"bg-teal-500":""])},ar(p.date),3)],8,lR))),128))],4)):Yt("",!0)],6))}}),hR=gi(pR,[["__scopeId","data-v-e856d5f6"]]),mR={class:"pr-2 pl-2"},gR={key:0,class:"border-l-1 ml-1 pl-1 flex bg-[var(--bg2)]"},vR={class:"flex flex-row"},yR={class:"flex flex-col gap-4 fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-110"},bR=1e3,xR=fr({__name:"Tags_item",props:{name:{},tag:{},active:{type:Boolean},color:{}},setup(t){const e=t,r=Pe(!1),n=Lt.get_text_color(e.color),i=Pe(null),a=Pe(e.color),s=Pe(!1),o=async()=>{const p=(await bt.getAll("tags")).find(h=>h.name==e.name);p&&bt.delete_tag(p.id),window.location.reload()},l=Pe(null);function u(){s.value=!s.value}function c(){f(),l.value=window.setTimeout(()=>{u()},bR)}function f(){l.value!==null&&(clearTimeout(l.value),l.value=null)}return jt(()=>{e.name==="create_tag"&&i.value&&i.value.focus()}),(d,p)=>(ke(),Ve(Gt,null,[ce("div",FN(d.$attrs,{onContextmenu:_r(u,["prevent"]),onTouchstart:c,onTouchend:f,onTouchcancel:f,class:[d.active?"p-0.5 lg:p-1.5 text-center border-3 border-[#F28C28] cursor-pointer":"p-1 lg:p-2 text-center border-1 cursor-pointer","rounded-[var(--br-btn)] text-mb lg:rounded-[var(--br-btn)] flex flex-row justify-center items-center select-none"],style:{backgroundColor:a.value,color:Oe(n)}}),[ce("span",mR,ar(d.name),1),s.value?(ke(),Ve("section",gR,[ce("ul",vR,[ce("li",{onClick:_r(o,["stop"]),class:"cursor-pointer"},p[6]||(p[6]=[ce("div",{class:"bin-svg w-5 h-5"},null,-1)])),ce("li",{onClick:p[0]||(p[0]=_r(h=>r.value=!0,["stop"])),class:"cursor-pointer"},p[7]||(p[7]=[ce("div",{class:"color-svg w-4 h-4"},null,-1)]))])])):Yt("",!0)],16),r.value?(ke(),Ve("div",{key:0,onClick:p[5]||(p[5]=_r(h=>r.value=!1,["stop"]))},[p[11]||(p[11]=ce("div",{class:"fixed inset-0 bg-black/50 z-100"},null,-1)),ce("section",yR,[ce("div",{onClick:p[2]||(p[2]=_r(()=>{},["stop"])),class:"flex flex-col justify-center items-center border-2 h-full bg-[var(--bg2)]/80 border-[#F28C28] rounded-[var(--br-btn)] shadow-lg"},[p[8]||(p[8]=ce("span",null,"couleur de mon dossier",-1)),jo(ce("input",{"onUpdate:modelValue":p[1]||(p[1]=h=>a.value=h),type:"color",class:"outline-none w-full h-10 cursor-pointer rounded-[var(--br-btn)] border-none"},null,512),[[xu,a.value]])]),ce("button",{onClick:p[3]||(p[3]=_r(h=>{r.value=!1,s.value=!1},["stop"])),class:"p-1 text-center w-full border-2 bg-white/80 font-bold cursor-pointer rounded-[var(--br-btn)] shadow-md hover:bg-[#f28c28]"},p[9]||(p[9]=[ce("span",null,"Sauvegarder",-1)])),ce("button",{class:"p-1 text-center w-full border-2 bg-white/80 font-bold cursor-pointer rounded-[var(--br-btn)] shadow-md hover:bg-[#f25728]",onClick:p[4]||(p[4]=_r(h=>{r.value=!1,s.value=!1,a.value=d.color},["stop"]))},p[10]||(p[10]=[ce("span",null,"Annuler",-1)]))])])):Yt("",!0)],64))}}),Bh=gi(xR,[["__scopeId","data-v-070a1a68"]]),wR={},SR={class:"p-1 w-[20%] h-7 text-center border rounded-[15px] flex items-center justify-center bg-[var(--bg2)]"};function ER(t,e){return ke(),Ve("div",SR,e[0]||(e[0]=[ce("span",{class:"animate-pulse bg-gray-300 h-full w-full rounded-[15px]"},null,-1)]))}const Mc=gi(wR,[["render",ER]]),AR={},NR={class:"loading-wave"};function DR(t,e){return ke(),Ve("div",NR,e[0]||(e[0]=[ce("div",{class:"loading-bar"},null,-1),ce("div",{class:"loading-bar"},null,-1),ce("div",{class:"loading-bar"},null,-1),ce("div",{class:"loading-bar"},null,-1)]))}const CR=gi(AR,[["render",DR],["__scopeId","data-v-1f34c580"]]),MR={style:{"font-family":"'Montserrat', sans-serif","box-shadow":"0 0 15px #36363681","padding-top":"calc(env(safe-area-inset-top)/2)"},class:"top-0 left-0 w-full text-2xl font-bold bg-[#F28C28] flex items-center justify-center fixed z-50"},TR={class:"flex flex-row justify-center items-center"},_R={key:0,class:"dropdown absolute right-0 bg-[#F28C28] z-50 min-w-[200px] w-[40%] md:w-[20%] lg:w-[10%] flex flex-col justify-center items-center p-3",style:{top:"calc(3.5rem + env(safe-area-inset-top))"}},OR={class:"text-xl text-white"},FR={class:"Search_bar flex flex-col lg:flex-row items-center w-full px-4 gap-4"},BR={key:1,class:"flex flex-row justify-center items-center gap-1.5 pr-1.5 pl-1.5 max-w-[100%] mr-4 ml-4 whitespace-nowrap overflow-x-auto text-ellipsis scrollbar-none"},kR={class:"w-[20%] min-w-[70px]"},IR={key:2,class:"flex flex-row justify-center items-center gap-1.5 pr-1.5 pl-1.5 max-w-[100%] mr-4 ml-4 whitespace-nowrap overflow-x-auto text-ellipsis scrollbar-none"},RR={class:"grid grid-cols-1 md:grid-cols-[33%_33%_33%] lg:grid-cols-[25%_25%_25%_25%] xl:grid-cols-[20%_20%_20%_20%_20%] md:mr-2 md:ml-2"},PR={key:1,class:"flex flex-col"},$R={key:2,class:"flex flex-col"},LR={key:2,class:"bg-transparent w-full z-50 fixed",style:{bottom:"env(safe-area-inset-bottom)"}},zR={class:"flex flex-col gap-4 fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-110"},qR={class:"p-1 text-center w-full border-2 bg-[var(--bg2)]/80 border-[#F28C28] rounded-[var(--br-btn)] shadow-lg"},UR={key:1,class:"absolute inset-0 bg-[var(--bg)] z-50"},HR={class:"flex justify-center items-center w-screen h-screen"},VR=fr({__name:"Home",setup(t){let e;jt(async()=>{e=await io()});const r=ro(),n=async()=>{r.push("/edit?id=new&pinned=false&simply_edit=false")},i=Pe(!0),a=Pe(localStorage.getItem("theme")=="light"),s=Pe(null),o=Pe(""),l=Pe(""),u=Pe(!1),c=Pe(void 0),f=Pe([]),d=Pe(void 0),p=Pe(!1),h=Pe(!1),m=Pe(!1),v=Pe(null),y=Pe(window.innerWidth>=1024),S=()=>{y.value=window.innerWidth>=1024};jt(()=>{window.addEventListener("resize",S)}),Wu(()=>{window.removeEventListener("resize",S)});const g=()=>{var M;const C=!a.value;pf(C),a.value=C,(M=s.value)==null||M.animate([{transform:"scale(1)"},{transform:"scale(0.9)"},{transform:"scale(1)"}],{duration:150,easing:"ease-out"})},w=async()=>{const C=await bt.getAll("notes");f.value=C.sort((M,F)=>M.pinned===F.pinned?F.id-M.id:M.pinned?-1:1)},x=async C=>{var R,T,L;const M=C-1;if((R=d.value)!=null&&R[M].active){d.value[M].active=!1,f.value=await bt.getAll("notes");return}(T=d.value)!=null&&T[M]&&(d.value[M].active=!d.value[M].active);const F=(L=d.value)==null?void 0:L.filter(_=>_.active).map(_=>_.id);if((F==null?void 0:F.length)===0)return;const I=await bt.getAll("notes");f.value=I.filter(_=>_.tags.some(H=>F==null?void 0:F.includes(Number(H))))},b=async(C,M)=>{C&&(M||(M="#FFF"),console.log("cration du tag :",C,`
 avec la couleur :`,M),o.value="",l.value="",await bt.create_tag({id:-1,name:C,active:!1,color:M}),d.value=await bt.getAll("tags"),m.value=!1)},A=async()=>{N(),await nu.saving_all(await bt.getAll("notes"),await bt.getAll("tags"))},D=async()=>{p.value||(p.value=!0,setTimeout(async()=>{f.value=[],await g1(f),console.log("Rechargement des notes..."),setTimeout(()=>{p.value=!1},300)},400))},E=Pe(!1),N=()=>{E.value=!1,requestAnimationFrame(()=>{E.value=!0,setTimeout(()=>{E.value=!1},500)})};return jt(async()=>{d.value=await bt.getAll("tags"),await g1(f),pp(),u.value=!!await nu.info_message(),c.value=await nu.info_message(),setTimeout(()=>{i.value=!1},100)}),Kn(d,async(C,M)=>{var L;const F=C==null?void 0:C.some((_,H)=>{const k=M?M[H]:void 0;return k&&_.active!==k.active}),I=await bt.getAll("tags"),R=(L=d.value)==null?void 0:L.map(_=>_.id).sort(),T=I.map(_=>_.id).sort();(!F&&JSON.stringify(C)!=JSON.stringify(M)||JSON.stringify(R)!==JSON.stringify(T))&&(console.log("Update all_tags !"),d.value=await bt.getAll("tags"))}),(C,M)=>{var F,I,R,T,L;return ke(),Ve(Gt,null,[ce("header",MR,[ce("div",TR,[ce("h1",{class:ct(["absolute left-4 text-white flex flex-row",Oe(e)?"bg-red-600":""])},M[14]||(M[14]=[ce("img",{src:nB,class:"w-6 mr-2",alt:"logo"},null,-1),ql("SilverNote")]),2),ce("div",{class:ct(["reload-svg absolute right-36 w-[24px] h-[24px]",[a.value?"moon-svg":"sun-svg",Oe(e)?"bg-teal-300":""]]),ref_key:"theme_btn",ref:s,onClick:g},null,2),ce("div",{class:ct(["reload-svg absolute right-25 w-[24px] h-[24px]",[{rotating:p.value},Oe(e)?"bg-teal-300":""]]),onClick:D},null,2),ce("div",{class:ct(["saving-svg absolute right-14 w-[24px] h-[24px]",[{jump:E.value},Oe(e)?"bg-teal-300":""]]),onClick:A},null,2),ce("div",{class:ct([[Oe(e)?"bg-teal-300":""],"ellipsis-svg absolute right-4 w-[30px] h-[30px]"]),onClick:M[0]||(M[0]=_=>h.value=!h.value)},null,2),dt(cv,{name:"fade-slide"},{default:Fs(()=>[h.value?(ke(),Ve("div",_R,[ce("ul",OR,[ce("li",{class:"flex flex-row",onClick:M[1]||(M[1]=_=>Oe(r).push("/settings"))},M[15]||(M[15]=[ce("div",{class:"gear-svg"},null,-1),ql(" Paramtre ")])),ce("li",{class:"flex flex-row",onClick:M[2]||(M[2]=_=>Oe(r).push("/account"))},M[16]||(M[16]=[ce("div",{class:"nav-svg",style:{filter:"invert(0)"}},[ce("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-user",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[ce("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),ce("path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0"}),ce("path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"})])],-1),ql(" Compte ")])),M[17]||(M[17]=ce("li",{class:"flex flex-row"},[ce("div",{class:"nav-svg legal-svg"}),ql(" Lgal ")],-1)),Oe(gI)?(ke(),Ve("li",{key:0,class:"flex flex-row mt-1 text-sm",onClick:M[3]||(M[3]=_=>Oe(r).push("/dev"))},"Dveloppeurs")):Yt("",!0)])])):Yt("",!0)]),_:1})])]),ce("div",FR,[dt(hR,{class:"mb-4 lg:mb-0 lg:w-1/2 w-full",desktop:y.value,pt:"env(safe-area-inset-top)"},null,8,["desktop"]),d.value&&d.value.length?(ke(),fi(Oe(_k),{key:0,"slides-per-view":5,"space-between":8,class:ct(["flex-shrink-0 w-full lg:w-1/2 pr-1.5 pl-1.5",[Oe(e)?"bg-amber-400":"","lg:scrollbar-thin","scrollbar-thumb-rounded"]])},{default:Fs(()=>[(ke(!0),Ve(Gt,null,fa(d.value,(_,H)=>(ke(),fi(Oe(t1),{key:H},{default:Fs(()=>[dt(Bh,{onClick:_r(k=>x(_.id),["stop"]),id:_.id,name:_.name,tag:_.name,active:_.active,color:_.color,class:"min-w-[70px] flex-shrink-0"},null,8,["onClick","id","name","tag","active","color"])]),_:2},1024))),128)),dt(Oe(t1),{class:"min-w-[70px]"},{default:Fs(()=>[dt(Bh,{onClick:M[4]||(M[4]=_=>m.value=!0),id:null,name:"+",tag:"",active:!1,color:"#fff5e8",class:"flex-shrink-0"})]),_:1})]),_:1},8,["class"])):d.value?(ke(),Ve("ul",BR,[ce("li",kR,[dt(Bh,{onClick:M[5]||(M[5]=_=>{var H;m.value=!0,(H=v.value)==null||H.focus()}),id:null,name:"+",tag:"",active:!1,color:"#fff5e8"})])])):(ke(),Ve("ul",IR,[dt(Mc),dt(Mc),dt(Mc),dt(Mc)]))]),ce("div",{onClick:M[6]||(M[6]=_=>h.value=!1),class:ct(["overflow-x-hidden mb-30",Oe(e)?"bg-rose-600":""])},[Yt("",!0),u.value?(ke(),fi(xI,{key:1,style:{"box-shadow":"0 0 15px #3636364f"},class:"mt-4",title:(F=c.value)==null?void 0:F.title,btn:(I=c.value)==null?void 0:I.btn,href:(R=c.value)==null?void 0:R.href,content:(T=c.value)==null?void 0:T.message},null,8,["title","btn","href","content"])):Yt("",!0),ce("div",{class:ct(["overflow-y-auto mt-4 min-h-[60vh]",Oe(e)?"bg-purple-600":""])},[ce("ul",RR,[f.value&&f.value.length?(ke(!0),Ve(Gt,{key:0},fa(f.value,(_,H)=>(ke(),Ve("li",{class:"",key:H},[dt(QI,{onPin:w,id:_.id,pinned:_.pinned,title:_.title,content:_.content,date:_.date,tags:_.tags.map(k=>Number(k)),simply_edit:_.simply_edit},null,8,["id","pinned","title","content","date","tags","simply_edit"])]))),128)):f.value&&f.value.length==0?(ke(),Ve("li",PR,[ce("div",{class:"note-card bg-[var(--bg2)] mr-4 ml-4 p-3 border-2",style:{"border-radius":"15px"}},[M[19]||(M[19]=ce("p",{class:"font-bold text-xl w-[80%] whitespace-nowrap overflow-hidden text-ellipsis"}," Aucune note trouve ! ",-1)),ce("div",{class:"bg-transparent w-full z-50 relative mt-5"},[ce("button",{style:{"box-shadow":"0 0 15px #3636364f"},onClick:n,class:"add-note-btn cursor-pointer flex items-center justify-center w-full"},M[18]||(M[18]=[ce("div",{class:"add-note-svg"},null,-1)]))])])])):(ke(),Ve("li",$R,[dt(Cc,{class:"mb-3"}),dt(Cc,{class:"mb-3"}),dt(Cc,{class:"mb-3"}),dt(Cc,{class:"mb-3"})]))])],2),f.value&&((L=f.value)!=null&&L.length)?(ke(),Ve("div",LR,[ce("button",{style:{"box-shadow":"0 0 15px #3636364f"},onClick:n,class:"add-note-btn cursor-pointer flex items-center justify-center absolute right-4 left-4 bottom-4 md:left-1/4 md:right-1/4 lg:left-1/3.5 lg:right-1/3.5 xl:left-1/3 xl:right-1/3"},M[20]||(M[20]=[ce("div",{class:"add-note-svg"},null,-1)]))])):Yt("",!0)],2),m.value?(ke(),Ve("div",{key:0,onClick:M[13]||(M[13]=_=>m.value=!1)},[M[24]||(M[24]=ce("div",{class:"fixed inset-0 bg-black/50 z-100"},null,-1)),ce("section",zR,[ce("div",qR,[jo(ce("input",{"onUpdate:modelValue":M[7]||(M[7]=_=>o.value=_),ref_key:"inputRef",ref:v,type:"text",class:"outline-none pl-1 w-full",placeholder:"Mon dossier",onClick:M[8]||(M[8]=_r(_=>{var H;return(H=v.value)==null?void 0:H.focus()},["stop"]))},null,512),[[xu,o.value]])]),ce("div",{onClick:M[10]||(M[10]=_r(()=>{},["stop"])),class:"flex flex-col justify-center items-center border-2 h-full bg-[var(--bg2)]/80 border-[#F28C28] rounded-[var(--br-btn)] shadow-lg"},[M[21]||(M[21]=ce("span",null,"couleur de mon dossier",-1)),jo(ce("input",{"onUpdate:modelValue":M[9]||(M[9]=_=>l.value=_),type:"color",class:"outline-none w-full h-10 cursor-pointer rounded-[var(--br-btn)] border-none"},null,512),[[xu,l.value]])]),ce("button",{class:"p-1 text-center w-full border-2 bg-white/80 font-bold cursor-pointer rounded-[var(--br-btn)] shadow-md hover:bg-[#f28c28]",onClick:M[11]||(M[11]=_r(_=>b(o.value,l.value),["stop"]))},M[22]||(M[22]=[ce("span",null,"Crer mon dossier",-1)])),ce("button",{class:"p-1 text-center w-full border-2 bg-white/80 font-bold cursor-pointer rounded-[var(--br-btn)] shadow-md hover:bg-[#f25728]",onClick:M[12]||(M[12]=_r(_=>m.value=!1,["stop"]))},M[23]||(M[23]=[ce("span",null,"Annuler",-1)]))])])):Yt("",!0),i.value?(ke(),Ve("div",UR,[ce("div",HR,[dt(CR)])])):Yt("",!0)],64)}}}),WR=gi(VR,[["__scopeId","data-v-936253b0"]]);function Tr(t){this.content=t}Tr.prototype={constructor:Tr,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,r){var n=r&&r!=t?this.remove(r):this,i=n.find(t),a=n.content.slice();return i==-1?a.push(r||t,e):(a[i+1]=e,r&&(a[i]=r)),new Tr(a)},remove:function(t){var e=this.find(t);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new Tr(r)},addToStart:function(t,e){return new Tr([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new Tr(r)},addBefore:function(t,e,r){var n=this.remove(e),i=n.content.slice(),a=n.find(t);return i.splice(a==-1?i.length:a,0,e,r),new Tr(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Tr.from(t),t.size?new Tr(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Tr.from(t),t.size?new Tr(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Tr.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},toObject:function(){var t={};return this.forEach(function(e,r){t[e]=r}),t},get size(){return this.content.length>>1}};Tr.from=function(t){if(t instanceof Tr)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new Tr(e)};function SD(t,e,r){for(let n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;let i=t.child(n),a=e.child(n);if(i==a){r+=i.nodeSize;continue}if(!i.sameMarkup(a))return r;if(i.isText&&i.text!=a.text){for(let s=0;i.text[s]==a.text[s];s++)r++;return r}if(i.content.size||a.content.size){let s=SD(i.content,a.content,r+1);if(s!=null)return s}r+=i.nodeSize}}function ED(t,e,r,n){for(let i=t.childCount,a=e.childCount;;){if(i==0||a==0)return i==a?null:{a:r,b:n};let s=t.child(--i),o=e.child(--a),l=s.nodeSize;if(s==o){r-=l,n-=l;continue}if(!s.sameMarkup(o))return{a:r,b:n};if(s.isText&&s.text!=o.text){let u=0,c=Math.min(s.text.length,o.text.length);for(;u<c&&s.text[s.text.length-u-1]==o.text[o.text.length-u-1];)u++,r--,n--;return{a:r,b:n}}if(s.content.size||o.content.size){let u=ED(s.content,o.content,r-1,n-1);if(u)return u}r-=l,n-=l}}class Ne{constructor(e,r){if(this.content=e,this.size=r||0,r==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,r,n,i=0,a){for(let s=0,o=0;o<r;s++){let l=this.content[s],u=o+l.nodeSize;if(u>e&&n(l,i+o,a||null,s)!==!1&&l.content.size){let c=o+1;l.nodesBetween(Math.max(0,e-c),Math.min(l.content.size,r-c),n,i+c)}o=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,n,i){let a="",s=!0;return this.nodesBetween(e,r,(o,l)=>{let u=o.isText?o.text.slice(Math.max(e,l)-l,r-l):o.isLeaf?i?typeof i=="function"?i(o):i:o.type.spec.leafText?o.type.spec.leafText(o):"":"";o.isBlock&&(o.isLeaf&&u||o.isTextblock)&&n&&(s?s=!1:a+=n),a+=u},0),a}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,n=e.firstChild,i=this.content.slice(),a=0;for(r.isText&&r.sameMarkup(n)&&(i[i.length-1]=r.withText(r.text+n.text),a=1);a<e.content.length;a++)i.push(e.content[a]);return new Ne(i,this.size+e.size)}cut(e,r=this.size){if(e==0&&r==this.size)return this;let n=[],i=0;if(r>e)for(let a=0,s=0;s<r;a++){let o=this.content[a],l=s+o.nodeSize;l>e&&((s<e||l>r)&&(o.isText?o=o.cut(Math.max(0,e-s),Math.min(o.text.length,r-s)):o=o.cut(Math.max(0,e-s-1),Math.min(o.content.size,r-s-1))),n.push(o),i+=o.nodeSize),s=l}return new Ne(n,i)}cutByIndex(e,r){return e==r?Ne.empty:e==0&&r==this.content.length?this:new Ne(this.content.slice(e,r))}replaceChild(e,r){let n=this.content[e];if(n==r)return this;let i=this.content.slice(),a=this.size+r.nodeSize-n.nodeSize;return i[e]=r,new Ne(i,a)}addToStart(e){return new Ne([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Ne(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,n=0;r<this.content.length;r++){let i=this.content[r];e(i,n,r),n+=i.nodeSize}}findDiffStart(e,r=0){return SD(this,e,r)}findDiffEnd(e,r=this.size,n=e.size){return ED(this,e,r,n)}findIndex(e,r=-1){if(e==0)return Tc(0,e);if(e==this.size)return Tc(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,i=0;;n++){let a=this.child(n),s=i+a.nodeSize;if(s>=e)return s==e||r>0?Tc(n+1,s):Tc(n,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return Ne.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new Ne(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Ne.empty;let r,n=0;for(let i=0;i<e.length;i++){let a=e[i];n+=a.nodeSize,i&&a.isText&&e[i-1].sameMarkup(a)?(r||(r=e.slice(0,i)),r[r.length-1]=a.withText(r[r.length-1].text+a.text)):r&&r.push(a)}return new Ne(r||e,n)}static from(e){if(!e)return Ne.empty;if(e instanceof Ne)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Ne([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Ne.empty=new Ne([],0);const kh={index:0,offset:0};function Tc(t,e){return kh.index=t,kh.offset=e,kh}function zf(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!zf(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!zf(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}let qt=class Gm{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,n=!1;for(let i=0;i<e.length;i++){let a=e[i];if(this.eq(a))return e;if(this.type.excludes(a.type))r||(r=e.slice(0,i));else{if(a.type.excludes(this.type))return e;!n&&a.type.rank>this.type.rank&&(r||(r=e.slice(0,i)),r.push(this),n=!0),r&&r.push(a)}}return r||(r=e.slice()),n||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&zf(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);let i=n.create(r.attrs);return n.checkAttrs(i.attrs),i}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(r[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Gm.none;if(e instanceof Gm)return[e];let r=e.slice();return r.sort((n,i)=>n.type.rank-i.type.rank),r}};qt.none=[];class qf extends Error{}class Be{constructor(e,r,n){this.content=e,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let n=ND(this.content,e+this.openStart,r);return n&&new Be(n,this.openStart,this.openEnd)}removeBetween(e,r){return new Be(AD(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return Be.empty;let n=r.openStart||0,i=r.openEnd||0;if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Be(Ne.fromJSON(e,r.content),n,i)}static maxOpen(e,r=!0){let n=0,i=0;for(let a=e.firstChild;a&&!a.isLeaf&&(r||!a.type.spec.isolating);a=a.firstChild)n++;for(let a=e.lastChild;a&&!a.isLeaf&&(r||!a.type.spec.isolating);a=a.lastChild)i++;return new Be(e,n,i)}}Be.empty=new Be(Ne.empty,0,0);function AD(t,e,r){let{index:n,offset:i}=t.findIndex(e),a=t.maybeChild(n),{index:s,offset:o}=t.findIndex(r);if(i==e||a.isText){if(o!=r&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(n!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(n,a.copy(AD(a.content,e-i-1,r-i-1)))}function ND(t,e,r,n){let{index:i,offset:a}=t.findIndex(e),s=t.maybeChild(i);if(a==e||s.isText)return t.cut(0,e).append(r).append(t.cut(e));let o=ND(s.content,e-a-1,r);return o&&t.replaceChild(i,s.copy(o))}function GR(t,e,r){if(r.openStart>t.depth)throw new qf("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new qf("Inconsistent open depths");return DD(t,e,r,0)}function DD(t,e,r,n){let i=t.index(n),a=t.node(n);if(i==e.index(n)&&n<t.depth-r.openStart){let s=DD(t,e,r,n+1);return a.copy(a.content.replaceChild(i,s))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&t.depth==n&&e.depth==n){let s=t.parent,o=s.content;return Us(s,o.cut(0,t.parentOffset).append(r.content).append(o.cut(e.parentOffset)))}else{let{start:s,end:o}=jR(r,t);return Us(a,MD(t,s,o,e,n))}else return Us(a,Uf(t,e,n))}function CD(t,e){if(!e.type.compatibleContent(t.type))throw new qf("Cannot join "+e.type.name+" onto "+t.type.name)}function jm(t,e,r){let n=t.node(r);return CD(n,e.node(r)),n}function qs(t,e){let r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}function iu(t,e,r,n){let i=(e||t).node(r),a=0,s=e?e.index(r):i.childCount;t&&(a=t.index(r),t.depth>r?a++:t.textOffset&&(qs(t.nodeAfter,n),a++));for(let o=a;o<s;o++)qs(i.child(o),n);e&&e.depth==r&&e.textOffset&&qs(e.nodeBefore,n)}function Us(t,e){return t.type.checkContent(e),t.copy(e)}function MD(t,e,r,n,i){let a=t.depth>i&&jm(t,e,i+1),s=n.depth>i&&jm(r,n,i+1),o=[];return iu(null,t,i,o),a&&s&&e.index(i)==r.index(i)?(CD(a,s),qs(Us(a,MD(t,e,r,n,i+1)),o)):(a&&qs(Us(a,Uf(t,e,i+1)),o),iu(e,r,i,o),s&&qs(Us(s,Uf(r,n,i+1)),o)),iu(n,null,i,o),new Ne(o)}function Uf(t,e,r){let n=[];if(iu(null,t,r,n),t.depth>r){let i=jm(t,e,r+1);qs(Us(i,Uf(t,e,r+1)),n)}return iu(e,null,r,n),new Ne(n)}function jR(t,e){let r=e.depth-t.openStart,i=e.node(r).copy(t.content);for(let a=r-1;a>=0;a--)i=e.node(a).copy(Ne.from(i));return{start:i.resolveNoCache(t.openStart+r),end:i.resolveNoCache(i.content.size-t.openEnd-r)}}class Eu{constructor(e,r,n){this.pos=e,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],i=e.child(r);return n?e.child(r).cut(n):i}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):e==0?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let n=this.path[r*3],i=r==0?0:this.path[r*3-1]+1;for(let a=0;a<e;a++)i+=n.child(a).nodeSize;return i}marks(){let e=this.parent,r=this.index();if(e.content.size==0)return qt.none;if(this.textOffset)return e.child(r).marks;let n=e.maybeChild(r-1),i=e.maybeChild(r);if(!n){let o=n;n=i,i=o}let a=n.marks;for(var s=0;s<a.length;s++)a[s].type.spec.inclusive===!1&&(!i||!a[s].isInSet(i.marks))&&(a=a[s--].removeFromSet(a));return a}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,i=e.parent.maybeChild(e.index());for(var a=0;a<n.length;a++)n[a].type.spec.inclusive===!1&&(!i||!n[a].isInSet(i.marks))&&(n=n[a--].removeFromSet(n));return n}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!r||r(this.node(n))))return new Hf(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let n=[],i=0,a=r;for(let s=e;;){let{index:o,offset:l}=s.content.findIndex(a),u=a-l;if(n.push(s,o,i+l),!u||(s=s.child(o),s.isText))break;a=u-1,i+=l+1}return new Eu(r,n,a)}static resolveCached(e,r){let n=v1.get(e);if(n)for(let a=0;a<n.elts.length;a++){let s=n.elts[a];if(s.pos==r)return s}else v1.set(e,n=new KR);let i=n.elts[n.i]=Eu.resolve(e,r);return n.i=(n.i+1)%JR,i}}class KR{constructor(){this.elts=[],this.i=0}}const JR=12,v1=new WeakMap;class Hf{constructor(e,r,n){this.$from=e,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const YR=Object.create(null);let Ka=class Km{constructor(e,r,n,i=qt.none){this.type=e,this.attrs=r,this.marks=i,this.content=n||Ne.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,n,i=0){this.content.nodesBetween(e,r,n,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,n,i){return this.content.textBetween(e,r,n,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,n){return this.type==e&&zf(this.attrs,r||e.defaultAttrs||YR)&&qt.sameSet(this.marks,n||qt.none)}copy(e=null){return e==this.content?this:new Km(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Km(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return e==0&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,n=!1){if(e==r)return Be.empty;let i=this.resolve(e),a=this.resolve(r),s=n?0:i.sharedDepth(r),o=i.start(s),u=i.node(s).content.cut(i.pos-o,a.pos-o);return new Be(u,i.depth-s,a.depth-s)}replace(e,r,n){return GR(this.resolve(e),this.resolve(r),n)}nodeAt(e){for(let r=this;;){let{index:n,offset:i}=r.content.findIndex(e);if(r=r.maybeChild(n),!r)return null;if(i==e||r.isText)return r;e-=i+1}}childAfter(e){let{index:r,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(r),index:r,offset:n};let i=this.content.child(r-1);return{node:i,index:r-1,offset:n-i.nodeSize}}resolve(e){return Eu.resolveCached(this,e)}resolveNoCache(e){return Eu.resolve(this,e)}rangeHasMark(e,r,n){let i=!1;return r>e&&this.nodesBetween(e,r,a=>(n.isInSet(a.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),TD(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,n=Ne.empty,i=0,a=n.childCount){let s=this.contentMatchAt(e).matchFragment(n,i,a),o=s&&s.matchFragment(this.content,r);if(!o||!o.validEnd)return!1;for(let l=i;l<a;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(e,r,n,i){if(i&&!this.type.allowsMarks(i))return!1;let a=this.contentMatchAt(e).matchType(n),s=a&&a.matchFragment(this.content,r);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=qt.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!qt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(e.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(r.text,n)}let i=Ne.fromJSON(e,r.content),a=e.nodeType(r.type).create(r.attrs,i,n);return a.type.checkAttrs(a.attrs),a}};Ka.prototype.text=void 0;class Vf extends Ka{constructor(e,r,n,i){if(super(e,r,null,i),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):TD(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Vf(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Vf(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return e==0&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function TD(t,e){for(let r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}class Ks{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let n=new XR(e,r);if(n.next==null)return Ks.empty;let i=_D(n);n.next&&n.err("Unexpected trailing text");let a=i4(n4(i));return a4(a,n),a}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,n=e.childCount){let i=this;for(let a=r;i&&a<n;a++)i=i.matchType(e.child(a).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let n=0;n<e.next.length;n++)if(this.next[r].type==e.next[n].type)return!0;return!1}fillBefore(e,r=!1,n=0){let i=[this];function a(s,o){let l=s.matchFragment(e,n);if(l&&(!r||l.validEnd))return Ne.from(o.map(u=>u.createAndFill()));for(let u=0;u<s.next.length;u++){let{type:c,next:f}=s.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let d=a(f,o.concat(c));if(d)return d}}return null}return a(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let i=n.shift(),a=i.match;if(a.matchType(e)){let s=[];for(let o=i;o.type;o=o.via)s.push(o.type);return s.reverse()}for(let s=0;s<a.next.length;s++){let{type:o,next:l}=a.next[s];!o.isLeaf&&!o.hasRequiredAttrs()&&!(o.name in r)&&(!i.type||l.validEnd)&&(n.push({match:o.contentMatch,type:o,via:i}),r[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function r(n){e.push(n);for(let i=0;i<n.next.length;i++)e.indexOf(n.next[i].next)==-1&&r(n.next[i].next)}return r(this),e.map((n,i)=>{let a=i+(n.validEnd?"*":" ")+" ";for(let s=0;s<n.next.length;s++)a+=(s?", ":"")+n.next[s].type.name+"->"+e.indexOf(n.next[s].next);return a}).join(`
`)}}Ks.empty=new Ks(!0);class XR{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function _D(t){let e=[];do e.push(ZR(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function ZR(t){let e=[];do e.push(QR(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function QR(t){let e=r4(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=e4(t,e);else break;return e}function y1(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function e4(t,e){let r=y1(t),n=r;return t.eat(",")&&(t.next!="}"?n=y1(t):n=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function t4(t,e){let r=t.nodeTypes,n=r[e];if(n)return[n];let i=[];for(let a in r){let s=r[a];s.isInGroup(e)&&i.push(s)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function r4(t){if(t.eat("(")){let e=_D(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=t4(t,t.next).map(r=>(t.inline==null?t.inline=r.isInline:t.inline!=r.isInline&&t.err("Mixing inline and block content"),{type:"name",value:r}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function n4(t){let e=[[]];return i(a(t,0),r()),e;function r(){return e.push([])-1}function n(s,o,l){let u={term:l,to:o};return e[s].push(u),u}function i(s,o){s.forEach(l=>l.to=o)}function a(s,o){if(s.type=="choice")return s.exprs.reduce((l,u)=>l.concat(a(u,o)),[]);if(s.type=="seq")for(let l=0;;l++){let u=a(s.exprs[l],o);if(l==s.exprs.length-1)return u;i(u,o=r())}else if(s.type=="star"){let l=r();return n(o,l),i(a(s.expr,l),l),[n(l)]}else if(s.type=="plus"){let l=r();return i(a(s.expr,o),l),i(a(s.expr,l),l),[n(l)]}else{if(s.type=="opt")return[n(o)].concat(a(s.expr,o));if(s.type=="range"){let l=o;for(let u=0;u<s.min;u++){let c=r();i(a(s.expr,l),c),l=c}if(s.max==-1)i(a(s.expr,l),l);else for(let u=s.min;u<s.max;u++){let c=r();n(l,c),i(a(s.expr,l),c),l=c}return[n(l)]}else{if(s.type=="name")return[n(o,void 0,s.value)];throw new Error("Unknown expr type")}}}}function OD(t,e){return e-t}function b1(t,e){let r=[];return n(e),r.sort(OD);function n(i){let a=t[i];if(a.length==1&&!a[0].term)return n(a[0].to);r.push(i);for(let s=0;s<a.length;s++){let{term:o,to:l}=a[s];!o&&r.indexOf(l)==-1&&n(l)}}}function i4(t){let e=Object.create(null);return r(b1(t,0));function r(n){let i=[];n.forEach(s=>{t[s].forEach(({term:o,to:l})=>{if(!o)return;let u;for(let c=0;c<i.length;c++)i[c][0]==o&&(u=i[c][1]);b1(t,l).forEach(c=>{u||i.push([o,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let a=e[n.join(",")]=new Ks(n.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let o=i[s][1].sort(OD);a.next.push({type:i[s][0],next:e[o.join(",")]||r(o)})}return a}}function a4(t,e){for(let r=0,n=[t];r<n.length;r++){let i=n[r],a=!i.validEnd,s=[];for(let o=0;o<i.next.length;o++){let{type:l,next:u}=i.next[o];s.push(l.name),a&&!(l.isText||l.hasRequiredAttrs())&&(a=!1),n.indexOf(u)==-1&&n.push(u)}a&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function FD(t){let e=Object.create(null);for(let r in t){let n=t[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function BD(t,e){let r=Object.create(null);for(let n in t){let i=e&&e[n];if(i===void 0){let a=t[n];if(a.hasDefault)i=a.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=i}return r}function kD(t,e,r,n){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${r} of type ${i}`);for(let i in t){let a=t[i];a.validate&&a.validate(e[i])}}function ID(t,e){let r=Object.create(null);if(e)for(let n in e)r[n]=new o4(t,n,e[n]);return r}let x1=class RD{constructor(e,r,n){this.name=e,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=ID(e,n.attrs),this.defaultAttrs=FD(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ks.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:BD(this.attrs,e)}create(e=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ka(this,this.computeAttrs(e),Ne.from(r),qt.setFrom(n))}createChecked(e=null,r,n){return r=Ne.from(r),this.checkContent(r),new Ka(this,this.computeAttrs(e),r,qt.setFrom(n))}createAndFill(e=null,r,n){if(e=this.computeAttrs(e),r=Ne.from(r),r.size){let s=this.contentMatch.fillBefore(r);if(!s)return null;r=s.append(r)}let i=this.contentMatch.matchFragment(r),a=i&&i.fillBefore(Ne.empty,!0);return a?new Ka(this,e,r.append(a),qt.setFrom(n)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){kD(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let r;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?r&&r.push(e[n]):r||(r=e.slice(0,n));return r?r.length?r:qt.none:e}static compile(e,r){let n=Object.create(null);e.forEach((a,s)=>n[a]=new RD(a,r,s));let i=r.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let a in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function s4(t,e,r){let n=r.split("|");return i=>{let a=i===null?"null":typeof i;if(n.indexOf(a)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${t}, got ${a}`)}}class o4{constructor(e,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?s4(e,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class hp{constructor(e,r,n,i){this.name=e,this.rank=r,this.schema=n,this.spec=i,this.attrs=ID(e,i.attrs),this.excluded=null;let a=FD(this.attrs);this.instance=a?new qt(this,a):null}create(e=null){return!e&&this.instance?this.instance:new qt(this,BD(this.attrs,e))}static compile(e,r){let n=Object.create(null),i=0;return e.forEach((a,s)=>n[a]=new hp(a,i++,r,s)),n}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}checkAttrs(e){kD(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class PD{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let i in e)r[i]=e[i];r.nodes=Tr.from(e.nodes),r.marks=Tr.from(e.marks||{}),this.nodes=x1.compile(this.spec.nodes,this),this.marks=hp.compile(this.spec.marks,this);let n=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let a=this.nodes[i],s=a.spec.content||"",o=a.spec.marks;if(a.contentMatch=n[s]||(n[s]=Ks.parse(s,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!a.isInline||!a.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=a}a.markSet=o=="_"?null:o?w1(this,o.split(" ")):o==""||!a.inlineContent?[]:null}for(let i in this.marks){let a=this.marks[i],s=a.spec.excludes;a.excluded=s==null?[a]:s==""?[]:w1(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,n,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof x1){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(r,n,i)}text(e,r){let n=this.nodes.text;return new Vf(n,n.defaultAttrs,e,qt.setFrom(r))}mark(e,r){return typeof e=="string"&&(e=this.marks[e]),e.create(r)}nodeFromJSON(e){return Ka.fromJSON(this,e)}markFromJSON(e){return qt.fromJSON(this,e)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}}function w1(t,e){let r=[];for(let n=0;n<e.length;n++){let i=e[n],a=t.marks[i],s=a;if(a)r.push(a);else for(let o in t.marks){let l=t.marks[o];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&r.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}function l4(t){return t.tag!=null}function u4(t){return t.style!=null}class Ja{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(i=>{if(l4(i))this.tags.push(i);else if(u4(i)){let a=/[^=]*/.exec(i.style)[0];n.indexOf(a)<0&&n.push(a),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let a=e.nodes[i.node];return a.contentMatch.matchType(a)})}parse(e,r={}){let n=new E1(this,r,!1);return n.addAll(e,qt.none,r.from,r.to),n.finish()}parseSlice(e,r={}){let n=new E1(this,r,!0);return n.addAll(e,qt.none,r.from,r.to),Be.maxOpen(n.finish())}matchTag(e,r,n){for(let i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){let a=this.tags[i];if(d4(e,a.tag)&&(a.namespace===void 0||e.namespaceURI==a.namespace)&&(!a.context||r.matchesContext(a.context))){if(a.getAttrs){let s=a.getAttrs(e);if(s===!1)continue;a.attrs=s||void 0}return a}}}matchStyle(e,r,n,i){for(let a=i?this.styles.indexOf(i)+1:0;a<this.styles.length;a++){let s=this.styles[a],o=s.style;if(!(o.indexOf(e)!=0||s.context&&!n.matchesContext(s.context)||o.length>e.length&&(o.charCodeAt(e.length)!=61||o.slice(e.length+1)!=r))){if(s.getAttrs){let l=s.getAttrs(r);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(e){let r=[];function n(i){let a=i.priority==null?50:i.priority,s=0;for(;s<r.length;s++){let o=r[s];if((o.priority==null?50:o.priority)<a)break}r.splice(s,0,i)}for(let i in e.marks){let a=e.marks[i].spec.parseDOM;a&&a.forEach(s=>{n(s=A1(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let a=e.nodes[i].spec.parseDOM;a&&a.forEach(s=>{n(s=A1(s)),s.node||s.ignore||s.mark||(s.node=i)})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Ja(e,Ja.schemaRules(e)))}}const $D={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},c4={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},LD={ol:!0,ul:!0},Au=1,Jm=2,hf=4;function S1(t,e,r){return e!=null?(e?Au:0)|(e==="full"?Jm:0):t&&t.whitespace=="pre"?Au|Jm:r&-5}class _c{constructor(e,r,n,i,a,s){this.type=e,this.attrs=r,this.marks=n,this.solid=i,this.options=s,this.content=[],this.activeMarks=qt.none,this.match=a||(s&hf?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(Ne.from(e));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,i;return(i=n.findWrapping(e.type))?(this.match=n,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Au)){let n=this.content[this.content.length-1],i;if(n&&n.isText&&(i=/[ \t\r\n\u000c]+$/.exec(n.text))){let a=n;n.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-i[0].length))}}let r=Ne.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(Ne.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!$D.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class E1{constructor(e,r,n){this.parser=e,this.options=r,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let i=r.topNode,a,s=S1(null,r.preserveWhitespace,0)|(n?hf:0);i?a=new _c(i.type,i.attrs,qt.none,!0,r.topMatch||i.type.contentMatch,s):n?a=new _c(null,null,qt.none,!0,null,s):a=new _c(e.schema.topNodeType,null,qt.none,!0,null,s),this.nodes=[a],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,r){e.nodeType==3?this.addTextNode(e,r):e.nodeType==1&&this.addElement(e,r)}addTextNode(e,r){let n=e.nodeValue,i=this.top,a=i.options&Jm?"full":this.localPreserveWS||(i.options&Au)>0;if(a==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(a)a!=="full"?n=n.replace(/\r?\n|\r/g," "):n=n.replace(/\r\n?/g,`
`);else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let s=i.content[i.content.length-1],o=e.previousSibling;(!s||o&&o.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),r,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,r,n){let i=this.localPreserveWS,a=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let s=e.nodeName.toLowerCase(),o;LD.hasOwnProperty(s)&&this.parser.normalizeLists&&f4(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(o=this.parser.matchTag(e,this,n));e:if(l?l.ignore:c4.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e,r);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let u,c=this.needsBlock;if($D.hasOwnProperty(s))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),u=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,r);break e}let f=l&&l.skip?r:this.readStyles(e,r);f&&this.addAll(e,f),u&&this.sync(a),this.needsBlock=c}else{let u=this.readStyles(e,r);u&&this.addElementByRule(e,l,u,l.consuming===!1?o:void 0)}this.localPreserveWS=i}leafFallback(e,r){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),r)}ignoreFallback(e,r){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r,!0)}readStyles(e,r){let n=e.style;if(n&&n.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let a=this.parser.matchedStyles[i],s=n.getPropertyValue(a);if(s)for(let o=void 0;;){let l=this.parser.matchStyle(a,s,this,o);if(!l)break;if(l.ignore)return null;if(l.clearMark?r=r.filter(u=>!l.clearMark(u)):r=r.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)o=l;else break}}return r}addElementByRule(e,r,n,i){let a,s;if(r.node)if(s=this.parser.schema.nodes[r.node],s.isLeaf)this.insertNode(s.create(r.attrs),n,e.nodeName=="BR")||this.leafFallback(e,n);else{let l=this.enter(s,r.attrs||null,n,r.preserveWhitespace);l&&(a=!0,n=l)}else{let l=this.parser.schema.marks[r.mark];n=n.concat(l.create(r.attrs))}let o=this.top;if(s&&s.isLeaf)this.findInside(e);else if(i)this.addElement(e,n,i);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,n,!1));else{let l=e;typeof r.contentElement=="string"?l=e.querySelector(r.contentElement):typeof r.contentElement=="function"?l=r.contentElement(e):r.contentElement&&(l=r.contentElement),this.findAround(e,l,!0),this.addAll(l,n),this.findAround(e,l,!1)}a&&this.sync(o)&&this.open--}addAll(e,r,n,i){let a=n||0;for(let s=n?e.childNodes[n]:e.firstChild,o=i==null?null:e.childNodes[i];s!=o;s=s.nextSibling,++a)this.findAtPoint(e,a),this.addDOM(s,r);this.findAtPoint(e,a)}findPlace(e,r,n){let i,a;for(let s=this.open,o=0;s>=0;s--){let l=this.nodes[s],u=l.findWrapping(e);if(u&&(!i||i.length>u.length+o)&&(i=u,a=l,!u.length))break;if(l.solid){if(n)break;o+=2}}if(!i)return null;this.sync(a);for(let s=0;s<i.length;s++)r=this.enterInner(i[s],null,r,!1);return r}insertNode(e,r,n){if(e.isInline&&this.needsBlock&&!this.top.type){let a=this.textblockFromContext();a&&(r=this.enterInner(a,null,r))}let i=this.findPlace(e,r,n);if(i){this.closeExtra();let a=this.top;a.match&&(a.match=a.match.matchType(e.type));let s=qt.none;for(let o of i.concat(e.marks))(a.type?a.type.allowsMarkType(o.type):N1(o.type,e.type))&&(s=o.addToSet(s));return a.content.push(e.mark(s)),!0}return!1}enter(e,r,n,i){let a=this.findPlace(e.create(r),n,!1);return a&&(a=this.enterInner(e,r,n,!0,i)),a}enterInner(e,r,n,i=!1,a){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let o=S1(e,a,s.options);s.options&hf&&s.content.length==0&&(o|=hf);let l=qt.none;return n=n.filter(u=>(s.type?s.type.allowsMarkType(u.type):N1(u.type,e))?(l=u.addToSet(l),!1):!0),this.nodes.push(new _c(e,r,l,i,null,o)),this.open++,n}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let r=this.open;r>=0;r--){if(this.nodes[r]==e)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=Au)}return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let i=n.length-1;i>=0;i--)e+=n[i].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,n){if(e!=r&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&r.compareDocumentPosition(this.find[i].node)&(n?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),n=this.options.context,i=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),a=-(n?n.depth+1:0)+(i?0:1),s=(o,l)=>{for(;o>=0;o--){let u=r[o];if(u==""){if(o==r.length-1||o==0)continue;for(;l>=a;l--)if(s(o-1,l))return!0;return!1}else{let c=l>0||l==0&&i?this.nodes[l].type:n&&l>=a?n.node(l-a).type:null;if(!c||c.name!=u&&!c.isInGroup(u))return!1;l--}}return!0};return s(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let n=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}}function f4(t){for(let e=t.firstChild,r=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&LD.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):n=="li"?r=e:n&&(r=null)}}function d4(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function A1(t){let e={};for(let r in t)e[r]=t[r];return e}function N1(t,e){let r=e.schema.nodes;for(let n in r){let i=r[n];if(!i.allowsMarkType(t))continue;let a=[],s=o=>{a.push(o);for(let l=0;l<o.edgeCount;l++){let{type:u,next:c}=o.edge(l);if(u==e||a.indexOf(c)<0&&s(c))return!0}};if(s(i.contentMatch))return!0}}class ao{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},n){n||(n=Ih(r).createDocumentFragment());let i=n,a=[];return e.forEach(s=>{if(a.length||s.marks.length){let o=0,l=0;for(;o<a.length&&l<s.marks.length;){let u=s.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(a[o][0])||u.type.spec.spanning===!1)break;o++,l++}for(;o<a.length;)i=a.pop()[1];for(;l<s.marks.length;){let u=s.marks[l++],c=this.serializeMark(u,s.isInline,r);c&&(a.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(s,r))}),n}serializeNodeInner(e,r){let{dom:n,contentDOM:i}=mf(Ih(r),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,i)}return n}serializeNode(e,r={}){let n=this.serializeNodeInner(e,r);for(let i=e.marks.length-1;i>=0;i--){let a=this.serializeMark(e.marks[i],e.isInline,r);a&&((a.contentDOM||a.dom).appendChild(n),n=a.dom)}return n}serializeMark(e,r,n={}){let i=this.marks[e.type.name];return i&&mf(Ih(n),i(e,r),null,e.attrs)}static renderSpec(e,r,n=null,i){return mf(e,r,n,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ao(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=D1(e.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(e){return D1(e.marks)}}function D1(t){let e={};for(let r in t){let n=t[r].spec.toDOM;n&&(e[r]=n)}return e}function Ih(t){return t.document||window.document}const C1=new WeakMap;function p4(t){let e=C1.get(t);return e===void 0&&C1.set(t,e=h4(t)),e}function h4(t){let e=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let i=0;i<n.length;i++)r(n[i]);else for(let i in n)r(n[i])}return r(t),e}function mf(t,e,r,n){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],a;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(a=p4(n))&&a.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=i.indexOf(" ");s>0&&(r=i.slice(0,s),i=i.slice(s+1));let o,l=r?t.createElementNS(r,i):t.createElement(i),u=e[1],c=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){c=2;for(let f in u)if(u[f]!=null){let d=f.indexOf(" ");d>0?l.setAttributeNS(f.slice(0,d),f.slice(d+1),u[f]):l.setAttribute(f,u[f])}}for(let f=c;f<e.length;f++){let d=e[f];if(d===0){if(f<e.length-1||f>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:p,contentDOM:h}=mf(t,d,r,n);if(l.appendChild(p),h){if(o)throw new RangeError("Multiple content holes");o=h}}}return{dom:l,contentDOM:o}}const zD=65535,qD=Math.pow(2,16);function m4(t,e){return t+e*qD}function M1(t){return t&zD}function g4(t){return(t-(t&zD))/qD}const UD=1,HD=2,gf=4,VD=8;class Ym{constructor(e,r,n){this.pos=e,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&VD)>0}get deletedBefore(){return(this.delInfo&(UD|gf))>0}get deletedAfter(){return(this.delInfo&(HD|gf))>0}get deletedAcross(){return(this.delInfo&gf)>0}}class Tn{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&Tn.empty)return Tn.empty}recover(e){let r=0,n=M1(e);if(!this.inverted)for(let i=0;i<n;i++)r+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[n*3]+r+g4(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,n){let i=0,a=this.inverted?2:1,s=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let l=this.ranges[o]-(this.inverted?i:0);if(l>e)break;let u=this.ranges[o+a],c=this.ranges[o+s],f=l+u;if(e<=f){let d=u?e==l?-1:e==f?1:r:r,p=l+i+(d<0?0:c);if(n)return p;let h=e==(r<0?l:f)?null:m4(o/3,e-l),m=e==l?HD:e==f?UD:gf;return(r<0?e!=l:e!=f)&&(m|=VD),new Ym(p,m,h)}i+=c-u}return n?e+i:new Ym(e+i,0,null)}touches(e,r){let n=0,i=M1(r),a=this.inverted?2:1,s=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let l=this.ranges[o]-(this.inverted?n:0);if(l>e)break;let u=this.ranges[o+a],c=l+u;if(e<=c&&o==i*3)return!0;n+=this.ranges[o+s]-u}return!1}forEach(e){let r=this.inverted?2:1,n=this.inverted?1:2;for(let i=0,a=0;i<this.ranges.length;i+=3){let s=this.ranges[i],o=s-(this.inverted?a:0),l=s+(this.inverted?0:a),u=this.ranges[i+r],c=this.ranges[i+n];e(o,o+u,l,l+c),a+=c-u}}invert(){return new Tn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Tn.empty:new Tn(e<0?[0,-e,0]:[0,0,e])}}Tn.empty=new Tn([]);class Nu{constructor(e,r,n=0,i=e?e.length:0){this.mirror=r,this.from=n,this.to=i,this._maps=e||[],this.ownData=!(e||r)}get maps(){return this._maps}slice(e=0,r=this.maps.length){return new Nu(this._maps,this.mirror,e,r)}appendMap(e,r){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),r!=null&&this.setMirror(this._maps.length-1,r)}appendMapping(e){for(let r=0,n=this._maps.length;r<e._maps.length;r++){let i=e.getMirror(r);this.appendMap(e._maps[r],i!=null&&i<r?n+i:void 0)}}getMirror(e){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,n=this._maps.length+e._maps.length;r>=0;r--){let i=e.getMirror(r);this.appendMap(e._maps[r].invert(),i!=null&&i>r?n-i-1:void 0)}}invert(){let e=new Nu;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,n){let i=0;for(let a=this.from;a<this.to;a++){let s=this._maps[a],o=s.mapResult(e,r);if(o.recover!=null){let l=this.getMirror(a);if(l!=null&&l>a&&l<this.to){a=l,e=this._maps[l].recover(o.recover);continue}}i|=o.delInfo,e=o.pos}return n?e:new Ym(e,i,null)}}const Rh=Object.create(null);class Xr{getMap(){return Tn.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=Rh[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in Rh)throw new RangeError("Duplicate use of step JSON ID "+e);return Rh[e]=r,r.prototype.jsonID=e,r}}class ur{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new ur(e,null)}static fail(e){return new ur(null,e)}static fromReplace(e,r,n,i){try{return ur.ok(e.replace(r,n,i))}catch(a){if(a instanceof qf)return ur.fail(a.message);throw a}}}function gv(t,e,r){let n=[];for(let i=0;i<t.childCount;i++){let a=t.child(i);a.content.size&&(a=a.copy(gv(a.content,e,a))),a.isInline&&(a=e(a,r,i)),n.push(a)}return Ne.fromArray(n)}class Ua extends Xr{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=e.resolve(this.from),i=n.node(n.sharedDepth(this.to)),a=new Be(gv(r.content,(s,o)=>!s.isAtom||!o.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),r.openStart,r.openEnd);return ur.fromReplace(e,this.from,this.to,a)}invert(){return new Fi(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Ua(r.pos,n.pos,this.mark)}merge(e){return e instanceof Ua&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ua(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ua(r.from,r.to,e.markFromJSON(r.mark))}}Xr.jsonID("addMark",Ua);class Fi extends Xr{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=new Be(gv(r.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),r.openStart,r.openEnd);return ur.fromReplace(e,this.from,this.to,n)}invert(){return new Ua(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Fi(r.pos,n.pos,this.mark)}merge(e){return e instanceof Fi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Fi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Fi(r.from,r.to,e.markFromJSON(r.mark))}}Xr.jsonID("removeMark",Fi);class Ha extends Xr{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return ur.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return ur.fromReplace(e,this.pos,this.pos+1,new Be(Ne.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let i=0;i<r.marks.length;i++)if(!r.marks[i].isInSet(n))return new Ha(this.pos,r.marks[i]);return new Ha(this.pos,this.mark)}}return new Js(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Ha(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ha(r.pos,e.markFromJSON(r.mark))}}Xr.jsonID("addNodeMark",Ha);class Js extends Xr{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return ur.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return ur.fromReplace(e,this.pos,this.pos+1,new Be(Ne.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new Ha(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Js(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Js(r.pos,e.markFromJSON(r.mark))}}Xr.jsonID("removeNodeMark",Js);class xr extends Xr{constructor(e,r,n,i=!1){super(),this.from=e,this.to=r,this.slice=n,this.structure=i}apply(e){return this.structure&&Xm(e,this.from,this.to)?ur.fail("Structure replace would overwrite content"):ur.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Tn([this.from,this.to-this.from,this.slice.size])}invert(e){return new xr(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new xr(r.pos,Math.max(r.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof xr)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let r=this.slice.size+e.slice.size==0?Be.empty:new Be(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new xr(this.from,this.to+(e.to-e.from),r,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let r=this.slice.size+e.slice.size==0?Be.empty:new Be(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new xr(e.from,this.to,r,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new xr(r.from,r.to,Be.fromJSON(e,r.slice),!!r.structure)}}Xr.jsonID("replace",xr);class Er extends Xr{constructor(e,r,n,i,a,s,o=!1){super(),this.from=e,this.to=r,this.gapFrom=n,this.gapTo=i,this.slice=a,this.insert=s,this.structure=o}apply(e){if(this.structure&&(Xm(e,this.from,this.gapFrom)||Xm(e,this.gapTo,this.to)))return ur.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return ur.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?ur.fromReplace(e,this.from,this.to,n):ur.fail("Content does not fit in gap")}getMap(){return new Tn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new Er(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),i=this.from==this.gapFrom?r.pos:e.map(this.gapFrom,-1),a=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||i<r.pos||a>n.pos?null:new Er(r.pos,n.pos,i,a,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Er(r.from,r.to,r.gapFrom,r.gapTo,Be.fromJSON(e,r.slice),r.insert,!!r.structure)}}Xr.jsonID("replaceAround",Er);function Xm(t,e,r){let n=t.resolve(e),i=r-e,a=n.depth;for(;i>0&&a>0&&n.indexAfter(a)==n.node(a).childCount;)a--,i--;if(i>0){let s=n.node(a).maybeChild(n.indexAfter(a));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function v4(t,e,r,n){let i=[],a=[],s,o;t.doc.nodesBetween(e,r,(l,u,c)=>{if(!l.isInline)return;let f=l.marks;if(!n.isInSet(f)&&c.type.allowsMarkType(n.type)){let d=Math.max(u,e),p=Math.min(u+l.nodeSize,r),h=n.addToSet(f);for(let m=0;m<f.length;m++)f[m].isInSet(h)||(s&&s.to==d&&s.mark.eq(f[m])?s.to=p:i.push(s=new Fi(d,p,f[m])));o&&o.to==d?o.to=p:a.push(o=new Ua(d,p,n))}}),i.forEach(l=>t.step(l)),a.forEach(l=>t.step(l))}function y4(t,e,r,n){let i=[],a=0;t.doc.nodesBetween(e,r,(s,o)=>{if(!s.isInline)return;a++;let l=null;if(n instanceof hp){let u=s.marks,c;for(;c=n.isInSet(u);)(l||(l=[])).push(c),u=c.removeFromSet(u)}else n?n.isInSet(s.marks)&&(l=[n]):l=s.marks;if(l&&l.length){let u=Math.min(o+s.nodeSize,r);for(let c=0;c<l.length;c++){let f=l[c],d;for(let p=0;p<i.length;p++){let h=i[p];h.step==a-1&&f.eq(i[p].style)&&(d=h)}d?(d.to=u,d.step=a):i.push({style:f,from:Math.max(o,e),to:u,step:a})}}}),i.forEach(s=>t.step(new Fi(s.from,s.to,s.style)))}function vv(t,e,r,n=r.contentMatch,i=!0){let a=t.doc.nodeAt(e),s=[],o=e+1;for(let l=0;l<a.childCount;l++){let u=a.child(l),c=o+u.nodeSize,f=n.matchType(u.type);if(!f)s.push(new xr(o,c,Be.empty));else{n=f;for(let d=0;d<u.marks.length;d++)r.allowsMarkType(u.marks[d].type)||t.step(new Fi(o,c,u.marks[d]));if(i&&u.isText&&r.whitespace!="pre"){let d,p=/\r?\n|\r/g,h;for(;d=p.exec(u.text);)h||(h=new Be(Ne.from(r.schema.text(" ",r.allowedMarks(u.marks))),0,0)),s.push(new xr(o+d.index,o+d.index+d[0].length,h))}}o=c}if(!n.validEnd){let l=n.fillBefore(Ne.empty,!0);t.replace(o,o,new Be(l,0,0))}for(let l=s.length-1;l>=0;l--)t.step(s[l])}function b4(t,e,r){return(e==0||t.canReplace(e,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}function dl(t){let r=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth;;--n){let i=t.$from.node(n),a=t.$from.index(n),s=t.$to.indexAfter(n);if(n<t.depth&&i.canReplace(a,s,r))return n;if(n==0||i.type.spec.isolating||!b4(i,a,s))break}return null}function x4(t,e,r){let{$from:n,$to:i,depth:a}=e,s=n.before(a+1),o=i.after(a+1),l=s,u=o,c=Ne.empty,f=0;for(let h=a,m=!1;h>r;h--)m||n.index(h)>0?(m=!0,c=Ne.from(n.node(h).copy(c)),f++):l--;let d=Ne.empty,p=0;for(let h=a,m=!1;h>r;h--)m||i.after(h+1)<i.end(h)?(m=!0,d=Ne.from(i.node(h).copy(d)),p++):u++;t.step(new Er(l,u,s,o,new Be(c.append(d),f,p),c.size-f,!0))}function yv(t,e,r=null,n=t){let i=w4(t,e),a=i&&S4(n,e);return a?i.map(T1).concat({type:e,attrs:r}).concat(a.map(T1)):null}function T1(t){return{type:t,attrs:null}}function w4(t,e){let{parent:r,startIndex:n,endIndex:i}=t,a=r.contentMatchAt(n).findWrapping(e);if(!a)return null;let s=a.length?a[0]:e;return r.canReplaceWith(n,i,s)?a:null}function S4(t,e){let{parent:r,startIndex:n,endIndex:i}=t,a=r.child(n),s=e.contentMatch.findWrapping(a.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let u=n;l&&u<i;u++)l=l.matchType(r.child(u).type);return!l||!l.validEnd?null:s}function E4(t,e,r){let n=Ne.empty;for(let s=r.length-1;s>=0;s--){if(n.size){let o=r[s].type.contentMatch.matchFragment(n);if(!o||!o.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=Ne.from(r[s].type.create(r[s].attrs,n))}let i=e.start,a=e.end;t.step(new Er(i,a,i,a,new Be(n,0,0),r.length,!0))}function A4(t,e,r,n,i){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=t.steps.length;t.doc.nodesBetween(e,r,(s,o)=>{let l=typeof i=="function"?i(s):i;if(s.isTextblock&&!s.hasMarkup(n,l)&&N4(t.doc,t.mapping.slice(a).map(o),n)){let u=null;if(n.schema.linebreakReplacement){let p=n.whitespace=="pre",h=!!n.contentMatch.matchType(n.schema.linebreakReplacement);p&&!h?u=!1:!p&&h&&(u=!0)}u===!1&&GD(t,s,o,a),vv(t,t.mapping.slice(a).map(o,1),n,void 0,u===null);let c=t.mapping.slice(a),f=c.map(o,1),d=c.map(o+s.nodeSize,1);return t.step(new Er(f,d,f+1,d-1,new Be(Ne.from(n.create(l,null,s.marks)),0,0),1,!0)),u===!0&&WD(t,s,o,a),!1}})}function WD(t,e,r,n){e.forEach((i,a)=>{if(i.isText){let s,o=/\r?\n|\r/g;for(;s=o.exec(i.text);){let l=t.mapping.slice(n).map(r+1+a+s.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function GD(t,e,r,n){e.forEach((i,a)=>{if(i.type==i.type.schema.linebreakReplacement){let s=t.mapping.slice(n).map(r+1+a);t.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function N4(t,e,r){let n=t.resolve(e),i=n.index();return n.parent.canReplaceWith(i,i+1,r)}function D4(t,e,r,n,i){let a=t.doc.nodeAt(e);if(!a)throw new RangeError("No node at given position");r||(r=a.type);let s=r.create(n,null,i||a.marks);if(a.isLeaf)return t.replaceWith(e,e+a.nodeSize,s);if(!r.validContent(a.content))throw new RangeError("Invalid content for node type "+r.name);t.step(new Er(e,e+a.nodeSize,e+1,e+a.nodeSize-1,new Be(Ne.from(s),0,0),1,!0))}function da(t,e,r=1,n){let i=t.resolve(e),a=i.depth-r,s=n&&n[n.length-1]||i.parent;if(a<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=r-2;u>a;u--,c--){let f=i.node(u),d=i.index(u);if(f.type.spec.isolating)return!1;let p=f.content.cutByIndex(d,f.childCount),h=n&&n[c+1];h&&(p=p.replaceChild(0,h.type.create(h.attrs)));let m=n&&n[c]||f;if(!f.canReplace(d+1,f.childCount)||!m.type.validContent(p))return!1}let o=i.indexAfter(a),l=n&&n[0];return i.node(a).canReplaceWith(o,o,l?l.type:i.node(a+1).type)}function C4(t,e,r=1,n){let i=t.doc.resolve(e),a=Ne.empty,s=Ne.empty;for(let o=i.depth,l=i.depth-r,u=r-1;o>l;o--,u--){a=Ne.from(i.node(o).copy(a));let c=n&&n[u];s=Ne.from(c?c.type.create(c.attrs,s):i.node(o).copy(s))}t.step(new xr(e,e,new Be(a.append(s),r,r),!0))}function ls(t,e){let r=t.resolve(e),n=r.index();return jD(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function M4(t,e){e.content.size||t.type.compatibleContent(e.type);let r=t.contentMatchAt(t.childCount),{linebreakReplacement:n}=t.type.schema;for(let i=0;i<e.childCount;i++){let a=e.child(i),s=a.type==n?t.type.schema.nodes.text:a.type;if(r=r.matchType(s),!r||!t.type.allowsMarks(a.marks))return!1}return r.validEnd}function jD(t,e){return!!(t&&e&&!t.isLeaf&&M4(t,e))}function mp(t,e,r=-1){let n=t.resolve(e);for(let i=n.depth;;i--){let a,s,o=n.index(i);if(i==n.depth?(a=n.nodeBefore,s=n.nodeAfter):r>0?(a=n.node(i+1),o++,s=n.node(i).maybeChild(o)):(a=n.node(i).maybeChild(o-1),s=n.node(i+1)),a&&!a.isTextblock&&jD(a,s)&&n.node(i).canReplace(o,o+1))return e;if(i==0)break;e=r<0?n.before(i):n.after(i)}}function T4(t,e,r){let n=null,{linebreakReplacement:i}=t.doc.type.schema,a=t.doc.resolve(e-r),s=a.node().type;if(i&&s.inlineContent){let c=s.whitespace=="pre",f=!!s.contentMatch.matchType(i);c&&!f?n=!1:!c&&f&&(n=!0)}let o=t.steps.length;if(n===!1){let c=t.doc.resolve(e+r);GD(t,c.node(),c.before(),o)}s.inlineContent&&vv(t,e+r-1,s,a.node().contentMatchAt(a.index()),n==null);let l=t.mapping.slice(o),u=l.map(e-r);if(t.step(new xr(u,l.map(e+r,-1),Be.empty,!0)),n===!0){let c=t.doc.resolve(u);WD(t,c.node(),c.before(),t.steps.length)}return t}function _4(t,e,r){let n=t.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(n.parentOffset==0)for(let i=n.depth-1;i>=0;i--){let a=n.index(i);if(n.node(i).canReplaceWith(a,a,r))return n.before(i+1);if(a>0)return null}if(n.parentOffset==n.parent.content.size)for(let i=n.depth-1;i>=0;i--){let a=n.indexAfter(i);if(n.node(i).canReplaceWith(a,a,r))return n.after(i+1);if(a<n.node(i).childCount)return null}return null}function KD(t,e,r){let n=t.resolve(e);if(!r.content.size)return e;let i=r.content;for(let a=0;a<r.openStart;a++)i=i.firstChild.content;for(let a=1;a<=(r.openStart==0&&r.size?2:1);a++)for(let s=n.depth;s>=0;s--){let o=s==n.depth?0:n.pos<=(n.start(s+1)+n.end(s+1))/2?-1:1,l=n.index(s)+(o>0?1:0),u=n.node(s),c=!1;if(a==1)c=u.canReplace(l,l,i);else{let f=u.contentMatchAt(l).findWrapping(i.firstChild.type);c=f&&u.canReplaceWith(l,l,f[0])}if(c)return o==0?n.pos:o<0?n.before(s+1):n.after(s+1)}return null}function gp(t,e,r=e,n=Be.empty){if(e==r&&!n.size)return null;let i=t.resolve(e),a=t.resolve(r);return JD(i,a,n)?new xr(e,r,n):new O4(i,a,n).fit()}function JD(t,e,r){return!r.openStart&&!r.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),r.content)}class O4{constructor(e,r,n){this.$from=e,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=Ne.empty;for(let i=0;i<=e.depth;i++){let a=e.node(i);this.frontier.push({type:a.type,match:a.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=Ne.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(e<0?this.$to:n.doc.resolve(e));if(!i)return null;let a=this.placed,s=n.depth,o=i.depth;for(;s&&o&&a.childCount==1;)a=a.firstChild.content,s--,o--;let l=new Be(a,s,o);return e>-1?new Er(n.pos,e,this.$to.pos,this.$to.end(),l,r):l.size||n.pos!=this.$to.pos?new xr(n.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,i=this.unplaced.openEnd;n<e;n++){let a=r.firstChild;if(r.childCount>1&&(i=0),a.type.spec.isolating&&i<=n){e=n;break}r=a.content}for(let r=1;r<=2;r++)for(let n=r==1?e:this.unplaced.openStart;n>=0;n--){let i,a=null;n?(a=Ph(this.unplaced.content,n-1).firstChild,i=a.content):i=this.unplaced.content;let s=i.firstChild;for(let o=this.depth;o>=0;o--){let{type:l,match:u}=this.frontier[o],c,f=null;if(r==1&&(s?u.matchType(s.type)||(f=u.fillBefore(Ne.from(s),!1)):a&&l.compatibleContent(a.type)))return{sliceDepth:n,frontierDepth:o,parent:a,inject:f};if(r==2&&s&&(c=u.findWrapping(s.type)))return{sliceDepth:n,frontierDepth:o,parent:a,wrap:c};if(a&&u.matchType(a.type))break}}}openMore(){let{content:e,openStart:r,openEnd:n}=this.unplaced,i=Ph(e,r);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Be(e,r+1,Math.max(n,i.size+r>=e.size-n?r+1:0)),!0)}dropNode(){let{content:e,openStart:r,openEnd:n}=this.unplaced,i=Ph(e,r);if(i.childCount<=1&&r>0){let a=e.size-r<=r+i.size;this.unplaced=new Be(Ul(e,r-1,1),r-1,a?r-1:n)}else this.unplaced=new Be(Ul(e,r,1),r,n)}placeNodes({sliceDepth:e,frontierDepth:r,parent:n,inject:i,wrap:a}){for(;this.depth>r;)this.closeFrontierNode();if(a)for(let m=0;m<a.length;m++)this.openFrontierNode(a[m]);let s=this.unplaced,o=n?n.content:s.content,l=s.openStart-e,u=0,c=[],{match:f,type:d}=this.frontier[r];if(i){for(let m=0;m<i.childCount;m++)c.push(i.child(m));f=f.matchFragment(i)}let p=o.size+e-(s.content.size-s.openEnd);for(;u<o.childCount;){let m=o.child(u),v=f.matchType(m.type);if(!v)break;u++,(u>1||l==0||m.content.size)&&(f=v,c.push(YD(m.mark(d.allowedMarks(m.marks)),u==1?l:0,u==o.childCount?p:-1)))}let h=u==o.childCount;h||(p=-1),this.placed=Hl(this.placed,r,Ne.from(c)),this.frontier[r].match=f,h&&p<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,v=o;m<p;m++){let y=v.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),v=y.content}this.unplaced=h?e==0?Be.empty:new Be(Ul(s.content,e-1,1),e-1,p<0?s.openEnd:e-1):new Be(Ul(s.content,e,u),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],r;if(!e.type.isTextblock||!$h(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,i=this.$to.after(n);for(;n>1&&i==this.$to.end(--n);)++i;return i}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:n,type:i}=this.frontier[r],a=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),s=$h(e,r,i,n,a);if(s){for(let o=r-1;o>=0;o--){let{match:l,type:u}=this.frontier[o],c=$h(e,o,u,l,!0);if(!c||c.childCount)continue e}return{depth:r,fit:s,move:a?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=Hl(this.placed,r.depth,r.fit)),e=r.move;for(let n=r.depth+1;n<=e.depth;n++){let i=e.node(n),a=i.type.contentMatch.fillBefore(i.content,!0,e.index(n));this.openFrontierNode(i.type,i.attrs,a)}return e}openFrontierNode(e,r=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Hl(this.placed,this.depth,Ne.from(e.create(r,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(Ne.empty,!0);r.childCount&&(this.placed=Hl(this.placed,this.frontier.length,r))}}function Ul(t,e,r){return e==0?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(Ul(t.firstChild.content,e-1,r)))}function Hl(t,e,r){return e==0?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(Hl(t.lastChild.content,e-1,r)))}function Ph(t,e){for(let r=0;r<e;r++)t=t.firstChild.content;return t}function YD(t,e,r){if(e<=0)return t;let n=t.content;return e>1&&(n=n.replaceChild(0,YD(n.firstChild,e-1,n.childCount==1?r-1:0))),e>0&&(n=t.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(t.type.contentMatch.matchFragment(n).fillBefore(Ne.empty,!0)))),t.copy(n)}function $h(t,e,r,n,i){let a=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==a.childCount&&!r.compatibleContent(a.type))return null;let o=n.fillBefore(a.content,!0,s);return o&&!F4(r,a.content,s)?o:null}function F4(t,e,r){for(let n=r;n<e.childCount;n++)if(!t.allowsMarks(e.child(n).marks))return!0;return!1}function B4(t){return t.spec.defining||t.spec.definingForContent}function k4(t,e,r,n){if(!n.size)return t.deleteRange(e,r);let i=t.doc.resolve(e),a=t.doc.resolve(r);if(JD(i,a,n))return t.step(new xr(e,r,n));let s=ZD(i,t.doc.resolve(r));s[s.length-1]==0&&s.pop();let o=-(i.depth+1);s.unshift(o);for(let d=i.depth,p=i.pos-1;d>0;d--,p--){let h=i.node(d).type.spec;if(h.defining||h.definingAsContext||h.isolating)break;s.indexOf(d)>-1?o=d:i.before(d)==p&&s.splice(1,0,-d)}let l=s.indexOf(o),u=[],c=n.openStart;for(let d=n.content,p=0;;p++){let h=d.firstChild;if(u.push(h),p==n.openStart)break;d=h.content}for(let d=c-1;d>=0;d--){let p=u[d],h=B4(p.type);if(h&&!p.sameMarkup(i.node(Math.abs(o)-1)))c=d;else if(h||!p.type.isTextblock)break}for(let d=n.openStart;d>=0;d--){let p=(d+c+1)%(n.openStart+1),h=u[p];if(h)for(let m=0;m<s.length;m++){let v=s[(m+l)%s.length],y=!0;v<0&&(y=!1,v=-v);let S=i.node(v-1),g=i.index(v-1);if(S.canReplaceWith(g,g,h.type,h.marks))return t.replace(i.before(v),y?a.after(v):r,new Be(XD(n.content,0,n.openStart,p),p,n.openEnd))}}let f=t.steps.length;for(let d=s.length-1;d>=0&&(t.replace(e,r,n),!(t.steps.length>f));d--){let p=s[d];p<0||(e=i.before(p),r=a.after(p))}}function XD(t,e,r,n,i){if(e<r){let a=t.firstChild;t=t.replaceChild(0,a.copy(XD(a.content,e+1,r,n,a)))}if(e>n){let a=i.contentMatchAt(0),s=a.fillBefore(t).append(t);t=s.append(a.matchFragment(s).fillBefore(Ne.empty,!0))}return t}function I4(t,e,r,n){if(!n.isInline&&e==r&&t.doc.resolve(e).parent.content.size){let i=_4(t.doc,e,n.type);i!=null&&(e=r=i)}t.replaceRange(e,r,new Be(Ne.from(n),0,0))}function R4(t,e,r){let n=t.doc.resolve(e),i=t.doc.resolve(r),a=ZD(n,i);for(let s=0;s<a.length;s++){let o=a[s],l=s==a.length-1;if(l&&o==0||n.node(o).type.contentMatch.validEnd)return t.delete(n.start(o),i.end(o));if(o>0&&(l||n.node(o-1).canReplace(n.index(o-1),i.indexAfter(o-1))))return t.delete(n.before(o),i.after(o))}for(let s=1;s<=n.depth&&s<=i.depth;s++)if(e-n.start(s)==n.depth-s&&r>n.end(s)&&i.end(s)-r!=i.depth-s&&n.start(s-1)==i.start(s-1)&&n.node(s-1).canReplace(n.index(s-1),i.index(s-1)))return t.delete(n.before(s),r);t.delete(e,r)}function ZD(t,e){let r=[],n=Math.min(t.depth,e.depth);for(let i=n;i>=0;i--){let a=t.start(i);if(a<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(a==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==a-1)&&r.push(i)}return r}class Uo extends Xr{constructor(e,r,n){super(),this.pos=e,this.attr=r,this.value=n}apply(e){let r=e.nodeAt(this.pos);if(!r)return ur.fail("No node at attribute step's position");let n=Object.create(null);for(let a in r.attrs)n[a]=r.attrs[a];n[this.attr]=this.value;let i=r.type.create(n,null,r.marks);return ur.fromReplace(e,this.pos,this.pos+1,new Be(Ne.from(i),0,r.isLeaf?0:1))}getMap(){return Tn.empty}invert(e){return new Uo(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Uo(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Uo(r.pos,r.attr,r.value)}}Xr.jsonID("attr",Uo);class Du extends Xr{constructor(e,r){super(),this.attr=e,this.value=r}apply(e){let r=Object.create(null);for(let i in e.attrs)r[i]=e.attrs[i];r[this.attr]=this.value;let n=e.type.create(r,e.content,e.marks);return ur.ok(n)}getMap(){return Tn.empty}invert(e){return new Du(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Du(r.attr,r.value)}}Xr.jsonID("docAttr",Du);let Xo=class extends Error{};Xo=function t(e){let r=Error.call(this,e);return r.__proto__=t.prototype,r};Xo.prototype=Object.create(Error.prototype);Xo.prototype.constructor=Xo;Xo.prototype.name="TransformError";class QD{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Nu}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new Xo(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,n=Be.empty){let i=gp(this.doc,e,r,n);return i&&this.step(i),this}replaceWith(e,r,n){return this.replace(e,r,new Be(Ne.from(n),0,0))}delete(e,r){return this.replace(e,r,Be.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,n){return k4(this,e,r,n),this}replaceRangeWith(e,r,n){return I4(this,e,r,n),this}deleteRange(e,r){return R4(this,e,r),this}lift(e,r){return x4(this,e,r),this}join(e,r=1){return T4(this,e,r),this}wrap(e,r){return E4(this,e,r),this}setBlockType(e,r=e,n,i=null){return A4(this,e,r,n,i),this}setNodeMarkup(e,r,n=null,i){return D4(this,e,r,n,i),this}setNodeAttribute(e,r,n){return this.step(new Uo(e,r,n)),this}setDocAttribute(e,r){return this.step(new Du(e,r)),this}addNodeMark(e,r){return this.step(new Ha(e,r)),this}removeNodeMark(e,r){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(r instanceof qt)r.isInSet(n.marks)&&this.step(new Js(e,r));else{let i=n.marks,a,s=[];for(;a=r.isInSet(i);)s.push(new Js(e,a)),i=a.removeFromSet(i);for(let o=s.length-1;o>=0;o--)this.step(s[o])}return this}split(e,r=1,n){return C4(this,e,r,n),this}addMark(e,r,n){return v4(this,e,r,n),this}removeMark(e,r,n){return y4(this,e,r,n),this}clearIncompatible(e,r,n){return vv(this,e,r,n),this}}const Lh=Object.create(null);class vt{constructor(e,r,n){this.$anchor=e,this.$head=r,this.ranges=n||[new P4(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=Be.empty){let n=r.content.lastChild,i=null;for(let o=0;o<r.openEnd;o++)i=n,n=n.lastChild;let a=e.steps.length,s=this.ranges;for(let o=0;o<s.length;o++){let{$from:l,$to:u}=s[o],c=e.mapping.slice(a);e.replaceRange(c.map(l.pos),c.map(u.pos),o?Be.empty:r),o==0&&F1(e,a,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,r){let n=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){let{$from:s,$to:o}=i[a],l=e.mapping.slice(n),u=l.map(s.pos),c=l.map(o.pos);a?e.deleteRange(u,c):(e.replaceRangeWith(u,c,r),F1(e,n,r.isInline?-1:1))}}static findFrom(e,r,n=!1){let i=e.parent.inlineContent?new ot(e):Mo(e.node(0),e.parent,e.pos,e.index(),r,n);if(i)return i;for(let a=e.depth-1;a>=0;a--){let s=r<0?Mo(e.node(0),e.node(a),e.before(a+1),e.index(a),r,n):Mo(e.node(0),e.node(a),e.after(a+1),e.index(a)+1,r,n);if(s)return s}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new Fn(e.node(0))}static atStart(e){return Mo(e,e,0,0,1)||new Fn(e)}static atEnd(e){return Mo(e,e,e.content.size,e.childCount,-1)||new Fn(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=Lh[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in Lh)throw new RangeError("Duplicate use of selection JSON ID "+e);return Lh[e]=r,r.prototype.jsonID=e,r}getBookmark(){return ot.between(this.$anchor,this.$head).getBookmark()}}vt.prototype.visible=!0;class P4{constructor(e,r){this.$from=e,this.$to=r}}let _1=!1;function O1(t){!_1&&!t.parent.inlineContent&&(_1=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class ot extends vt{constructor(e,r=e){O1(e),O1(r),super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let n=e.resolve(r.map(this.head));if(!n.parent.inlineContent)return vt.near(n);let i=e.resolve(r.map(this.anchor));return new ot(i.parent.inlineContent?i:n,n)}replace(e,r=Be.empty){if(super.replace(e,r),r==Be.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof ot&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new vp(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ot(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){let i=e.resolve(r);return new this(i,n==r?i:e.resolve(n))}static between(e,r,n){let i=e.pos-r.pos;if((!n||i)&&(n=i>=0?1:-1),!r.parent.inlineContent){let a=vt.findFrom(r,n,!0)||vt.findFrom(r,-n,!0);if(a)r=a.$head;else return vt.near(r,n)}return e.parent.inlineContent||(i==0?e=r:(e=(vt.findFrom(e,-n,!0)||vt.findFrom(e,n,!0)).$anchor,e.pos<r.pos!=i<0&&(e=r))),new ot(e,r)}}vt.jsonID("text",ot);class vp{constructor(e,r){this.anchor=e,this.head=r}map(e){return new vp(e.map(this.anchor),e.map(this.head))}resolve(e){return ot.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ke extends vt{constructor(e){let r=e.nodeAfter,n=e.node(0).resolve(e.pos+r.nodeSize);super(e,n),this.node=r}map(e,r){let{deleted:n,pos:i}=r.mapResult(this.anchor),a=e.resolve(i);return n?vt.near(a):new Ke(a)}content(){return new Be(Ne.from(this.node),0,0)}eq(e){return e instanceof Ke&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new bv(this.anchor)}static fromJSON(e,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ke(e.resolve(r.anchor))}static create(e,r){return new Ke(e.resolve(r))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ke.prototype.visible=!1;vt.jsonID("node",Ke);class bv{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:n}=e.mapResult(this.anchor);return r?new vp(n,n):new bv(n)}resolve(e){let r=e.resolve(this.anchor),n=r.nodeAfter;return n&&Ke.isSelectable(n)?new Ke(r):vt.near(r)}}class Fn extends vt{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=Be.empty){if(r==Be.empty){e.delete(0,e.doc.content.size);let n=vt.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new Fn(e)}map(e){return new Fn(e)}eq(e){return e instanceof Fn}getBookmark(){return $4}}vt.jsonID("all",Fn);const $4={map(){return this},resolve(t){return new Fn(t)}};function Mo(t,e,r,n,i,a=!1){if(e.inlineContent)return ot.create(t,r);for(let s=n-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let o=e.child(s);if(o.isAtom){if(!a&&Ke.isSelectable(o))return Ke.create(t,r-(i<0?o.nodeSize:0))}else{let l=Mo(t,o,r+i,i<0?o.childCount:0,i,a);if(l)return l}r+=o.nodeSize*i}return null}function F1(t,e,r){let n=t.steps.length-1;if(n<e)return;let i=t.steps[n];if(!(i instanceof xr||i instanceof Er))return;let a=t.mapping.maps[n],s;a.forEach((o,l,u,c)=>{s==null&&(s=c)}),t.setSelection(vt.near(t.doc.resolve(s),r))}const B1=1,k1=2,I1=4;class L4 extends QD{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|B1)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&B1)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=k1,this}ensureMarks(e){return qt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&k1)>0}addStep(e,r){super.addStep(e,r),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let n=this.selection;return r&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||qt.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,n){let i=this.doc.type.schema;if(r==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(n==null&&(n=r),n=n??r,!e)return this.deleteRange(r,n);let a=this.storedMarks;if(!a){let s=this.doc.resolve(r);a=n==r?s.marks():s.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,i.text(e,a)),this.selection.empty||this.setSelection(vt.near(this.selection.$to)),this}}setMeta(e,r){return this.meta[typeof e=="string"?e:e.key]=r,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=I1,this}get scrolledIntoView(){return(this.updated&I1)>0}}function R1(t,e){return!e||!t?t:t.bind(e)}class Vl{constructor(e,r,n){this.name=e,this.init=R1(r.init,n),this.apply=R1(r.apply,n)}}const z4=[new Vl("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Vl("selection",{init(t,e){return t.selection||vt.atStart(e.doc)},apply(t){return t.selection}}),new Vl("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,r,n){return n.selection.$cursor?t.storedMarks:null}}),new Vl("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class zh{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=z4.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new Vl(n.key,n.spec.state,n))})}}class Oo{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],n=this.applyInner(e),i=null;for(;;){let a=!1;for(let s=0;s<this.config.plugins.length;s++){let o=this.config.plugins[s];if(o.spec.appendTransaction){let l=i?i[s].n:0,u=i?i[s].state:this,c=l<r.length&&o.spec.appendTransaction.call(o,l?r.slice(l):r,u,n);if(c&&n.filterTransaction(c,s)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<s?{state:n,n:r.length}:{state:this,n:0})}r.push(c),n=n.applyInner(c),a=!0}i&&(i[s]={state:n,n:r.length})}}if(!a)return{state:n,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new Oo(this.config),n=this.config.fields;for(let i=0;i<n.length;i++){let a=n[i];r[a.name]=a.apply(e,this[a.name],this,r)}return r}get tr(){return new L4(this)}static create(e){let r=new zh(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new Oo(r);for(let i=0;i<r.fields.length;i++)n[r.fields[i].name]=r.fields[i].init(e,n);return n}reconfigure(e){let r=new zh(this.schema,e.plugins),n=r.fields,i=new Oo(r);for(let a=0;a<n.length;a++){let s=n[a].name;i[s]=this.hasOwnProperty(s)?this[s]:n[a].init(e,i)}return i}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[n],a=i.spec.state;a&&a.toJSON&&(r[n]=a.toJSON.call(i,this[i.key]))}return r}static fromJSON(e,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new zh(e.schema,e.plugins),a=new Oo(i);return i.fields.forEach(s=>{if(s.name=="doc")a.doc=Ka.fromJSON(e.schema,r.doc);else if(s.name=="selection")a.selection=vt.fromJSON(a.doc,r.selection);else if(s.name=="storedMarks")r.storedMarks&&(a.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let o in n){let l=n[o],u=l.spec.state;if(l.key==s.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(r,o)){a[s.name]=u.fromJSON.call(l,e,r[o],a);return}}a[s.name]=s.init(e,a)}}),a}}function eC(t,e,r){for(let n in t){let i=t[n];i instanceof Function?i=i.bind(e):n=="handleDOMEvents"&&(i=eC(i,e,{})),r[n]=i}return r}class Mr{constructor(e){this.spec=e,this.props={},e.props&&eC(e.props,this,this.props),this.key=e.key?e.key.key:tC("plugin")}getState(e){return e[this.key]}}const qh=Object.create(null);function tC(t){return t in qh?t+"$"+ ++qh[t]:(qh[t]=0,t+"$")}class Cn{constructor(e="key"){this.key=tC(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Fr=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Zo=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Zm=null;const na=function(t,e,r){let n=Zm||(Zm=document.createRange());return n.setEnd(t,r??t.nodeValue.length),n.setStart(t,e||0),n},q4=function(){Zm=null},Ys=function(t,e,r,n){return r&&(P1(t,e,r,n,-1)||P1(t,e,r,n,1))},U4=/^(img|br|input|textarea|hr)$/i;function P1(t,e,r,n,i){for(;;){if(t==r&&e==n)return!0;if(e==(i<0?0:Wn(t))){let a=t.parentNode;if(!a||a.nodeType!=1||ju(t)||U4.test(t.nodeName)||t.contentEditable=="false")return!1;e=Fr(t)+(i<0?0:1),t=a}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?Wn(t):0}else return!1}}function Wn(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function H4(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Wn(t)}else if(t.parentNode&&!ju(t))e=Fr(t),t=t.parentNode;else return null}}function V4(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!ju(t))e=Fr(t)+1,t=t.parentNode;else return null}}function W4(t,e,r){for(let n=e==0,i=e==Wn(t);n||i;){if(t==r)return!0;let a=Fr(t);if(t=t.parentNode,!t)return!1;n=n&&a==0,i=i&&a==Wn(t)}}function ju(t){let e;for(let r=t;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const yp=function(t){return t.focusNode&&Ys(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Ts(t,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=e,r}function G4(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function j4(t,e,r){if(t.caretPositionFromPoint)try{let n=t.caretPositionFromPoint(e,r);if(n)return{node:n.offsetNode,offset:Math.min(Wn(n.offsetNode),n.offset)}}catch{}if(t.caretRangeFromPoint){let n=t.caretRangeFromPoint(e,r);if(n)return{node:n.startContainer,offset:Math.min(Wn(n.startContainer),n.startOffset)}}}const Ri=typeof navigator<"u"?navigator:null,$1=typeof document<"u"?document:null,us=Ri&&Ri.userAgent||"",Qm=/Edge\/(\d+)/.exec(us),rC=/MSIE \d/.exec(us),eg=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(us),En=!!(rC||eg||Qm),Ya=rC?document.documentMode:eg?+eg[1]:Qm?+Qm[1]:0,mi=!En&&/gecko\/(\d+)/i.test(us);mi&&+(/Firefox\/(\d+)/.exec(us)||[0,0])[1];const tg=!En&&/Chrome\/(\d+)/.exec(us),jr=!!tg,nC=tg?+tg[1]:0,fn=!En&&!!Ri&&/Apple Computer/.test(Ri.vendor),Qo=fn&&(/Mobile\/\w+/.test(us)||!!Ri&&Ri.maxTouchPoints>2),Un=Qo||(Ri?/Mac/.test(Ri.platform):!1),K4=Ri?/Win/.test(Ri.platform):!1,oa=/Android \d/.test(us),Ku=!!$1&&"webkitFontSmoothing"in $1.documentElement.style,J4=Ku?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Y4(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Ki(t,e){return typeof t=="number"?t:t[e]}function X4(t){let e=t.getBoundingClientRect(),r=e.width/t.offsetWidth||1,n=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*r,top:e.top,bottom:e.top+t.clientHeight*n}}function L1(t,e,r){let n=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,a=t.dom.ownerDocument;for(let s=r||t.dom;s;){if(s.nodeType!=1){s=Zo(s);continue}let o=s,l=o==a.body,u=l?Y4(a):X4(o),c=0,f=0;if(e.top<u.top+Ki(n,"top")?f=-(u.top-e.top+Ki(i,"top")):e.bottom>u.bottom-Ki(n,"bottom")&&(f=e.bottom-e.top>u.bottom-u.top?e.top+Ki(i,"top")-u.top:e.bottom-u.bottom+Ki(i,"bottom")),e.left<u.left+Ki(n,"left")?c=-(u.left-e.left+Ki(i,"left")):e.right>u.right-Ki(n,"right")&&(c=e.right-u.right+Ki(i,"right")),c||f)if(l)a.defaultView.scrollBy(c,f);else{let p=o.scrollLeft,h=o.scrollTop;f&&(o.scrollTop+=f),c&&(o.scrollLeft+=c);let m=o.scrollLeft-p,v=o.scrollTop-h;e={left:e.left-m,top:e.top-v,right:e.right-m,bottom:e.bottom-v}}let d=l?"fixed":getComputedStyle(s).position;if(/^(fixed|sticky)$/.test(d))break;s=d=="absolute"?s.offsetParent:Zo(s)}}function Z4(t){let e=t.dom.getBoundingClientRect(),r=Math.max(0,e.top),n,i;for(let a=(e.left+e.right)/2,s=r+1;s<Math.min(innerHeight,e.bottom);s+=5){let o=t.root.elementFromPoint(a,s);if(!o||o==t.dom||!t.dom.contains(o))continue;let l=o.getBoundingClientRect();if(l.top>=r-20){n=o,i=l.top;break}}return{refDOM:n,refTop:i,stack:iC(t.dom)}}function iC(t){let e=[],r=t.ownerDocument;for(let n=t;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),t!=r);n=Zo(n));return e}function Q4({refDOM:t,refTop:e,stack:r}){let n=t?t.getBoundingClientRect().top:0;aC(r,n==0?0:n-e)}function aC(t,e){for(let r=0;r<t.length;r++){let{dom:n,top:i,left:a}=t[r];n.scrollTop!=i+e&&(n.scrollTop=i+e),n.scrollLeft!=a&&(n.scrollLeft=a)}}let yo=null;function eP(t){if(t.setActive)return t.setActive();if(yo)return t.focus(yo);let e=iC(t);t.focus(yo==null?{get preventScroll(){return yo={preventScroll:!0},!0}}:void 0),yo||(yo=!1,aC(e,0))}function sC(t,e){let r,n=2e8,i,a=0,s=e.top,o=e.top,l,u;for(let c=t.firstChild,f=0;c;c=c.nextSibling,f++){let d;if(c.nodeType==1)d=c.getClientRects();else if(c.nodeType==3)d=na(c).getClientRects();else continue;for(let p=0;p<d.length;p++){let h=d[p];if(h.top<=s&&h.bottom>=o){s=Math.max(h.bottom,s),o=Math.min(h.top,o);let m=h.left>e.left?h.left-e.left:h.right<e.left?e.left-h.right:0;if(m<n){r=c,n=m,i=m&&r.nodeType==3?{left:h.right<e.left?h.right:h.left,top:e.top}:e,c.nodeType==1&&m&&(a=f+(e.left>=(h.left+h.right)/2?1:0));continue}}else h.top>e.top&&!l&&h.left<=e.left&&h.right>=e.left&&(l=c,u={left:Math.max(h.left,Math.min(h.right,e.left)),top:h.top});!r&&(e.left>=h.right&&e.top>=h.top||e.left>=h.left&&e.top>=h.bottom)&&(a=f+1)}}return!r&&l&&(r=l,i=u,n=0),r&&r.nodeType==3?tP(r,i):!r||n&&r.nodeType==1?{node:t,offset:a}:sC(r,i)}function tP(t,e){let r=t.nodeValue.length,n=document.createRange();for(let i=0;i<r;i++){n.setEnd(t,i+1),n.setStart(t,i);let a=Ma(n,1);if(a.top!=a.bottom&&xv(e,a))return{node:t,offset:i+(e.left>=(a.left+a.right)/2?1:0)}}return{node:t,offset:0}}function xv(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function rP(t,e){let r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<t.getBoundingClientRect().left?r:t}function nP(t,e,r){let{node:n,offset:i}=sC(e,r),a=-1;if(n.nodeType==1&&!n.firstChild){let s=n.getBoundingClientRect();a=s.left!=s.right&&r.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(n,i,a)}function iP(t,e,r,n){let i=-1;for(let a=e,s=!1;a!=t.dom;){let o=t.docView.nearestDesc(a,!0),l;if(!o)return null;if(o.dom.nodeType==1&&(o.node.isBlock&&o.parent||!o.contentDOM)&&((l=o.dom.getBoundingClientRect()).width||l.height)&&(o.node.isBlock&&o.parent&&(!s&&l.left>n.left||l.top>n.top?i=o.posBefore:(!s&&l.right<n.left||l.bottom<n.top)&&(i=o.posAfter),s=!0),!o.contentDOM&&i<0&&!o.node.isText))return(o.node.isBlock?n.top<(l.top+l.bottom)/2:n.left<(l.left+l.right)/2)?o.posBefore:o.posAfter;a=o.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,r,-1)}function oC(t,e,r){let n=t.childNodes.length;if(n&&r.top<r.bottom)for(let i=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),a=i;;){let s=t.childNodes[a];if(s.nodeType==1){let o=s.getClientRects();for(let l=0;l<o.length;l++){let u=o[l];if(xv(e,u))return oC(s,e,u)}}if((a=(a+1)%n)==i)break}return t}function aP(t,e){let r=t.dom.ownerDocument,n,i=0,a=j4(r,e.left,e.top);a&&({node:n,offset:i}=a);let s=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top),o;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let u=t.dom.getBoundingClientRect();if(!xv(e,u)||(s=oC(t.dom,e,u),!s))return null}if(fn)for(let u=s;n&&u;u=Zo(u))u.draggable&&(n=void 0);if(s=rP(s,e),n){if(mi&&n.nodeType==1&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let c=n.childNodes[i],f;c.nodeName=="IMG"&&(f=c.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&i++}let u;Ku&&i&&n.nodeType==1&&(u=n.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&i--,n==t.dom&&i==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?o=t.state.doc.content.size:(i==0||n.nodeType!=1||n.childNodes[i-1].nodeName!="BR")&&(o=iP(t,n,i,e))}o==null&&(o=nP(t,s,e));let l=t.docView.nearestDesc(s,!0);return{pos:o,inside:l?l.posAtStart-l.border:-1}}function z1(t){return t.top<t.bottom||t.left<t.right}function Ma(t,e){let r=t.getClientRects();if(r.length){let n=r[e<0?0:r.length-1];if(z1(n))return n}return Array.prototype.find.call(r,z1)||t.getBoundingClientRect()}const sP=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function lC(t,e,r){let{node:n,offset:i,atom:a}=t.docView.domFromPos(e,r<0?-1:1),s=Ku||mi;if(n.nodeType==3)if(s&&(sP.test(n.nodeValue)||(r<0?!i:i==n.nodeValue.length))){let l=Ma(na(n,i,i),r);if(mi&&i&&/\s/.test(n.nodeValue[i-1])&&i<n.nodeValue.length){let u=Ma(na(n,i-1,i-1),-1);if(u.top==l.top){let c=Ma(na(n,i,i+1),-1);if(c.top!=l.top)return Rl(c,c.left<u.left)}}return l}else{let l=i,u=i,c=r<0?1:-1;return r<0&&!i?(u++,c=-1):r>=0&&i==n.nodeValue.length?(l--,c=1):r<0?l--:u++,Rl(Ma(na(n,l,u),c),c<0)}if(!t.state.doc.resolve(e-(a||0)).parent.inlineContent){if(a==null&&i&&(r<0||i==Wn(n))){let l=n.childNodes[i-1];if(l.nodeType==1)return Uh(l.getBoundingClientRect(),!1)}if(a==null&&i<Wn(n)){let l=n.childNodes[i];if(l.nodeType==1)return Uh(l.getBoundingClientRect(),!0)}return Uh(n.getBoundingClientRect(),r>=0)}if(a==null&&i&&(r<0||i==Wn(n))){let l=n.childNodes[i-1],u=l.nodeType==3?na(l,Wn(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return Rl(Ma(u,1),!1)}if(a==null&&i<Wn(n)){let l=n.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?na(l,0,s?0:1):l.nodeType==1?l:null:null;if(u)return Rl(Ma(u,-1),!0)}return Rl(Ma(n.nodeType==3?na(n):n,-r),r>=0)}function Rl(t,e){if(t.width==0)return t;let r=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}function Uh(t,e){if(t.height==0)return t;let r=e?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}function uC(t,e,r){let n=t.state,i=t.root.activeElement;n!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return r()}finally{n!=e&&t.updateState(n),i!=t.dom&&i&&i.focus()}}function oP(t,e,r){let n=e.selection,i=r=="up"?n.$from:n.$to;return uC(t,e,()=>{let{node:a}=t.docView.domFromPos(i.pos,r=="up"?-1:1);for(;;){let o=t.docView.nearestDesc(a,!0);if(!o)break;if(o.node.isBlock){a=o.contentDOM||o.dom;break}a=o.dom.parentNode}let s=lC(t,i.pos,1);for(let o=a.firstChild;o;o=o.nextSibling){let l;if(o.nodeType==1)l=o.getClientRects();else if(o.nodeType==3)l=na(o,0,o.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let c=l[u];if(c.bottom>c.top+1&&(r=="up"?s.top-c.top>(c.bottom-s.top)*2:c.bottom-s.bottom>(s.bottom-c.top)*2))return!1}}return!0})}const lP=/[\u0590-\u08ac]/;function uP(t,e,r){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let i=n.parentOffset,a=!i,s=i==n.parent.content.size,o=t.domSelection();return o?!lP.test(n.parent.textContent)||!o.modify?r=="left"||r=="backward"?a:s:uC(t,e,()=>{let{focusNode:l,focusOffset:u,anchorNode:c,anchorOffset:f}=t.domSelectionRange(),d=o.caretBidiLevel;o.modify("move",r,"character");let p=n.depth?t.docView.domAfterPos(n.before()):t.dom,{focusNode:h,focusOffset:m}=t.domSelectionRange(),v=h&&!p.contains(h.nodeType==1?h:h.parentNode)||l==h&&u==m;try{o.collapse(c,f),l&&(l!=c||u!=f)&&o.extend&&o.extend(l,u)}catch{}return d!=null&&(o.caretBidiLevel=d),v}):n.pos==n.start()||n.pos==n.end()}let q1=null,U1=null,H1=!1;function cP(t,e,r){return q1==e&&U1==r?H1:(q1=e,U1=r,H1=r=="up"||r=="down"?oP(t,e,r):uP(t,e,r))}const Jn=0,V1=1,Bs=2,Pi=3;class Ju{constructor(e,r,n,i){this.parent=e,this.children=r,this.dom=n,this.contentDOM=i,this.dirty=Jn,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,n=this.posAtStart;;r++){let i=this.children[r];if(i==e)return n;n+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let a,s;if(e==this.contentDOM)a=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.previousSibling}for(;a&&!((s=a.pmViewDesc)&&s.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(s)+s.size:this.posAtStart}else{let a,s;if(e==this.contentDOM)a=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.nextSibling}for(;a&&!((s=a.pmViewDesc)&&s.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=r>Fr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let a=e;;a=a.parentNode){if(a==this.dom){i=!1;break}if(a.previousSibling)break}if(i==null&&r==e.childNodes.length)for(let a=e;;a=a.parentNode){if(a==this.dom){i=!0;break}if(a.nextSibling)break}}return i??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let n=!0,i=e;i;i=i.parentNode){let a=this.getDesc(i),s;if(a&&(!r||a.node))if(n&&(s=a.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))n=!1;else return a}}getDesc(e){let r=e.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(e,r,n){for(let i=e;i;i=i.parentNode){let a=this.getDesc(i);if(a)return a.localPosFromDOM(e,r,n)}return-1}descAt(e){for(let r=0,n=0;r<this.children.length;r++){let i=this.children[r],a=n+i.size;if(n==e&&a!=n){for(;!i.border&&i.children.length;)for(let s=0;s<i.children.length;s++){let o=i.children[s];if(o.size){i=o;break}}return i}if(e<a)return i.descAt(e-n-i.border);n=a}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,i=0;for(let a=0;n<this.children.length;n++){let s=this.children[n],o=a+s.size;if(o>e||s instanceof fC){i=e-a;break}a=o}if(i)return this.children[n].domFromPos(i-this.children[n].border,r);for(let a;n&&!(a=this.children[n-1]).size&&a instanceof cC&&a.side>=0;n--);if(r<=0){let a,s=!0;for(;a=n?this.children[n-1]:null,!(!a||a.dom.parentNode==this.contentDOM);n--,s=!1);return a&&r&&s&&!a.border&&!a.domAtom?a.domFromPos(a.size,r):{node:this.contentDOM,offset:a?Fr(a.dom)+1:0}}else{let a,s=!0;for(;a=n<this.children.length?this.children[n]:null,!(!a||a.dom.parentNode==this.contentDOM);n++,s=!1);return a&&s&&!a.border&&!a.domAtom?a.domFromPos(0,r):{node:this.contentDOM,offset:a?Fr(a.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,a=-1;for(let s=n,o=0;;o++){let l=this.children[o],u=s+l.size;if(i==-1&&e<=u){let c=s+l.border;if(e>=c&&r<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,r,c);e=s;for(let f=o;f>0;f--){let d=this.children[f-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){i=Fr(d.dom)+1;break}e-=d.size}i==-1&&(i=0)}if(i>-1&&(u>r||o==this.children.length-1)){r=u;for(let c=o+1;c<this.children.length;c++){let f=this.children[c];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){a=Fr(f.dom);break}r+=f.size}a==-1&&(a=this.contentDOM.childNodes.length);break}s=u}return{node:this.contentDOM,from:e,to:r,fromOffset:i,toOffset:a}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:n}=this.domFromPos(e,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[n]}setSelection(e,r,n,i=!1){let a=Math.min(e,r),s=Math.max(e,r);for(let p=0,h=0;p<this.children.length;p++){let m=this.children[p],v=h+m.size;if(a>h&&s<v)return m.setSelection(e-h-m.border,r-h-m.border,n,i);h=v}let o=this.domFromPos(e,e?-1:1),l=r==e?o:this.domFromPos(r,r?-1:1),u=n.root.getSelection(),c=n.domSelectionRange(),f=!1;if((mi||fn)&&e==r){let{node:p,offset:h}=o;if(p.nodeType==3){if(f=!!(h&&p.nodeValue[h-1]==`
`),f&&h==p.nodeValue.length)for(let m=p,v;m;m=m.parentNode){if(v=m.nextSibling){v.nodeName=="BR"&&(o=l={node:v.parentNode,offset:Fr(v)+1});break}let y=m.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{let m=p.childNodes[h-1];f=m&&(m.nodeName=="BR"||m.contentEditable=="false")}}if(mi&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let p=c.focusNode.childNodes[c.focusOffset];p&&p.contentEditable=="false"&&(i=!0)}if(!(i||f&&fn)&&Ys(o.node,o.offset,c.anchorNode,c.anchorOffset)&&Ys(l.node,l.offset,c.focusNode,c.focusOffset))return;let d=!1;if((u.extend||e==r)&&!f){u.collapse(o.node,o.offset);try{e!=r&&u.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(e>r){let h=o;o=l,l=h}let p=document.createRange();p.setEnd(l.node,l.offset),p.setStart(o.node,o.offset),u.removeAllRanges(),u.addRange(p)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let n=0,i=0;i<this.children.length;i++){let a=this.children[i],s=n+a.size;if(n==s?e<=s&&r>=n:e<s&&r>n){let o=n+a.border,l=s-a.border;if(e>=o&&r<=l){this.dirty=e==n||r==s?Bs:V1,e==o&&r==l&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=Pi:a.markDirty(e-o,r-o);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?Bs:Pi}n=s}this.dirty=Bs}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let n=e==1?Bs:V1;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class cC extends Ju{constructor(e,r,n,i){let a,s=r.type.toDOM;if(typeof s=="function"&&(s=s(n,()=>{if(!a)return i;if(a.parent)return a.parent.posBeforeChild(a)})),!r.type.spec.raw){if(s.nodeType!=1){let o=document.createElement("span");o.appendChild(s),s=o}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=r,this.widget=r,a=this}matchesWidget(e){return this.dirty==Jn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return r?r(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class fP extends Ju{constructor(e,r,n,i){super(e,[],r,null),this.textDOM=n,this.text=i}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Xs extends Ju{constructor(e,r,n,i,a){super(e,[],n,i),this.mark=r,this.spec=a}static create(e,r,n,i){let a=i.nodeViews[r.type.name],s=a&&a(r,i,n);return(!s||!s.dom)&&(s=ao.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new Xs(e,r,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&Pi||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Pi&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),this.dirty!=Jn){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=Jn}}slice(e,r,n){let i=Xs.create(this.parent,this.mark,!0,n),a=this.children,s=this.size;r<s&&(a=ng(a,r,s,n)),e>0&&(a=ng(a,0,e,n));for(let o=0;o<a.length;o++)a[o].parent=i;return i.children=a,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Xa extends Ju{constructor(e,r,n,i,a,s,o,l,u){super(e,[],a,s),this.node=r,this.outerDeco=n,this.innerDeco=i,this.nodeDOM=o}static create(e,r,n,i,a,s){let o=a.nodeViews[r.type.name],l,u=o&&o(r,a,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},n,i),c=u&&u.dom,f=u&&u.contentDOM;if(r.isText){if(!c)c=document.createTextNode(r.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:f}=ao.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!f&&!r.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),r.type.spec.draggable&&(c.draggable=!0));let d=c;return c=hC(c,n,r),u?l=new dP(e,r,n,i,c,f||null,d,u,a,s+1):r.isText?new bp(e,r,n,i,c,d,a):new Xa(e,r,n,i,c,f||null,d,a,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Ne.empty)}return e}matchesNode(e,r,n){return this.dirty==Jn&&e.eq(this.node)&&Wf(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let n=this.node.inlineContent,i=r,a=e.composing?this.localCompositionInfo(e,r):null,s=a&&a.pos>-1?a:null,o=a&&a.pos<0,l=new hP(this,s&&s.node,e);vP(this.node,this.innerDeco,(u,c,f)=>{u.spec.marks?l.syncToMarks(u.spec.marks,n,e):u.type.side>=0&&!f&&l.syncToMarks(c==this.node.childCount?qt.none:this.node.child(c).marks,n,e),l.placeWidget(u,e,i)},(u,c,f,d)=>{l.syncToMarks(u.marks,n,e);let p;l.findNodeMatch(u,c,f,d)||o&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(p=l.findIndexWithChild(a.node))>-1&&l.updateNodeAt(u,c,f,p,e)||l.updateNextNode(u,c,f,e,d,i)||l.addNode(u,c,f,e,i),i+=u.nodeSize}),l.syncToMarks([],n,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Bs)&&(s&&this.protectLocalComposition(e,s),dC(this.contentDOM,this.children,e),Qo&&yP(this.dom))}localCompositionInfo(e,r){let{from:n,to:i}=e.state.selection;if(!(e.state.selection instanceof ot)||n<r||i>r+this.node.content.size)return null;let a=e.input.compositionNode;if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let s=a.nodeValue,o=bP(this.node.content,s,n-r,i-r);return o<0?null:{node:a,pos:o,text:s}}else return{node:a,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:n,text:i}){if(this.getDesc(r))return;let a=r;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let s=new fP(this,a,r,i);e.input.compositionNodes.push(s),this.children=ng(this.children,n,n+i.length,e,s)}update(e,r,n,i){return this.dirty==Pi||!e.sameMarkup(this.node)?!1:(this.updateInner(e,r,n,i),!0)}updateInner(e,r,n,i){this.updateOuterDeco(r),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Jn}updateOuterDeco(e){if(Wf(e,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=pC(this.dom,this.nodeDOM,rg(this.outerDeco,this.node,r),rg(e,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function W1(t,e,r,n,i){hC(n,e,t);let a=new Xa(void 0,t,e,r,n,n,n,i,0);return a.contentDOM&&a.updateChildren(i,0),a}class bp extends Xa{constructor(e,r,n,i,a,s,o){super(e,r,n,i,a,null,s,o,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,n,i){return this.dirty==Pi||this.dirty!=Jn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=Jn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Jn,!0)}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,r,n){let i=this.node.cut(e,r),a=document.createTextNode(i.text);return new bp(this.parent,i,this.outerDeco,this.innerDeco,a,a,n)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(e==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=Pi)}get domAtom(){return!1}isText(e){return this.node.text==e}}class fC extends Ju{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Jn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class dP extends Xa{constructor(e,r,n,i,a,s,o,l,u,c){super(e,r,n,i,a,s,o,u,c),this.spec=l}update(e,r,n,i){if(this.dirty==Pi)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let a=this.spec.update(e,r,n);return a&&this.updateInner(e,r,n,i),a}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,r,n,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,n,i){this.spec.setSelection?this.spec.setSelection(e,r,n.root):super.setSelection(e,r,n,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function dC(t,e,r){let n=t.firstChild,i=!1;for(let a=0;a<e.length;a++){let s=e[a],o=s.dom;if(o.parentNode==t){for(;o!=n;)n=G1(n),i=!0;n=n.nextSibling}else i=!0,t.insertBefore(o,n);if(s instanceof Xs){let l=n?n.previousSibling:t.lastChild;dC(s.contentDOM,s.children,r),n=l?l.nextSibling:t.firstChild}}for(;n;)n=G1(n),i=!0;i&&r.trackWrites==t&&(r.trackWrites=null)}const au=function(t){t&&(this.nodeName=t)};au.prototype=Object.create(null);const ks=[new au];function rg(t,e,r){if(t.length==0)return ks;let n=r?ks[0]:new au,i=[n];for(let a=0;a<t.length;a++){let s=t[a].type.attrs;if(s){s.nodeName&&i.push(n=new au(s.nodeName));for(let o in s){let l=s[o];l!=null&&(r&&i.length==1&&i.push(n=new au(e.isInline?"span":"div")),o=="class"?n.class=(n.class?n.class+" ":"")+l:o=="style"?n.style=(n.style?n.style+";":"")+l:o!="nodeName"&&(n[o]=l))}}}return i}function pC(t,e,r,n){if(r==ks&&n==ks)return e;let i=e;for(let a=0;a<n.length;a++){let s=n[a],o=r[a];if(a){let l;o&&o.nodeName==s.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(i),o=ks[0]),i=l}pP(i,o||ks[0],s)}return i}function pP(t,e,r){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&t.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=e[n]&&t.setAttribute(n,r[n]);if(e.class!=r.class){let n=e.class?e.class.split(" ").filter(Boolean):[],i=r.class?r.class.split(" ").filter(Boolean):[];for(let a=0;a<n.length;a++)i.indexOf(n[a])==-1&&t.classList.remove(n[a]);for(let a=0;a<i.length;a++)n.indexOf(i[a])==-1&&t.classList.add(i[a]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=r.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=n.exec(e.style);)t.style.removeProperty(i[1])}r.style&&(t.style.cssText+=r.style)}}function hC(t,e,r){return pC(t,t,ks,rg(e,r,t.nodeType!=1))}function Wf(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].type.eq(e[r].type))return!1;return!0}function G1(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class hP{constructor(e,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=mP(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let n=e;n<r;n++)this.top.children[n].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,n){let i=0,a=this.stack.length>>1,s=Math.min(a,e.length);for(;i<s&&(i==a-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<a;)this.destroyRest(),this.top.dirty=Jn,this.index=this.stack.pop(),this.top=this.stack.pop(),a--;for(;a<e.length;){this.stack.push(this.top,this.index+1);let o=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let u=this.top.children[l];if(u.matchesMark(e[a])&&!this.isLocked(u.dom)){o=l;break}}if(o>-1)o>this.index&&(this.changed=!0,this.destroyBetween(this.index,o)),this.top=this.top.children[this.index];else{let l=Xs.create(this.top,e[a],r,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,a++}}findNodeMatch(e,r,n,i){let a=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,r,n))a=this.top.children.indexOf(s,this.index);else for(let o=this.index,l=Math.min(this.top.children.length,o+5);o<l;o++){let u=this.top.children[o];if(u.matchesNode(e,r,n)&&!this.preMatch.matched.has(u)){a=o;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(e,r,n,i,a){let s=this.top.children[i];return s.dirty==Pi&&s.dom==s.contentDOM&&(s.dirty=Bs),s.update(e,r,n,a)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==n)return i}return-1}e=r}}updateNextNode(e,r,n,i,a,s){for(let o=this.index;o<this.top.children.length;o++){let l=this.top.children[o];if(l instanceof Xa){let u=this.preMatch.matched.get(l);if(u!=null&&u!=a)return!1;let c=l.dom,f,d=this.isLocked(c)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Pi&&Wf(r,l.outerDeco));if(!d&&l.update(e,r,n,i))return this.destroyBetween(this.index,o),l.dom!=c&&(this.changed=!0),this.index++,!0;if(!d&&(f=this.recreateWrapper(l,e,r,n,i,s)))return this.destroyBetween(this.index,o),this.top.children[this.index]=f,f.contentDOM&&(f.dirty=Bs,f.updateChildren(i,s+1),f.dirty=Jn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,r,n,i,a,s){if(e.dirty||r.isAtom||!e.children.length||!e.node.content.eq(r.content)||!Wf(n,e.outerDeco)||!i.eq(e.innerDeco))return null;let o=Xa.create(this.top,r,n,i,a,s);if(o.contentDOM){o.children=e.children,e.children=[];for(let l of o.children)l.parent=o}return e.destroy(),o}addNode(e,r,n,i,a){let s=Xa.create(this.top,e,r,n,i,a);s.contentDOM&&s.updateChildren(i,a+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,r,n){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let a=new cC(this.top,e,r,n);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof Xs;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof bp)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((fn||jr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let i=new fC(this.top,[],n,null);r!=this.top?r.children.push(i):r.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function mP(t,e){let r=e,n=r.children.length,i=t.childCount,a=new Map,s=[];e:for(;i>0;){let o;for(;;)if(n){let u=r.children[n-1];if(u instanceof Xs)r=u,n=u.children.length;else{o=u,n--;break}}else{if(r==e)break e;n=r.parent.children.indexOf(r),r=r.parent}let l=o.node;if(l){if(l!=t.child(i-1))break;--i,a.set(o,i),s.push(o)}}return{index:i,matched:a,matches:s.reverse()}}function gP(t,e){return t.type.side-e.type.side}function vP(t,e,r,n){let i=e.locals(t),a=0;if(i.length==0){for(let u=0;u<t.childCount;u++){let c=t.child(u);n(c,i,e.forChild(a,c),u),a+=c.nodeSize}return}let s=0,o=[],l=null;for(let u=0;;){let c,f;for(;s<i.length&&i[s].to==a;){let v=i[s++];v.widget&&(c?(f||(f=[c])).push(v):c=v)}if(c)if(f){f.sort(gP);for(let v=0;v<f.length;v++)r(f[v],u,!!l)}else r(c,u,!!l);let d,p;if(l)p=-1,d=l,l=null;else if(u<t.childCount)p=u,d=t.child(u++);else break;for(let v=0;v<o.length;v++)o[v].to<=a&&o.splice(v--,1);for(;s<i.length&&i[s].from<=a&&i[s].to>a;)o.push(i[s++]);let h=a+d.nodeSize;if(d.isText){let v=h;s<i.length&&i[s].from<v&&(v=i[s].from);for(let y=0;y<o.length;y++)o[y].to<v&&(v=o[y].to);v<h&&(l=d.cut(v-a),d=d.cut(0,v-a),h=v,p=-1)}else for(;s<i.length&&i[s].to<h;)s++;let m=d.isInline&&!d.isLeaf?o.filter(v=>!v.inline):o.slice();n(d,m,e.forChild(a,d),p),a=h}}function yP(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function bP(t,e,r,n){for(let i=0,a=0;i<t.childCount&&a<=n;){let s=t.child(i++),o=a;if(a+=s.nodeSize,!s.isText)continue;let l=s.text;for(;i<t.childCount;){let u=t.child(i++);if(a+=u.nodeSize,!u.isText)break;l+=u.text}if(a>=r){if(a>=n&&l.slice(n-e.length-o,n-o)==e)return n-e.length;let u=o<n?l.lastIndexOf(e,n-o-1):-1;if(u>=0&&u+e.length+o>=r)return o+u;if(r==n&&l.length>=n+e.length-o&&l.slice(n-o,n-o+e.length)==e)return n}}return-1}function ng(t,e,r,n,i){let a=[];for(let s=0,o=0;s<t.length;s++){let l=t[s],u=o,c=o+=l.size;u>=r||c<=e?a.push(l):(u<e&&a.push(l.slice(0,e-u,n)),i&&(a.push(i),i=void 0),c>r&&a.push(l.slice(r-u,l.size,n)))}return a}function wv(t,e=null){let r=t.domSelectionRange(),n=t.state.doc;if(!r.focusNode)return null;let i=t.docView.nearestDesc(r.focusNode),a=i&&i.size==0,s=t.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(s<0)return null;let o=n.resolve(s),l,u;if(yp(r)){for(l=s;i&&!i.node;)i=i.parent;let f=i.node;if(i&&f.isAtom&&Ke.isSelectable(f)&&i.parent&&!(f.isInline&&W4(r.focusNode,r.focusOffset,i.dom))){let d=i.posBefore;u=new Ke(s==d?o:n.resolve(d))}}else{if(r instanceof t.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let f=s,d=s;for(let p=0;p<r.rangeCount;p++){let h=r.getRangeAt(p);f=Math.min(f,t.docView.posFromDOM(h.startContainer,h.startOffset,1)),d=Math.max(d,t.docView.posFromDOM(h.endContainer,h.endOffset,-1))}if(f<0)return null;[l,s]=d==t.state.selection.anchor?[d,f]:[f,d],o=n.resolve(s)}else l=t.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(l<0)return null}let c=n.resolve(l);if(!u){let f=e=="pointer"||t.state.selection.head<o.pos&&!a?1:-1;u=Sv(t,c,o,f)}return u}function mC(t){return t.editable?t.hasFocus():vC(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function pa(t,e=!1){let r=t.state.selection;if(gC(t,r),!!mC(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&jr){let n=t.domSelectionRange(),i=t.domObserver.currentSelection;if(n.anchorNode&&i.anchorNode&&Ys(n.anchorNode,n.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)wP(t);else{let{anchor:n,head:i}=r,a,s;j1&&!(r instanceof ot)&&(r.$from.parent.inlineContent||(a=K1(t,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(s=K1(t,r.to))),t.docView.setSelection(n,i,t,e),j1&&(a&&J1(a),s&&J1(s)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&xP(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const j1=fn||jr&&nC<63;function K1(t,e){let{node:r,offset:n}=t.docView.domFromPos(e,0),i=n<r.childNodes.length?r.childNodes[n]:null,a=n?r.childNodes[n-1]:null;if(fn&&i&&i.contentEditable=="false")return Hh(i);if((!i||i.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(i)return Hh(i);if(a)return Hh(a)}}function Hh(t){return t.contentEditable="true",fn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function J1(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function xP(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let r=t.domSelectionRange(),n=r.anchorNode,i=r.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!mC(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function wP(t){let e=t.domSelection(),r=document.createRange();if(!e)return;let n=t.cursorWrapper.dom,i=n.nodeName=="IMG";i?r.setStart(n.parentNode,Fr(n)+1):r.setStart(n,0),r.collapse(!0),e.removeAllRanges(),e.addRange(r),!i&&!t.state.selection.visible&&En&&Ya<=11&&(n.disabled=!0,n.disabled=!1)}function gC(t,e){if(e instanceof Ke){let r=t.docView.descAt(e.from);r!=t.lastSelectedViewDesc&&(Y1(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else Y1(t)}function Y1(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Sv(t,e,r,n){return t.someProp("createSelectionBetween",i=>i(t,e,r))||ot.between(e,r,n)}function X1(t){return t.editable&&!t.hasFocus()?!1:vC(t)}function vC(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function SP(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),r=t.domSelectionRange();return Ys(e.node,e.offset,r.anchorNode,r.anchorOffset)}function ig(t,e){let{$anchor:r,$head:n}=t.selection,i=e>0?r.max(n):r.min(n),a=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return a&&vt.findFrom(a,e)}function ka(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Z1(t,e,r){let n=t.state.selection;if(n instanceof ot)if(r.indexOf("s")>-1){let{$head:i}=n,a=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let s=t.state.doc.resolve(i.pos+a.nodeSize*(e<0?-1:1));return ka(t,new ot(n.$anchor,s))}else if(n.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=ig(t.state,e);return i&&i instanceof Ke?ka(t,i):!1}else if(!(Un&&r.indexOf("m")>-1)){let i=n.$head,a=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!a||a.isText)return!1;let o=e<0?i.pos-a.nodeSize:i.pos;return a.isAtom||(s=t.docView.descAt(o))&&!s.contentDOM?Ke.isSelectable(a)?ka(t,new Ke(e<0?t.state.doc.resolve(i.pos-a.nodeSize):i)):Ku?ka(t,new ot(t.state.doc.resolve(e<0?o:o+a.nodeSize))):!1:!1}}else return!1;else{if(n instanceof Ke&&n.node.isInline)return ka(t,new ot(e>0?n.$to:n.$from));{let i=ig(t.state,e);return i?ka(t,i):!1}}}function Gf(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function su(t,e){let r=t.pmViewDesc;return r&&r.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function bo(t,e){return e<0?EP(t):AP(t)}function EP(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let i,a,s=!1;for(mi&&r.nodeType==1&&n<Gf(r)&&su(r.childNodes[n],-1)&&(s=!0);;)if(n>0){if(r.nodeType!=1)break;{let o=r.childNodes[n-1];if(su(o,-1))i=r,a=--n;else if(o.nodeType==3)r=o,n=r.nodeValue.length;else break}}else{if(yC(r))break;{let o=r.previousSibling;for(;o&&su(o,-1);)i=r.parentNode,a=Fr(o),o=o.previousSibling;if(o)r=o,n=Gf(r);else{if(r=r.parentNode,r==t.dom)break;n=0}}}s?ag(t,r,n):i&&ag(t,i,a)}function AP(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let i=Gf(r),a,s;for(;;)if(n<i){if(r.nodeType!=1)break;let o=r.childNodes[n];if(su(o,1))a=r,s=++n;else break}else{if(yC(r))break;{let o=r.nextSibling;for(;o&&su(o,1);)a=o.parentNode,s=Fr(o)+1,o=o.nextSibling;if(o)r=o,n=0,i=Gf(r);else{if(r=r.parentNode,r==t.dom)break;n=i=0}}}a&&ag(t,a,s)}function yC(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function NP(t,e){for(;t&&e==t.childNodes.length&&!ju(t);)e=Fr(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let r=t.childNodes[e];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=0}}function DP(t,e){for(;t&&!e&&!ju(t);)e=Fr(t),t=t.parentNode;for(;t&&e;){let r=t.childNodes[e-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=t.childNodes.length}}function ag(t,e,r){if(e.nodeType!=3){let a,s;(s=NP(e,r))?(e=s,r=0):(a=DP(e,r))&&(e=a,r=a.nodeValue.length)}let n=t.domSelection();if(!n)return;if(yp(n)){let a=document.createRange();a.setEnd(e,r),a.setStart(e,r),n.removeAllRanges(),n.addRange(a)}else n.extend&&n.extend(e,r);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&pa(t)},50)}function Q1(t,e){let r=t.state.doc.resolve(e);if(!(jr||K4)&&r.parent.inlineContent){let i=t.coordsAtPos(e);if(e>r.start()){let a=t.coordsAtPos(e-1),s=(a.top+a.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(a.left-i.left)>1)return a.left<i.left?"ltr":"rtl"}if(e<r.end()){let a=t.coordsAtPos(e+1),s=(a.top+a.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(a.left-i.left)>1)return a.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function eb(t,e,r){let n=t.state.selection;if(n instanceof ot&&!n.empty||r.indexOf("s")>-1||Un&&r.indexOf("m")>-1)return!1;let{$from:i,$to:a}=n;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=ig(t.state,e);if(s&&s instanceof Ke)return ka(t,s)}if(!i.parent.inlineContent){let s=e<0?i:a,o=n instanceof Fn?vt.near(s,e):vt.findFrom(s,e);return o?ka(t,o):!1}return!1}function tb(t,e){if(!(t.state.selection instanceof ot))return!0;let{$head:r,$anchor:n,empty:i}=t.state.selection;if(!r.sameParent(n))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let a=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(a&&!a.isText){let s=t.state.tr;return e<0?s.delete(r.pos-a.nodeSize,r.pos):s.delete(r.pos,r.pos+a.nodeSize),t.dispatch(s),!0}return!1}function rb(t,e,r){t.domObserver.stop(),e.contentEditable=r,t.domObserver.start()}function CP(t){if(!fn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=t.domSelectionRange();if(e&&e.nodeType==1&&r==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;rb(t,n,"true"),setTimeout(()=>rb(t,n,"false"),20)}return!1}function MP(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function TP(t,e){let r=e.keyCode,n=MP(e);if(r==8||Un&&r==72&&n=="c")return tb(t,-1)||bo(t,-1);if(r==46&&!e.shiftKey||Un&&r==68&&n=="c")return tb(t,1)||bo(t,1);if(r==13||r==27)return!0;if(r==37||Un&&r==66&&n=="c"){let i=r==37?Q1(t,t.state.selection.from)=="ltr"?-1:1:-1;return Z1(t,i,n)||bo(t,i)}else if(r==39||Un&&r==70&&n=="c"){let i=r==39?Q1(t,t.state.selection.from)=="ltr"?1:-1:1;return Z1(t,i,n)||bo(t,i)}else{if(r==38||Un&&r==80&&n=="c")return eb(t,-1,n)||bo(t,-1);if(r==40||Un&&r==78&&n=="c")return CP(t)||eb(t,1,n)||bo(t,1);if(n==(Un?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function Ev(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let r=[],{content:n,openStart:i,openEnd:a}=e;for(;i>1&&a>1&&n.childCount==1&&n.firstChild.childCount==1;){i--,a--;let p=n.firstChild;r.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),n=p.content}let s=t.someProp("clipboardSerializer")||ao.fromSchema(t.state.schema),o=AC(),l=o.createElement("div");l.appendChild(s.serializeFragment(n,{document:o}));let u=l.firstChild,c,f=0;for(;u&&u.nodeType==1&&(c=EC[u.nodeName.toLowerCase()]);){for(let p=c.length-1;p>=0;p--){let h=o.createElement(c[p]);for(;l.firstChild;)h.appendChild(l.firstChild);l.appendChild(h),f++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${a}${f?` -${f}`:""} ${JSON.stringify(r)}`);let d=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:d,slice:e}}function bC(t,e,r,n,i){let a=i.parent.type.spec.code,s,o;if(!r&&!e)return null;let l=e&&(n||a||!r);if(l){if(t.someProp("transformPastedText",d=>{e=d(e,a||n,t)}),a)return e?new Be(Ne.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Be.empty;let f=t.someProp("clipboardTextParser",d=>d(e,i,n,t));if(f)o=f;else{let d=i.marks(),{schema:p}=t.state,h=ao.fromSchema(p);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(m=>{let v=s.appendChild(document.createElement("p"));m&&v.appendChild(h.serializeNode(p.text(m,d)))})}}else t.someProp("transformPastedHTML",f=>{r=f(r,t)}),s=BP(r),Ku&&kP(s);let u=s&&s.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let f=+c[3];f>0;f--){let d=s.firstChild;for(;d&&d.nodeType!=1;)d=d.nextSibling;if(!d)break;s=d}if(o||(o=(t.someProp("clipboardParser")||t.someProp("domParser")||Ja.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||c),context:i,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!_P.test(d.parentNode.nodeName)?{ignore:!0}:null}})),c)o=IP(nb(o,+c[1],+c[2]),c[4]);else if(o=Be.maxOpen(OP(o.content,i),!0),o.openStart||o.openEnd){let f=0,d=0;for(let p=o.content.firstChild;f<o.openStart&&!p.type.spec.isolating;f++,p=p.firstChild);for(let p=o.content.lastChild;d<o.openEnd&&!p.type.spec.isolating;d++,p=p.lastChild);o=nb(o,f,d)}return t.someProp("transformPasted",f=>{o=f(o,t)}),o}const _P=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function OP(t,e){if(t.childCount<2)return t;for(let r=e.depth;r>=0;r--){let i=e.node(r).contentMatchAt(e.index(r)),a,s=[];if(t.forEach(o=>{if(!s)return;let l=i.findWrapping(o.type),u;if(!l)return s=null;if(u=s.length&&a.length&&wC(l,a,o,s[s.length-1],0))s[s.length-1]=u;else{s.length&&(s[s.length-1]=SC(s[s.length-1],a.length));let c=xC(o,l);s.push(c),i=i.matchType(c.type),a=l}}),s)return Ne.from(s)}return t}function xC(t,e,r=0){for(let n=e.length-1;n>=r;n--)t=e[n].create(null,Ne.from(t));return t}function wC(t,e,r,n,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let a=wC(t,e,r,n.lastChild,i+1);if(a)return n.copy(n.content.replaceChild(n.childCount-1,a));if(n.contentMatchAt(n.childCount).matchType(i==t.length-1?r.type:t[i+1]))return n.copy(n.content.append(Ne.from(xC(r,t,i+1))))}}function SC(t,e){if(e==0)return t;let r=t.content.replaceChild(t.childCount-1,SC(t.lastChild,e-1)),n=t.contentMatchAt(t.childCount).fillBefore(Ne.empty,!0);return t.copy(r.append(n))}function sg(t,e,r,n,i,a){let s=e<0?t.firstChild:t.lastChild,o=s.content;return t.childCount>1&&(a=0),i<n-1&&(o=sg(o,e,r,n,i+1,a)),i>=r&&(o=e<0?s.contentMatchAt(0).fillBefore(o,a<=i).append(o):o.append(s.contentMatchAt(s.childCount).fillBefore(Ne.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(o))}function nb(t,e,r){return e<t.openStart&&(t=new Be(sg(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),r<t.openEnd&&(t=new Be(sg(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}const EC={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let ib=null;function AC(){return ib||(ib=document.implementation.createHTMLDocument("title"))}let Vh=null;function FP(t){let e=window.trustedTypes;return e?(Vh||(Vh=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:r=>r})),Vh.createHTML(t)):t}function BP(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let r=AC().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(t),i;if((i=n&&EC[n[1].toLowerCase()])&&(t=i.map(a=>"<"+a+">").join("")+t+i.map(a=>"</"+a+">").reverse().join("")),r.innerHTML=FP(t),i)for(let a=0;a<i.length;a++)r=r.querySelector(i[a])||r;return r}function kP(t){let e=t.querySelectorAll(jr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let n=e[r];n.childNodes.length==1&&n.textContent==""&&n.parentNode&&n.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),n)}}function IP(t,e){if(!t.size)return t;let r=t.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return t}let{content:i,openStart:a,openEnd:s}=t;for(let o=n.length-2;o>=0;o-=2){let l=r.nodes[n[o]];if(!l||l.hasRequiredAttrs())break;i=Ne.from(l.create(n[o+1],i)),a++,s++}return new Be(i,a,s)}const dn={},pn={},RP={touchstart:!0,touchmove:!0};class PP{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function $P(t){for(let e in dn){let r=dn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=n=>{zP(t,n)&&!Av(t,n)&&(t.editable||!(n.type in pn))&&r(t,n)},RP[e]?{passive:!0}:void 0)}fn&&t.dom.addEventListener("input",()=>null),og(t)}function Va(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function LP(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function og(t){t.someProp("handleDOMEvents",e=>{for(let r in e)t.input.eventHandlers[r]||t.dom.addEventListener(r,t.input.eventHandlers[r]=n=>Av(t,n))})}function Av(t,e){return t.someProp("handleDOMEvents",r=>{let n=r[e.type];return n?n(t,e)||e.defaultPrevented:!1})}function zP(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=t.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function qP(t,e){!Av(t,e)&&dn[e.type]&&(t.editable||!(e.type in pn))&&dn[e.type](t,e)}pn.keydown=(t,e)=>{let r=e;if(t.input.shiftKey=r.keyCode==16||r.shiftKey,!DC(t,r)&&(t.input.lastKeyCode=r.keyCode,t.input.lastKeyCodeTime=Date.now(),!(oa&&jr&&r.keyCode==13)))if(r.keyCode!=229&&t.domObserver.forceFlush(),Qo&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();t.input.lastIOSEnter=n,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==n&&(t.someProp("handleKeyDown",i=>i(t,Ts(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",n=>n(t,r))||TP(t,r)?r.preventDefault():Va(t,"key")};pn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};pn.keypress=(t,e)=>{let r=e;if(DC(t,r)||!r.charCode||r.ctrlKey&&!r.altKey||Un&&r.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,r))){r.preventDefault();return}let n=t.state.selection;if(!(n instanceof ot)||!n.$from.sameParent(n.$to)){let i=String.fromCharCode(r.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",a=>a(t,n.$from.pos,n.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),r.preventDefault()}};function xp(t){return{left:t.clientX,top:t.clientY}}function UP(t,e){let r=e.x-t.clientX,n=e.y-t.clientY;return r*r+n*n<100}function Nv(t,e,r,n,i){if(n==-1)return!1;let a=t.state.doc.resolve(n);for(let s=a.depth+1;s>0;s--)if(t.someProp(e,o=>s>a.depth?o(t,r,a.nodeAfter,a.before(s),i,!0):o(t,r,a.node(s),a.before(s),i,!1)))return!0;return!1}function Ho(t,e,r){if(t.focused||t.focus(),t.state.selection.eq(e))return;let n=t.state.tr.setSelection(e);n.setMeta("pointer",!0),t.dispatch(n)}function HP(t,e){if(e==-1)return!1;let r=t.state.doc.resolve(e),n=r.nodeAfter;return n&&n.isAtom&&Ke.isSelectable(n)?(Ho(t,new Ke(r)),!0):!1}function VP(t,e){if(e==-1)return!1;let r=t.state.selection,n,i;r instanceof Ke&&(n=r.node);let a=t.state.doc.resolve(e);for(let s=a.depth+1;s>0;s--){let o=s>a.depth?a.nodeAfter:a.node(s);if(Ke.isSelectable(o)){n&&r.$from.depth>0&&s>=r.$from.depth&&a.before(r.$from.depth+1)==r.$from.pos?i=a.before(r.$from.depth):i=a.before(s);break}}return i!=null?(Ho(t,Ke.create(t.state.doc,i)),!0):!1}function WP(t,e,r,n,i){return Nv(t,"handleClickOn",e,r,n)||t.someProp("handleClick",a=>a(t,e,n))||(i?VP(t,r):HP(t,r))}function GP(t,e,r,n){return Nv(t,"handleDoubleClickOn",e,r,n)||t.someProp("handleDoubleClick",i=>i(t,e,n))}function jP(t,e,r,n){return Nv(t,"handleTripleClickOn",e,r,n)||t.someProp("handleTripleClick",i=>i(t,e,n))||KP(t,r,n)}function KP(t,e,r){if(r.button!=0)return!1;let n=t.state.doc;if(e==-1)return n.inlineContent?(Ho(t,ot.create(n,0,n.content.size)),!0):!1;let i=n.resolve(e);for(let a=i.depth+1;a>0;a--){let s=a>i.depth?i.nodeAfter:i.node(a),o=i.before(a);if(s.inlineContent)Ho(t,ot.create(n,o+1,o+1+s.content.size));else if(Ke.isSelectable(s))Ho(t,Ke.create(n,o));else continue;return!0}}function Dv(t){return jf(t)}const NC=Un?"metaKey":"ctrlKey";dn.mousedown=(t,e)=>{let r=e;t.input.shiftKey=r.shiftKey;let n=Dv(t),i=Date.now(),a="singleClick";i-t.input.lastClick.time<500&&UP(r,t.input.lastClick)&&!r[NC]&&t.input.lastClick.button==r.button&&(t.input.lastClick.type=="singleClick"?a="doubleClick":t.input.lastClick.type=="doubleClick"&&(a="tripleClick")),t.input.lastClick={time:i,x:r.clientX,y:r.clientY,type:a,button:r.button};let s=t.posAtCoords(xp(r));s&&(a=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new JP(t,s,r,!!n)):(a=="doubleClick"?GP:jP)(t,s.pos,s.inside,r)?r.preventDefault():Va(t,"pointer"))};class JP{constructor(e,r,n,i){this.view=e,this.pos=r,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[NC],this.allowDefault=n.shiftKey;let a,s;if(r.inside>-1)a=e.state.doc.nodeAt(r.inside),s=r.inside;else{let c=e.state.doc.resolve(r.pos);a=c.parent,s=c.depth?c.before():0}const o=i?null:n.target,l=o?e.docView.nearestDesc(o,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:u}=e.state;(n.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||u instanceof Ke&&u.from<=s&&u.to>s)&&(this.mightDrag={node:a,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&mi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Va(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>pa(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(xp(e))),this.updateAllowDefault(e),this.allowDefault||!r?Va(this.view,"pointer"):WP(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||fn&&this.mightDrag&&!this.mightDrag.node.isAtom||jr&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(Ho(this.view,vt.near(this.view.state.doc.resolve(r.pos))),e.preventDefault()):Va(this.view,"pointer")}move(e){this.updateAllowDefault(e),Va(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}dn.touchstart=t=>{t.input.lastTouch=Date.now(),Dv(t),Va(t,"pointer")};dn.touchmove=t=>{t.input.lastTouch=Date.now(),Va(t,"pointer")};dn.contextmenu=t=>Dv(t);function DC(t,e){return t.composing?!0:fn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const YP=oa?5e3:-1;pn.compositionstart=pn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,r=e.selection.$to;if(e.selection instanceof ot&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||r.marks(),jf(t,!0),t.markCursor=null;else if(jf(t,!e.selection.empty),mi&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=t.domSelectionRange();for(let i=n.focusNode,a=n.focusOffset;i&&i.nodeType==1&&a!=0;){let s=a<0?i.lastChild:i.childNodes[a-1];if(!s)break;if(s.nodeType==3){let o=t.domSelection();o&&o.collapse(s,s.nodeValue.length);break}else i=s,a=-1}}t.input.composing=!0}CC(t,YP)};pn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,CC(t,20))};function CC(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>jf(t),e))}function MC(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=ZP());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function XP(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let r=H4(e.focusNode,e.focusOffset),n=V4(e.focusNode,e.focusOffset);if(r&&n&&r!=n){let i=n.pmViewDesc,a=t.domObserver.lastChangedTextNode;if(r==a||n==a)return a;if(!i||!i.isText(n.nodeValue))return n;if(t.input.compositionNode==n){let s=r.pmViewDesc;if(!(!s||!s.isText(r.nodeValue)))return n}}return r||n}function ZP(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function jf(t,e=!1){if(!(oa&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),MC(t),e||t.docView&&t.docView.dirty){let r=wv(t),n=t.state.selection;return r&&!r.eq(n)?t.dispatch(t.state.tr.setSelection(r)):(t.markCursor||e)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function QP(t,e){if(!t.dom.parentNode)return;let r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),n.removeAllRanges(),n.addRange(i),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),t.focus()},50)}const Cu=En&&Ya<15||Qo&&J4<604;dn.copy=pn.cut=(t,e)=>{let r=e,n=t.state.selection,i=r.type=="cut";if(n.empty)return;let a=Cu?null:r.clipboardData,s=n.content(),{dom:o,text:l}=Ev(t,s);a?(r.preventDefault(),a.clearData(),a.setData("text/html",o.innerHTML),a.setData("text/plain",l)):QP(t,o),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function e5(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function t5(t,e){if(!t.dom.parentNode)return;let r=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,n=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),n.parentNode&&n.parentNode.removeChild(n),r?Mu(t,n.value,null,i,e):Mu(t,n.textContent,n.innerHTML,i,e)},50)}function Mu(t,e,r,n,i){let a=bC(t,e,r,n,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,a||Be.empty)))return!0;if(!a)return!1;let s=e5(a),o=s?t.state.tr.replaceSelectionWith(s,n):t.state.tr.replaceSelection(a);return t.dispatch(o.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function TC(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let r=t.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}pn.paste=(t,e)=>{let r=e;if(t.composing&&!oa)return;let n=Cu?null:r.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;n&&Mu(t,TC(n),n.getData("text/html"),i,r)?r.preventDefault():t5(t,r)};class _C{constructor(e,r,n){this.slice=e,this.move=r,this.node=n}}const r5=Un?"altKey":"ctrlKey";function OC(t,e){let r=t.someProp("dragCopies",n=>!n(e));return r??!e[r5]}dn.dragstart=(t,e)=>{let r=e,n=t.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let i=t.state.selection,a=i.empty?null:t.posAtCoords(xp(r)),s;if(!(a&&a.pos>=i.from&&a.pos<=(i instanceof Ke?i.to-1:i.to))){if(n&&n.mightDrag)s=Ke.create(t.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let f=t.docView.nearestDesc(r.target,!0);f&&f.node.type.spec.draggable&&f!=t.docView&&(s=Ke.create(t.state.doc,f.posBefore))}}let o=(s||t.state.selection).content(),{dom:l,text:u,slice:c}=Ev(t,o);(!r.dataTransfer.files.length||!jr||nC>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(Cu?"Text":"text/html",l.innerHTML),r.dataTransfer.effectAllowed="copyMove",Cu||r.dataTransfer.setData("text/plain",u),t.dragging=new _C(c,OC(t,r),s)};dn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};pn.dragover=pn.dragenter=(t,e)=>e.preventDefault();pn.drop=(t,e)=>{let r=e,n=t.dragging;if(t.dragging=null,!r.dataTransfer)return;let i=t.posAtCoords(xp(r));if(!i)return;let a=t.state.doc.resolve(i.pos),s=n&&n.slice;s?t.someProp("transformPasted",h=>{s=h(s,t)}):s=bC(t,TC(r.dataTransfer),Cu?null:r.dataTransfer.getData("text/html"),!1,a);let o=!!(n&&OC(t,r));if(t.someProp("handleDrop",h=>h(t,r,s||Be.empty,o))){r.preventDefault();return}if(!s)return;r.preventDefault();let l=s?KD(t.state.doc,a.pos,s):a.pos;l==null&&(l=a.pos);let u=t.state.tr;if(o){let{node:h}=n;h?h.replace(u):u.deleteSelection()}let c=u.mapping.map(l),f=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,d=u.doc;if(f?u.replaceRangeWith(c,c,s.content.firstChild):u.replaceRange(c,c,s),u.doc.eq(d))return;let p=u.doc.resolve(c);if(f&&Ke.isSelectable(s.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(s.content.firstChild))u.setSelection(new Ke(p));else{let h=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((m,v,y,S)=>h=S),u.setSelection(Sv(t,p,u.doc.resolve(h)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};dn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&pa(t)},20))};dn.blur=(t,e)=>{let r=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),r.relatedTarget&&t.dom.contains(r.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};dn.beforeinput=(t,e)=>{if(jr&&oa&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:n}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=n||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",a=>a(t,Ts(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in pn)dn[t]=pn[t];function Tu(t,e){if(t==e)return!0;for(let r in t)if(t[r]!==e[r])return!1;for(let r in e)if(!(r in t))return!1;return!0}class Kf{constructor(e,r){this.toDOM=e,this.spec=r||Hs,this.side=this.spec.side||0}map(e,r,n,i){let{pos:a,deleted:s}=e.mapResult(r.from+i,this.side<0?-1:1);return s?null:new On(a-n,a-n,this)}valid(){return!0}eq(e){return this==e||e instanceof Kf&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Tu(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Za{constructor(e,r){this.attrs=e,this.spec=r||Hs}map(e,r,n,i){let a=e.map(r.from+i,this.spec.inclusiveStart?-1:1)-n,s=e.map(r.to+i,this.spec.inclusiveEnd?1:-1)-n;return a>=s?null:new On(a,s,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof Za&&Tu(this.attrs,e.attrs)&&Tu(this.spec,e.spec)}static is(e){return e.type instanceof Za}destroy(){}}class Cv{constructor(e,r){this.attrs=e,this.spec=r||Hs}map(e,r,n,i){let a=e.mapResult(r.from+i,1);if(a.deleted)return null;let s=e.mapResult(r.to+i,-1);return s.deleted||s.pos<=a.pos?null:new On(a.pos-n,s.pos-n,this)}valid(e,r){let{index:n,offset:i}=e.content.findIndex(r.from),a;return i==r.from&&!(a=e.child(n)).isText&&i+a.nodeSize==r.to}eq(e){return this==e||e instanceof Cv&&Tu(this.attrs,e.attrs)&&Tu(this.spec,e.spec)}destroy(){}}class On{constructor(e,r,n){this.from=e,this.to=r,this.type=n}copy(e,r){return new On(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,n){return this.type.map(e,this,r,n)}static widget(e,r,n){return new On(e,e,new Kf(r,n))}static inline(e,r,n,i){return new On(e,r,new Za(n,i))}static node(e,r,n,i){return new On(e,r,new Cv(n,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Za}get widget(){return this.type instanceof Kf}}const To=[],Hs={};class lr{constructor(e,r){this.local=e.length?e:To,this.children=r.length?r:To}static create(e,r){return r.length?Jf(r,e,0,Hs):Hr}find(e,r,n){let i=[];return this.findInner(e??0,r??1e9,i,0,n),i}findInner(e,r,n,i,a){for(let s=0;s<this.local.length;s++){let o=this.local[s];o.from<=r&&o.to>=e&&(!a||a(o.spec))&&n.push(o.copy(o.from+i,o.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<r&&this.children[s+1]>e){let o=this.children[s]+1;this.children[s+2].findInner(e-o,r-o,n,i+o,a)}}map(e,r,n){return this==Hr||e.maps.length==0?this:this.mapInner(e,r,0,0,n||Hs)}mapInner(e,r,n,i,a){let s;for(let o=0;o<this.local.length;o++){let l=this.local[o].map(e,n,i);l&&l.type.valid(r,l)?(s||(s=[])).push(l):a.onRemove&&a.onRemove(this.local[o].spec)}return this.children.length?n5(this.children,s||[],e,r,n,i,a):s?new lr(s.sort(Vs),To):Hr}add(e,r){return r.length?this==Hr?lr.create(e,r):this.addInner(e,r,0):this}addInner(e,r,n){let i,a=0;e.forEach((o,l)=>{let u=l+n,c;if(c=BC(r,o,u)){for(i||(i=this.children.slice());a<i.length&&i[a]<l;)a+=3;i[a]==l?i[a+2]=i[a+2].addInner(o,c,u+1):i.splice(a,0,l,l+o.nodeSize,Jf(c,o,u+1,Hs)),a+=3}});let s=FC(a?kC(r):r,-n);for(let o=0;o<s.length;o++)s[o].type.valid(e,s[o])||s.splice(o--,1);return new lr(s.length?this.local.concat(s).sort(Vs):this.local,i||this.children)}remove(e){return e.length==0||this==Hr?this:this.removeInner(e,0)}removeInner(e,r){let n=this.children,i=this.local;for(let a=0;a<n.length;a+=3){let s,o=n[a]+r,l=n[a+1]+r;for(let c=0,f;c<e.length;c++)(f=e[c])&&f.from>o&&f.to<l&&(e[c]=null,(s||(s=[])).push(f));if(!s)continue;n==this.children&&(n=this.children.slice());let u=n[a+2].removeInner(s,o+1);u!=Hr?n[a+2]=u:(n.splice(a,3),a-=3)}if(i.length){for(let a=0,s;a<e.length;a++)if(s=e[a])for(let o=0;o<i.length;o++)i[o].eq(s,r)&&(i==this.local&&(i=this.local.slice()),i.splice(o--,1))}return n==this.children&&i==this.local?this:i.length||n.length?new lr(i,n):Hr}forChild(e,r){if(this==Hr)return this;if(r.isLeaf)return lr.empty;let n,i;for(let o=0;o<this.children.length;o+=3)if(this.children[o]>=e){this.children[o]==e&&(n=this.children[o+2]);break}let a=e+1,s=a+r.content.size;for(let o=0;o<this.local.length;o++){let l=this.local[o];if(l.from<s&&l.to>a&&l.type instanceof Za){let u=Math.max(a,l.from)-a,c=Math.min(s,l.to)-a;u<c&&(i||(i=[])).push(l.copy(u,c))}}if(i){let o=new lr(i.sort(Vs),To);return n?new La([o,n]):o}return n||Hr}eq(e){if(this==e)return!0;if(!(e instanceof lr)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return Mv(this.localsInner(e))}localsInner(e){if(this==Hr)return To;if(e.inlineContent||!this.local.some(Za.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof Za||r.push(this.local[n]);return r}forEachSet(e){e(this)}}lr.empty=new lr([],[]);lr.removeOverlap=Mv;const Hr=lr.empty;class La{constructor(e){this.members=e}map(e,r){const n=this.members.map(i=>i.map(e,r,Hs));return La.from(n)}forChild(e,r){if(r.isLeaf)return lr.empty;let n=[];for(let i=0;i<this.members.length;i++){let a=this.members[i].forChild(e,r);a!=Hr&&(a instanceof La?n=n.concat(a.members):n.push(a))}return La.from(n)}eq(e){if(!(e instanceof La)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,n=!0;for(let i=0;i<this.members.length;i++){let a=this.members[i].localsInner(e);if(a.length)if(!r)r=a;else{n&&(r=r.slice(),n=!1);for(let s=0;s<a.length;s++)r.push(a[s])}}return r?Mv(n?r:r.sort(Vs)):To}static from(e){switch(e.length){case 0:return Hr;case 1:return e[0];default:return new La(e.every(r=>r instanceof lr)?e:e.reduce((r,n)=>r.concat(n instanceof lr?n:n.members),[]))}}forEachSet(e){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(e)}}function n5(t,e,r,n,i,a,s){let o=t.slice();for(let u=0,c=a;u<r.maps.length;u++){let f=0;r.maps[u].forEach((d,p,h,m)=>{let v=m-h-(p-d);for(let y=0;y<o.length;y+=3){let S=o[y+1];if(S<0||d>S+c-f)continue;let g=o[y]+c-f;p>=g?o[y+1]=d<=g?-2:-1:d>=c&&v&&(o[y]+=v,o[y+1]+=v)}f+=v}),c=r.maps[u].map(c,-1)}let l=!1;for(let u=0;u<o.length;u+=3)if(o[u+1]<0){if(o[u+1]==-2){l=!0,o[u+1]=-1;continue}let c=r.map(t[u]+a),f=c-i;if(f<0||f>=n.content.size){l=!0;continue}let d=r.map(t[u+1]+a,-1),p=d-i,{index:h,offset:m}=n.content.findIndex(f),v=n.maybeChild(h);if(v&&m==f&&m+v.nodeSize==p){let y=o[u+2].mapInner(r,v,c+1,t[u]+a+1,s);y!=Hr?(o[u]=f,o[u+1]=p,o[u+2]=y):(o[u+1]=-2,l=!0)}else l=!0}if(l){let u=i5(o,t,e,r,i,a,s),c=Jf(u,n,0,s);e=c.local;for(let f=0;f<o.length;f+=3)o[f+1]<0&&(o.splice(f,3),f-=3);for(let f=0,d=0;f<c.children.length;f+=3){let p=c.children[f];for(;d<o.length&&o[d]<p;)d+=3;o.splice(d,0,c.children[f],c.children[f+1],c.children[f+2])}}return new lr(e.sort(Vs),o)}function FC(t,e){if(!e||!t.length)return t;let r=[];for(let n=0;n<t.length;n++){let i=t[n];r.push(new On(i.from+e,i.to+e,i.type))}return r}function i5(t,e,r,n,i,a,s){function o(l,u){for(let c=0;c<l.local.length;c++){let f=l.local[c].map(n,i,u);f?r.push(f):s.onRemove&&s.onRemove(l.local[c].spec)}for(let c=0;c<l.children.length;c+=3)o(l.children[c+2],l.children[c]+u+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&o(t[l+2],e[l]+a+1);return r}function BC(t,e,r){if(e.isLeaf)return null;let n=r+e.nodeSize,i=null;for(let a=0,s;a<t.length;a++)(s=t[a])&&s.from>r&&s.to<n&&((i||(i=[])).push(s),t[a]=null);return i}function kC(t){let e=[];for(let r=0;r<t.length;r++)t[r]!=null&&e.push(t[r]);return e}function Jf(t,e,r,n){let i=[],a=!1;e.forEach((o,l)=>{let u=BC(t,o,l+r);if(u){a=!0;let c=Jf(u,o,r+l+1,n);c!=Hr&&i.push(l,l+o.nodeSize,c)}});let s=FC(a?kC(t):t,-r).sort(Vs);for(let o=0;o<s.length;o++)s[o].type.valid(e,s[o])||(n.onRemove&&n.onRemove(s[o].spec),s.splice(o--,1));return s.length||i.length?new lr(s,i):Hr}function Vs(t,e){return t.from-e.from||t.to-e.to}function Mv(t){let e=t;for(let r=0;r<e.length-1;r++){let n=e[r];if(n.from!=n.to)for(let i=r+1;i<e.length;i++){let a=e[i];if(a.from==n.from){a.to!=n.to&&(e==t&&(e=t.slice()),e[i]=a.copy(a.from,n.to),ab(e,i+1,a.copy(n.to,a.to)));continue}else{a.from<n.to&&(e==t&&(e=t.slice()),e[r]=n.copy(n.from,a.from),ab(e,i,n.copy(a.from,n.to)));break}}}return e}function ab(t,e,r){for(;e<t.length&&Vs(r,t[e])>0;)e++;t.splice(e,0,r)}function Wh(t){let e=[];return t.someProp("decorations",r=>{let n=r(t.state);n&&n!=Hr&&e.push(n)}),t.cursorWrapper&&e.push(lr.create(t.state.doc,[t.cursorWrapper.deco])),La.from(e)}const a5={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},s5=En&&Ya<=11;class o5{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class l5{constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new o5,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let i=0;i<n.length;i++)this.queue.push(n[i]);En&&Ya<=11&&n.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),s5&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,a5)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(X1(this.view)){if(this.suppressingSelectionUpdates)return pa(this.view);if(En&&Ya<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Ys(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let r=new Set,n;for(let a=e.focusNode;a;a=Zo(a))r.add(a);for(let a=e.anchorNode;a;a=Zo(a))if(r.has(a)){n=a;break}let i=n&&this.view.docView.nearestDesc(n);if(i&&i.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&X1(e)&&!this.ignoreSelectionChange(n),a=-1,s=-1,o=!1,l=[];if(e.editable)for(let c=0;c<r.length;c++){let f=this.registerMutation(r[c],l);f&&(a=a<0?f.from:Math.min(f.from,a),s=s<0?f.to:Math.max(f.to,s),f.typeOver&&(o=!0))}if(mi&&l.length){let c=l.filter(f=>f.nodeName=="BR");if(c.length==2){let[f,d]=c;f.parentNode&&f.parentNode.parentNode==d.parentNode?d.remove():f.remove()}else{let{focusNode:f}=this.currentSelection;for(let d of c){let p=d.parentNode;p&&p.nodeName=="LI"&&(!f||f5(e,f)!=p)&&d.remove()}}}let u=null;a<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&yp(n)&&(u=wv(e))&&u.eq(vt.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,pa(e),this.currentSelection.set(n),e.scrollToSelection()):(a>-1||i)&&(a>-1&&(e.docView.markDirty(a,s),u5(e)),this.handleDOMChange(a,s,o,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||pa(e),this.currentSelection.set(n))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++){let f=e.addedNodes[c];r.push(f),f.nodeType==3&&(this.lastChangedTextNode=f)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let i=e.previousSibling,a=e.nextSibling;if(En&&Ya<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:f,nextSibling:d}=e.addedNodes[c];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f),(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(a=d)}let s=i&&i.parentNode==e.target?Fr(i)+1:0,o=n.localPosFromDOM(e.target,s,-1),l=a&&a.parentNode==e.target?Fr(a):e.target.childNodes.length,u=n.localPosFromDOM(e.target,l,1);return{from:o,to:u}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let sb=new WeakMap,ob=!1;function u5(t){if(!sb.has(t)&&(sb.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=mi,ob)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),ob=!0}}function lb(t,e){let r=e.startContainer,n=e.startOffset,i=e.endContainer,a=e.endOffset,s=t.domAtPos(t.state.selection.anchor);return Ys(s.node,s.offset,i,a)&&([r,n,i,a]=[i,a,r,n]),{anchorNode:r,anchorOffset:n,focusNode:i,focusOffset:a}}function c5(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return lb(t,i)}let r;function n(i){i.preventDefault(),i.stopImmediatePropagation(),r=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0),r?lb(t,r):null}function f5(t,e){for(let r=e.parentNode;r&&r!=t.dom;r=r.parentNode){let n=t.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function d5(t,e,r){let{node:n,fromOffset:i,toOffset:a,from:s,to:o}=t.docView.parseRange(e,r),l=t.domSelectionRange(),u,c=l.anchorNode;if(c&&t.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:l.anchorOffset}],yp(l)||u.push({node:l.focusNode,offset:l.focusOffset})),jr&&t.input.lastKeyCode===8)for(let v=a;v>i;v--){let y=n.childNodes[v-1],S=y.pmViewDesc;if(y.nodeName=="BR"&&!S){a=v;break}if(!S||S.size)break}let f=t.state.doc,d=t.someProp("domParser")||Ja.fromSchema(t.state.schema),p=f.resolve(s),h=null,m=d.parse(n,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:a,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:p5,context:p});if(u&&u[0].pos!=null){let v=u[0].pos,y=u[1]&&u[1].pos;y==null&&(y=v),h={anchor:v+s,head:y+s}}return{doc:m,sel:h,from:s,to:o}}function p5(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(fn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(t.parentNode.lastChild==t||fn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const h5=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function m5(t,e,r,n,i){let a=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let E=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,N=wv(t,E);if(N&&!t.state.selection.eq(N)){if(jr&&oa&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",M=>M(t,Ts(13,"Enter"))))return;let C=t.state.tr.setSelection(N);E=="pointer"?C.setMeta("pointer",!0):E=="key"&&C.scrollIntoView(),a&&C.setMeta("composition",a),t.dispatch(C)}return}let s=t.state.doc.resolve(e),o=s.sharedDepth(r);e=s.before(o+1),r=t.state.doc.resolve(r).after(o+1);let l=t.state.selection,u=d5(t,e,r),c=t.state.doc,f=c.slice(u.from,u.to),d,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(d=t.state.selection.to,p="end"):(d=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let h=y5(f.content,u.doc.content,u.from,d,p);if(h&&t.input.domChangeCount++,(Qo&&t.input.lastIOSEnter>Date.now()-225||oa)&&i.some(E=>E.nodeType==1&&!h5.test(E.nodeName))&&(!h||h.endA>=h.endB)&&t.someProp("handleKeyDown",E=>E(t,Ts(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!h)if(n&&l instanceof ot&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))h={start:l.from,endA:l.to,endB:l.to};else{if(u.sel){let E=ub(t,t.state.doc,u.sel);if(E&&!E.eq(t.state.selection)){let N=t.state.tr.setSelection(E);a&&N.setMeta("composition",a),t.dispatch(N)}}return}t.state.selection.from<t.state.selection.to&&h.start==h.endB&&t.state.selection instanceof ot&&(h.start>t.state.selection.from&&h.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?h.start=t.state.selection.from:h.endA<t.state.selection.to&&h.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(h.endB+=t.state.selection.to-h.endA,h.endA=t.state.selection.to)),En&&Ya<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>u.from&&u.doc.textBetween(h.start-u.from-1,h.start-u.from+1)==" "&&(h.start--,h.endA--,h.endB--);let m=u.doc.resolveNoCache(h.start-u.from),v=u.doc.resolveNoCache(h.endB-u.from),y=c.resolve(h.start),S=m.sameParent(v)&&m.parent.inlineContent&&y.end()>=h.endA,g;if((Qo&&t.input.lastIOSEnter>Date.now()-225&&(!S||i.some(E=>E.nodeName=="DIV"||E.nodeName=="P"))||!S&&m.pos<u.doc.content.size&&(!m.sameParent(v)||!m.parent.inlineContent)&&!/\S/.test(u.doc.textBetween(m.pos,v.pos,"",""))&&(g=vt.findFrom(u.doc.resolve(m.pos+1),1,!0))&&g.head>m.pos)&&t.someProp("handleKeyDown",E=>E(t,Ts(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>h.start&&v5(c,h.start,h.endA,m,v)&&t.someProp("handleKeyDown",E=>E(t,Ts(8,"Backspace")))){oa&&jr&&t.domObserver.suppressSelectionUpdates();return}jr&&h.endB==h.start&&(t.input.lastChromeDelete=Date.now()),oa&&!S&&m.start()!=v.start()&&v.parentOffset==0&&m.depth==v.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==h.endA&&(h.endB-=2,v=u.doc.resolveNoCache(h.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(E){return E(t,Ts(13,"Enter"))})},20));let w=h.start,x=h.endA,b,A,D;if(S){if(m.pos==v.pos)En&&Ya<=11&&m.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>pa(t),20)),b=t.state.tr.delete(w,x),A=c.resolve(h.start).marksAcross(c.resolve(h.endA));else if(h.endA==h.endB&&(D=g5(m.parent.content.cut(m.parentOffset,v.parentOffset),y.parent.content.cut(y.parentOffset,h.endA-y.start()))))b=t.state.tr,D.type=="add"?b.addMark(w,x,D.mark):b.removeMark(w,x,D.mark);else if(m.parent.child(m.index()).isText&&m.index()==v.index()-(v.textOffset?0:1)){let E=m.parent.textBetween(m.parentOffset,v.parentOffset);if(t.someProp("handleTextInput",N=>N(t,w,x,E)))return;b=t.state.tr.insertText(E,w,x)}}if(b||(b=t.state.tr.replace(w,x,u.doc.slice(h.start-u.from,h.endB-u.from))),u.sel){let E=ub(t,b.doc,u.sel);E&&!(jr&&t.composing&&E.empty&&(h.start!=h.endB||t.input.lastChromeDelete<Date.now()-100)&&(E.head==w||E.head==b.mapping.map(x)-1)||En&&E.empty&&E.head==w)&&b.setSelection(E)}A&&b.ensureMarks(A),a&&b.setMeta("composition",a),t.dispatch(b.scrollIntoView())}function ub(t,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:Sv(t,e.resolve(r.anchor),e.resolve(r.head))}function g5(t,e){let r=t.firstChild.marks,n=e.firstChild.marks,i=r,a=n,s,o,l;for(let c=0;c<n.length;c++)i=n[c].removeFromSet(i);for(let c=0;c<r.length;c++)a=r[c].removeFromSet(a);if(i.length==1&&a.length==0)o=i[0],s="add",l=c=>c.mark(o.addToSet(c.marks));else if(i.length==0&&a.length==1)o=a[0],s="remove",l=c=>c.mark(o.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<e.childCount;c++)u.push(l(e.child(c)));if(Ne.from(u).eq(t))return{mark:o,type:s}}function v5(t,e,r,n,i){if(r-e<=i.pos-n.pos||Gh(n,!0,!1)<i.pos)return!1;let a=t.resolve(e);if(!n.parent.isTextblock){let o=a.nodeAfter;return o!=null&&r==e+o.nodeSize}if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let s=t.resolve(Gh(a,!0,!0));return!s.parent.isTextblock||s.pos>r||Gh(s,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(s.parent.content)}function Gh(t,e,r){let n=t.depth,i=e?t.end():t.pos;for(;n>0&&(e||t.indexAfter(n)==t.node(n).childCount);)n--,i++,e=!1;if(r){let a=t.node(n).maybeChild(t.indexAfter(n));for(;a&&!a.isLeaf;)a=a.firstChild,i++}return i}function y5(t,e,r,n,i){let a=t.findDiffStart(e,r);if(a==null)return null;let{a:s,b:o}=t.findDiffEnd(e,r+t.size,r+e.size);if(i=="end"){let l=Math.max(0,a-Math.min(s,o));n-=s+l-a}if(s<a&&t.size<e.size){let l=n<=a&&n>=s?a-n:0;a-=l,a&&a<e.size&&cb(e.textBetween(a-1,a+1))&&(a+=l?1:-1),o=a+(o-s),s=a}else if(o<a){let l=n<=a&&n>=o?a-n:0;a-=l,a&&a<t.size&&cb(t.textBetween(a-1,a+1))&&(a+=l?1:-1),s=a+(s-o),o=a}return{start:a,endA:s,endB:o}}function cb(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),r=t.charCodeAt(1);return e>=56320&&e<=57343&&r>=55296&&r<=56319}class b5{constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new PP,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(mb),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=pb(this),db(this),this.nodeViews=hb(this),this.docView=W1(this.state.doc,fb(this),Wh(this),this.dom,this),this.domObserver=new l5(this,(n,i,a,s)=>m5(this,n,i,a,s)),this.domObserver.start(),$P(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&og(this);let r=this._props;this._props=e,e.plugins&&(e.plugins.forEach(mb),this.directPlugins=e.plugins),this.updateStateInner(e.state,r)}setProps(e){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in e)r[n]=e[n];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,r){var n;let i=this.state,a=!1,s=!1;e.storedMarks&&this.composing&&(MC(this),s=!0),this.state=e;let o=i.plugins!=e.plugins||this._props.plugins!=r.plugins;if(o||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let p=hb(this);w5(p,this.nodeViews)&&(this.nodeViews=p,a=!0)}(o||r.handleDOMEvents!=this._props.handleDOMEvents)&&og(this),this.editable=pb(this),db(this);let l=Wh(this),u=fb(this),c=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",f=a||!this.docView.matchesNode(e.doc,u,l);(f||!e.selection.eq(i.selection))&&(s=!0);let d=c=="preserve"&&s&&this.dom.style.overflowAnchor==null&&Z4(this);if(s){this.domObserver.stop();let p=f&&(En||jr)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&x5(i.selection,e.selection);if(f){let h=jr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=XP(this)),(a||!this.docView.update(e.doc,u,l,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=W1(e.doc,u,l,this.dom,this)),h&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&SP(this))?pa(this,p):(gC(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((n=this.dragging)===null||n===void 0)&&n.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():d&&Q4(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof Ke){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&L1(this,r.getBoundingClientRect(),e)}else L1(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,e)}}updateDraggedNode(e,r){let n=e.node,i=-1;if(this.state.doc.nodeAt(n.from)==n.node)i=n.from;else{let a=n.from+(this.state.doc.content.size-r.doc.content.size);(a>0&&this.state.doc.nodeAt(a))==n.node&&(i=a)}this.dragging=new _C(e.slice,e.move,i<0?void 0:Ke.create(this.state.doc,i))}someProp(e,r){let n=this._props&&this._props[e],i;if(n!=null&&(i=r?r(n):n))return i;for(let s=0;s<this.directPlugins.length;s++){let o=this.directPlugins[s].props[e];if(o!=null&&(i=r?r(o):o))return i}let a=this.state.plugins;if(a)for(let s=0;s<a.length;s++){let o=a[s].props[e];if(o!=null&&(i=r?r(o):o))return i}}hasFocus(){if(En){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&eP(this.dom),pa(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return e||document}updateRoot(){this._root=null}posAtCoords(e){return aP(this,e)}coordsAtPos(e,r=1){return lC(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,n=-1){let i=this.docView.posFromDOM(e,r,n);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,r){return cP(this,r||this.state,e)}pasteHTML(e,r){return Mu(this,"",e,!1,r||new ClipboardEvent("paste"))}pasteText(e,r){return Mu(this,e,null,!0,r||new ClipboardEvent("paste"))}serializeForClipboard(e){return Ev(this,e)}destroy(){this.docView&&(LP(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Wh(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,q4())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return qP(this,e)}dispatch(e){let r=this._props.dispatchTransaction;r?r.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?fn&&this.root.nodeType===11&&G4(this.dom.ownerDocument)==this.dom&&c5(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function fb(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(t.state)),r)for(let n in r)n=="class"?e.class+=" "+r[n]:n=="style"?e.style=(e.style?e.style+";":"")+r[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(r[n]))}),e.translate||(e.translate="no"),[On.node(0,t.state.doc.content.size,e)]}function db(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:On.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function pb(t){return!t.someProp("editable",e=>e(t.state)===!1)}function x5(t,e){let r=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(r)!=e.$anchor.start(r)}function hb(t){let e=Object.create(null);function r(n){for(let i in n)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=n[i])}return t.someProp("nodeViews",r),t.someProp("markViews",r),e}function w5(t,e){let r=0,n=0;for(let i in t){if(t[i]!=e[i])return!0;r++}for(let i in e)n++;return r!=n}function mb(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var rs={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Yf={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},S5=typeof navigator<"u"&&/Mac/.test(navigator.platform),E5=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Br=0;Br<10;Br++)rs[48+Br]=rs[96+Br]=String(Br);for(var Br=1;Br<=24;Br++)rs[Br+111]="F"+Br;for(var Br=65;Br<=90;Br++)rs[Br]=String.fromCharCode(Br+32),Yf[Br]=String.fromCharCode(Br);for(var jh in rs)Yf.hasOwnProperty(jh)||(Yf[jh]=rs[jh]);function A5(t){var e=S5&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||E5&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?Yf:rs)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const N5=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),D5=typeof navigator<"u"&&/Win/.test(navigator.platform);function C5(t){let e=t.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");let n,i,a,s;for(let o=0;o<e.length-1;o++){let l=e[o];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))a=!0;else if(/^mod$/i.test(l))N5?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(r="Alt-"+r),i&&(r="Ctrl-"+r),s&&(r="Meta-"+r),a&&(r="Shift-"+r),r}function M5(t){let e=Object.create(null);for(let r in t)e[C5(r)]=t[r];return e}function Kh(t,e,r=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r&&e.shiftKey&&(t="Shift-"+t),t}function T5(t){return new Mr({props:{handleKeyDown:IC(t)}})}function IC(t){let e=M5(t);return function(r,n){let i=A5(n),a,s=e[Kh(i,n)];if(s&&s(r.state,r.dispatch,r))return!0;if(i.length==1&&i!=" "){if(n.shiftKey){let o=e[Kh(i,n,!1)];if(o&&o(r.state,r.dispatch,r))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(D5&&n.ctrlKey&&n.altKey)&&(a=rs[n.keyCode])&&a!=i){let o=e[Kh(a,n)];if(o&&o(r.state,r.dispatch,r))return!0}}return!1}}const Tv=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function RC(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("backward",t):r.parentOffset>0)?null:r}const PC=(t,e,r)=>{let n=RC(t,r);if(!n)return!1;let i=_v(n);if(!i){let s=n.blockRange(),o=s&&dl(s);return o==null?!1:(e&&e(t.tr.lift(s,o).scrollIntoView()),!0)}let a=i.nodeBefore;if(GC(t,i,e,-1))return!0;if(n.parent.content.size==0&&(el(a,"end")||Ke.isSelectable(a)))for(let s=n.depth;;s--){let o=gp(t.doc,n.before(s),n.after(s),Be.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=t.tr.step(o);l.setSelection(el(a,"end")?vt.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):Ke.create(l.doc,i.pos-a.nodeSize)),e(l.scrollIntoView())}return!0}if(s==1||n.node(s-1).childCount>1)break}return a.isAtom&&i.depth==n.depth-1?(e&&e(t.tr.delete(i.pos-a.nodeSize,i.pos).scrollIntoView()),!0):!1},_5=(t,e,r)=>{let n=RC(t,r);if(!n)return!1;let i=_v(n);return i?$C(t,i,e):!1},O5=(t,e,r)=>{let n=zC(t,r);if(!n)return!1;let i=Ov(n);return i?$C(t,i,e):!1};function $C(t,e,r){let n=e.nodeBefore,i=n,a=e.pos-1;for(;!i.isTextblock;a--){if(i.type.spec.isolating)return!1;let c=i.lastChild;if(!c)return!1;i=c}let s=e.nodeAfter,o=s,l=e.pos+1;for(;!o.isTextblock;l++){if(o.type.spec.isolating)return!1;let c=o.firstChild;if(!c)return!1;o=c}let u=gp(t.doc,a,l,Be.empty);if(!u||u.from!=a||u instanceof xr&&u.slice.size>=l-a)return!1;if(r){let c=t.tr.step(u);c.setSelection(ot.create(c.doc,a)),r(c.scrollIntoView())}return!0}function el(t,e,r=!1){for(let n=t;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}const LC=(t,e,r)=>{let{$head:n,empty:i}=t.selection,a=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):n.parentOffset>0)return!1;a=_v(n)}let s=a&&a.nodeBefore;return!s||!Ke.isSelectable(s)?!1:(e&&e(t.tr.setSelection(Ke.create(t.doc,a.pos-s.nodeSize)).scrollIntoView()),!0)};function _v(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function zC(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)?null:r}const qC=(t,e,r)=>{let n=zC(t,r);if(!n)return!1;let i=Ov(n);if(!i)return!1;let a=i.nodeAfter;if(GC(t,i,e,1))return!0;if(n.parent.content.size==0&&(el(a,"start")||Ke.isSelectable(a))){let s=gp(t.doc,n.before(),n.after(),Be.empty);if(s&&s.slice.size<s.to-s.from){if(e){let o=t.tr.step(s);o.setSelection(el(a,"start")?vt.findFrom(o.doc.resolve(o.mapping.map(i.pos)),1):Ke.create(o.doc,o.mapping.map(i.pos))),e(o.scrollIntoView())}return!0}}return a.isAtom&&i.depth==n.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+a.nodeSize).scrollIntoView()),!0):!1},UC=(t,e,r)=>{let{$head:n,empty:i}=t.selection,a=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)return!1;a=Ov(n)}let s=a&&a.nodeAfter;return!s||!Ke.isSelectable(s)?!1:(e&&e(t.tr.setSelection(Ke.create(t.doc,a.pos)).scrollIntoView()),!0)};function Ov(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break}return null}const F5=(t,e)=>{let r=t.selection,n=r instanceof Ke,i;if(n){if(r.node.isTextblock||!ls(t.doc,r.from))return!1;i=r.from}else if(i=mp(t.doc,r.from,-1),i==null)return!1;if(e){let a=t.tr.join(i);n&&a.setSelection(Ke.create(a.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(a.scrollIntoView())}return!0},B5=(t,e)=>{let r=t.selection,n;if(r instanceof Ke){if(r.node.isTextblock||!ls(t.doc,r.to))return!1;n=r.to}else if(n=mp(t.doc,r.to,1),n==null)return!1;return e&&e(t.tr.join(n).scrollIntoView()),!0},k5=(t,e)=>{let{$from:r,$to:n}=t.selection,i=r.blockRange(n),a=i&&dl(i);return a==null?!1:(e&&e(t.tr.lift(i,a).scrollIntoView()),!0)},HC=(t,e)=>{let{$head:r,$anchor:n}=t.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function Fv(t){for(let e=0;e<t.edgeCount;e++){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const I5=(t,e)=>{let{$head:r,$anchor:n}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let i=r.node(-1),a=r.indexAfter(-1),s=Fv(i.contentMatchAt(a));if(!s||!i.canReplaceWith(a,a,s))return!1;if(e){let o=r.after(),l=t.tr.replaceWith(o,o,s.createAndFill());l.setSelection(vt.near(l.doc.resolve(o),1)),e(l.scrollIntoView())}return!0},VC=(t,e)=>{let r=t.selection,{$from:n,$to:i}=r;if(r instanceof Fn||n.parent.inlineContent||i.parent.inlineContent)return!1;let a=Fv(i.parent.contentMatchAt(i.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){let s=(!n.parentOffset&&i.index()<i.parent.childCount?n:i).pos,o=t.tr.insert(s,a.createAndFill());o.setSelection(ot.create(o.doc,s+1)),e(o.scrollIntoView())}return!0},WC=(t,e)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let a=r.before();if(da(t.doc,a))return e&&e(t.tr.split(a).scrollIntoView()),!0}let n=r.blockRange(),i=n&&dl(n);return i==null?!1:(e&&e(t.tr.lift(n,i).scrollIntoView()),!0)};function R5(t){return(e,r)=>{let{$from:n,$to:i}=e.selection;if(e.selection instanceof Ke&&e.selection.node.isBlock)return!n.parentOffset||!da(e.doc,n.pos)?!1:(r&&r(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let a=[],s,o,l=!1,u=!1;for(let p=n.depth;;p--)if(n.node(p).isBlock){l=n.end(p)==n.pos+(n.depth-p),u=n.start(p)==n.pos-(n.depth-p),o=Fv(n.node(p-1).contentMatchAt(n.indexAfter(p-1))),a.unshift(l&&o?{type:o}:null),s=p;break}else{if(p==1)return!1;a.unshift(null)}let c=e.tr;(e.selection instanceof ot||e.selection instanceof Fn)&&c.deleteSelection();let f=c.mapping.map(n.pos),d=da(c.doc,f,a.length,a);if(d||(a[0]=o?{type:o}:null,d=da(c.doc,f,a.length,a)),!d)return!1;if(c.split(f,a.length,a),!l&&u&&n.node(s).type!=o){let p=c.mapping.map(n.before(s)),h=c.doc.resolve(p);o&&n.node(s-1).canReplaceWith(h.index(),h.index()+1,o)&&c.setNodeMarkup(c.mapping.map(n.before(s)),o)}return r&&r(c.scrollIntoView()),!0}}const P5=R5(),$5=(t,e)=>{let{$from:r,to:n}=t.selection,i,a=r.sharedDepth(n);return a==0?!1:(i=r.before(a),e&&e(t.tr.setSelection(Ke.create(t.doc,i))),!0)};function L5(t,e,r){let n=e.nodeBefore,i=e.nodeAfter,a=e.index();return!n||!i||!n.type.compatibleContent(i.type)?!1:!n.content.size&&e.parent.canReplace(a-1,a)?(r&&r(t.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(a,a+1)||!(i.isTextblock||ls(t.doc,e.pos))?!1:(r&&r(t.tr.join(e.pos).scrollIntoView()),!0)}function GC(t,e,r,n){let i=e.nodeBefore,a=e.nodeAfter,s,o,l=i.type.spec.isolating||a.type.spec.isolating;if(!l&&L5(t,e,r))return!0;let u=!l&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(s=(o=i.contentMatchAt(i.childCount)).findWrapping(a.type))&&o.matchType(s[0]||a.type).validEnd){if(r){let p=e.pos+a.nodeSize,h=Ne.empty;for(let y=s.length-1;y>=0;y--)h=Ne.from(s[y].create(null,h));h=Ne.from(i.copy(h));let m=t.tr.step(new Er(e.pos-1,p,e.pos,p,new Be(h,1,0),s.length,!0)),v=m.doc.resolve(p+2*s.length);v.nodeAfter&&v.nodeAfter.type==i.type&&ls(m.doc,v.pos)&&m.join(v.pos),r(m.scrollIntoView())}return!0}let c=a.type.spec.isolating||n>0&&l?null:vt.findFrom(e,1),f=c&&c.$from.blockRange(c.$to),d=f&&dl(f);if(d!=null&&d>=e.depth)return r&&r(t.tr.lift(f,d).scrollIntoView()),!0;if(u&&el(a,"start",!0)&&el(i,"end")){let p=i,h=[];for(;h.push(p),!p.isTextblock;)p=p.lastChild;let m=a,v=1;for(;!m.isTextblock;m=m.firstChild)v++;if(p.canReplace(p.childCount,p.childCount,m.content)){if(r){let y=Ne.empty;for(let g=h.length-1;g>=0;g--)y=Ne.from(h[g].copy(y));let S=t.tr.step(new Er(e.pos-h.length,e.pos+a.nodeSize,e.pos+v,e.pos+a.nodeSize-v,new Be(y,h.length,0),0,!0));r(S.scrollIntoView())}return!0}}return!1}function jC(t){return function(e,r){let n=e.selection,i=t<0?n.$from:n.$to,a=i.depth;for(;i.node(a).isInline;){if(!a)return!1;a--}return i.node(a).isTextblock?(r&&r(e.tr.setSelection(ot.create(e.doc,t<0?i.start(a):i.end(a)))),!0):!1}}const z5=jC(-1),q5=jC(1);function U5(t,e=null){return function(r,n){let{$from:i,$to:a}=r.selection,s=i.blockRange(a),o=s&&yv(s,t,e);return o?(n&&n(r.tr.wrap(s,o).scrollIntoView()),!0):!1}}function gb(t,e=null){return function(r,n){let i=!1;for(let a=0;a<r.selection.ranges.length&&!i;a++){let{$from:{pos:s},$to:{pos:o}}=r.selection.ranges[a];r.doc.nodesBetween(s,o,(l,u)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let c=r.doc.resolve(u),f=c.index();i=c.parent.canReplaceWith(f,f+1,t)}})}if(!i)return!1;if(n){let a=r.tr;for(let s=0;s<r.selection.ranges.length;s++){let{$from:{pos:o},$to:{pos:l}}=r.selection.ranges[s];a.setBlockType(o,l,t,e)}n(a.scrollIntoView())}return!0}}function Bv(...t){return function(e,r,n){for(let i=0;i<t.length;i++)if(t[i](e,r,n))return!0;return!1}}Bv(Tv,PC,LC);Bv(Tv,qC,UC);Bv(HC,VC,WC,P5);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function H5(t,e=null){return function(r,n){let{$from:i,$to:a}=r.selection,s=i.blockRange(a);if(!s)return!1;let o=n?r.tr:null;return V5(o,s,t,e)?(n&&n(o.scrollIntoView()),!0):!1}}function V5(t,e,r,n=null){let i=!1,a=e,s=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(r)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=s.resolve(e.start-2);a=new Hf(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new Hf(e.$from,s.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let o=yv(a,r,n,e);return o?(t&&W5(t,e,o,i,r),!0):!1}function W5(t,e,r,n,i){let a=Ne.empty;for(let c=r.length-1;c>=0;c--)a=Ne.from(r[c].type.create(r[c].attrs,a));t.step(new Er(e.start-(n?2:0),e.end,e.start,e.end,new Be(a,0,0),r.length,!0));let s=0;for(let c=0;c<r.length;c++)r[c].type==i&&(s=c+1);let o=r.length-s,l=e.start+r.length-(n?2:0),u=e.parent;for(let c=e.startIndex,f=e.endIndex,d=!0;c<f;c++,d=!1)!d&&da(t.doc,l,o)&&(t.split(l,o),l+=2*o),l+=u.child(c).nodeSize;return t}function G5(t){return function(e,r){let{$from:n,$to:i}=e.selection,a=n.blockRange(i,s=>s.childCount>0&&s.firstChild.type==t);return a?r?n.node(a.depth-1).type==t?j5(e,r,t,a):K5(e,r,a):!0:!1}}function j5(t,e,r,n){let i=t.tr,a=n.end,s=n.$to.end(n.depth);a<s&&(i.step(new Er(a-1,s,a,s,new Be(Ne.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new Hf(i.doc.resolve(n.$from.pos),i.doc.resolve(s),n.depth));const o=dl(n);if(o==null)return!1;i.lift(n,o);let l=i.doc.resolve(i.mapping.map(a,-1)-1);return ls(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),e(i.scrollIntoView()),!0}function K5(t,e,r){let n=t.tr,i=r.parent;for(let p=r.end,h=r.endIndex-1,m=r.startIndex;h>m;h--)p-=i.child(h).nodeSize,n.delete(p-1,p+1);let a=n.doc.resolve(r.start),s=a.nodeAfter;if(n.mapping.map(r.end)!=r.start+a.nodeAfter.nodeSize)return!1;let o=r.startIndex==0,l=r.endIndex==i.childCount,u=a.node(-1),c=a.index(-1);if(!u.canReplace(c+(o?0:1),c+1,s.content.append(l?Ne.empty:Ne.from(i))))return!1;let f=a.pos,d=f+s.nodeSize;return n.step(new Er(f-(o?1:0),d+(l?1:0),f+1,d-1,new Be((o?Ne.empty:Ne.from(i.copy(Ne.empty))).append(l?Ne.empty:Ne.from(i.copy(Ne.empty))),o?0:1,l?0:1),o?0:1)),e(n.scrollIntoView()),!0}function J5(t){return function(e,r){let{$from:n,$to:i}=e.selection,a=n.blockRange(i,u=>u.childCount>0&&u.firstChild.type==t);if(!a)return!1;let s=a.startIndex;if(s==0)return!1;let o=a.parent,l=o.child(s-1);if(l.type!=t)return!1;if(r){let u=l.lastChild&&l.lastChild.type==o.type,c=Ne.from(u?t.create():null),f=new Be(Ne.from(t.create(null,Ne.from(o.type.create(null,c)))),u?3:1,0),d=a.start,p=a.end;r(e.tr.step(new Er(d-(u?3:1),p,d,p,f,1,!0)).scrollIntoView())}return!0}}function wp(t){const{state:e,transaction:r}=t;let{selection:n}=r,{doc:i}=r,{storedMarks:a}=r;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return a},get selection(){return n},get doc(){return i},get tr(){return n=r.selection,i=r.doc,a=r.storedMarks,r}}}class Sp{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:r,state:n}=this,{view:i}=r,{tr:a}=n,s=this.buildProps(a);return Object.fromEntries(Object.entries(e).map(([o,l])=>[o,(...c)=>{const f=l(...c)(s);return!a.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(a),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,r=!0){const{rawCommands:n,editor:i,state:a}=this,{view:s}=i,o=[],l=!!e,u=e||a.tr,c=()=>(!l&&r&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(u),o.every(d=>d===!0)),f={...Object.fromEntries(Object.entries(n).map(([d,p])=>[d,(...m)=>{const v=this.buildProps(u,r),y=p(...m)(v);return o.push(y),f}])),run:c};return f}createCan(e){const{rawCommands:r,state:n}=this,i=!1,a=e||n.tr,s=this.buildProps(a,i);return{...Object.fromEntries(Object.entries(r).map(([l,u])=>[l,(...c)=>u(...c)({...s,dispatch:void 0})])),chain:()=>this.createChain(a,i)}}buildProps(e,r=!0){const{rawCommands:n,editor:i,state:a}=this,{view:s}=i,o={tr:e,editor:i,view:s,state:wp({state:a,transaction:e}),dispatch:r?()=>{}:void 0,chain:()=>this.createChain(e,r),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([l,u])=>[l,(...c)=>u(...c)(o)]))}};return o}}class Y5{constructor(){this.callbacks={}}on(e,r){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(r),this}emit(e,...r){const n=this.callbacks[e];return n&&n.forEach(i=>i.apply(this,r)),this}off(e,r){const n=this.callbacks[e];return n&&(r?this.callbacks[e]=n.filter(i=>i!==r):delete this.callbacks[e]),this}once(e,r){const n=(...i)=>{this.off(e,n),r.apply(this,i)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}}function $e(t,e,r){return t.config[e]===void 0&&t.parent?$e(t.parent,e,r):typeof t.config[e]=="function"?t.config[e].bind({...r,parent:t.parent?$e(t.parent,e,r):null}):t.config[e]}function Ep(t){const e=t.filter(i=>i.type==="extension"),r=t.filter(i=>i.type==="node"),n=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:r,markExtensions:n}}function KC(t){const e=[],{nodeExtensions:r,markExtensions:n}=Ep(t),i=[...r,...n],a={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(s=>{const o={name:s.name,options:s.options,storage:s.storage,extensions:i},l=$e(s,"addGlobalAttributes",o);if(!l)return;l().forEach(c=>{c.types.forEach(f=>{Object.entries(c.attributes).forEach(([d,p])=>{e.push({type:f,name:d,attribute:{...a,...p}})})})})}),i.forEach(s=>{const o={name:s.name,options:s.options,storage:s.storage},l=$e(s,"addAttributes",o);if(!l)return;const u=l();Object.entries(u).forEach(([c,f])=>{const d={...a,...f};typeof(d==null?void 0:d.default)=="function"&&(d.default=d.default()),d!=null&&d.isRequired&&(d==null?void 0:d.default)===void 0&&delete d.default,e.push({type:s.name,name:c,attribute:d})})}),e}function Dr(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function Cr(...t){return t.filter(e=>!!e).reduce((e,r)=>{const n={...e};return Object.entries(r).forEach(([i,a])=>{if(!n[i]){n[i]=a;return}if(i==="class"){const o=a?String(a).split(" "):[],l=n[i]?n[i].split(" "):[],u=o.filter(c=>!l.includes(c));n[i]=[...l,...u].join(" ")}else if(i==="style"){const o=a?a.split(";").map(c=>c.trim()).filter(Boolean):[],l=n[i]?n[i].split(";").map(c=>c.trim()).filter(Boolean):[],u=new Map;l.forEach(c=>{const[f,d]=c.split(":").map(p=>p.trim());u.set(f,d)}),o.forEach(c=>{const[f,d]=c.split(":").map(p=>p.trim());u.set(f,d)}),n[i]=Array.from(u.entries()).map(([c,f])=>`${c}: ${f}`).join("; ")}else n[i]=a}),n},{})}function lg(t,e){return e.filter(r=>r.type===t.type.name).filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(t.attrs)||{}:{[r.name]:t.attrs[r.name]}).reduce((r,n)=>Cr(r,n),{})}function JC(t){return typeof t=="function"}function xt(t,e=void 0,...r){return JC(t)?e?t.bind(e)(...r):t(...r):t}function X5(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Z5(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function vb(t,e){return"style"in t?t:{...t,getAttrs:r=>{const n=t.getAttrs?t.getAttrs(r):t.attrs;if(n===!1)return!1;const i=e.reduce((a,s)=>{const o=s.attribute.parseHTML?s.attribute.parseHTML(r):Z5(r.getAttribute(s.name));return o==null?a:{...a,[s.name]:o}},{});return{...n,...i}}}}function yb(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>e==="attrs"&&X5(r)?!1:r!=null))}function Q5(t,e){var r;const n=KC(t),{nodeExtensions:i,markExtensions:a}=Ep(t),s=(r=i.find(u=>$e(u,"topNode")))===null||r===void 0?void 0:r.name,o=Object.fromEntries(i.map(u=>{const c=n.filter(y=>y.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:e},d=t.reduce((y,S)=>{const g=$e(S,"extendNodeSchema",f);return{...y,...g?g(u):{}}},{}),p=yb({...d,content:xt($e(u,"content",f)),marks:xt($e(u,"marks",f)),group:xt($e(u,"group",f)),inline:xt($e(u,"inline",f)),atom:xt($e(u,"atom",f)),selectable:xt($e(u,"selectable",f)),draggable:xt($e(u,"draggable",f)),code:xt($e(u,"code",f)),whitespace:xt($e(u,"whitespace",f)),linebreakReplacement:xt($e(u,"linebreakReplacement",f)),defining:xt($e(u,"defining",f)),isolating:xt($e(u,"isolating",f)),attrs:Object.fromEntries(c.map(y=>{var S;return[y.name,{default:(S=y==null?void 0:y.attribute)===null||S===void 0?void 0:S.default}]}))}),h=xt($e(u,"parseHTML",f));h&&(p.parseDOM=h.map(y=>vb(y,c)));const m=$e(u,"renderHTML",f);m&&(p.toDOM=y=>m({node:y,HTMLAttributes:lg(y,c)}));const v=$e(u,"renderText",f);return v&&(p.toText=v),[u.name,p]})),l=Object.fromEntries(a.map(u=>{const c=n.filter(v=>v.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:e},d=t.reduce((v,y)=>{const S=$e(y,"extendMarkSchema",f);return{...v,...S?S(u):{}}},{}),p=yb({...d,inclusive:xt($e(u,"inclusive",f)),excludes:xt($e(u,"excludes",f)),group:xt($e(u,"group",f)),spanning:xt($e(u,"spanning",f)),code:xt($e(u,"code",f)),attrs:Object.fromEntries(c.map(v=>{var y;return[v.name,{default:(y=v==null?void 0:v.attribute)===null||y===void 0?void 0:y.default}]}))}),h=xt($e(u,"parseHTML",f));h&&(p.parseDOM=h.map(v=>vb(v,c)));const m=$e(u,"renderHTML",f);return m&&(p.toDOM=v=>m({mark:v,HTMLAttributes:lg(v,c)})),[u.name,p]}));return new PD({topNode:s,nodes:o,marks:l})}function Jh(t,e){return e.nodes[t]||e.marks[t]||null}function bb(t,e){return Array.isArray(e)?e.some(r=>(typeof r=="string"?r:r.name)===t.name):e}function kv(t,e){const r=ao.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(r),i.innerHTML}const e$=(t,e=500)=>{let r="";const n=t.parentOffset;return t.parent.nodesBetween(Math.max(0,n-e),n,(i,a,s,o)=>{var l,u;const c=((u=(l=i.type.spec).toText)===null||u===void 0?void 0:u.call(l,{node:i,pos:a,parent:s,index:o}))||i.textContent||"%leaf%";r+=i.isAtom&&!i.isText?c:c.slice(0,Math.max(0,n-a))}),r};function Iv(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class Ap{constructor(e){this.find=e.find,this.handler=e.handler}}const t$=(t,e)=>{if(Iv(e))return e.exec(t);const r=e(t);if(!r)return null;const n=[r.text];return n.index=r.index,n.input=t,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n};function Oc(t){var e;const{editor:r,from:n,to:i,text:a,rules:s,plugin:o}=t,{view:l}=r;if(l.composing)return!1;const u=l.state.doc.resolve(n);if(u.parent.type.spec.code||!((e=u.nodeBefore||u.nodeAfter)===null||e===void 0)&&e.marks.find(d=>d.type.spec.code))return!1;let c=!1;const f=e$(u)+a;return s.forEach(d=>{if(c)return;const p=t$(f,d.find);if(!p)return;const h=l.state.tr,m=wp({state:l.state,transaction:h}),v={from:n-(p[0].length-a.length),to:i},{commands:y,chain:S,can:g}=new Sp({editor:r,state:m});d.handler({state:m,range:v,match:p,commands:y,chain:S,can:g})===null||!h.steps.length||(h.setMeta(o,{transform:h,from:n,to:i,text:a}),l.dispatch(h),c=!0)}),c}function r$(t){const{editor:e,rules:r}=t,n=new Mr({state:{init(){return null},apply(i,a,s){const o=i.getMeta(n);if(o)return o;const l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:c}=l;typeof c=="string"?c=c:c=kv(Ne.from(c),s.schema);const{from:f}=l,d=f+c.length;Oc({editor:e,from:f,to:d,text:c,rules:r,plugin:n})}),i.selectionSet||i.docChanged?null:a}},props:{handleTextInput(i,a,s,o){return Oc({editor:e,from:a,to:s,text:o,rules:r,plugin:n})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:a}=i.state.selection;a&&Oc({editor:e,from:a.pos,to:a.pos,text:"",rules:r,plugin:n})}),!1)},handleKeyDown(i,a){if(a.key!=="Enter")return!1;const{$cursor:s}=i.state.selection;return s?Oc({editor:e,from:s.pos,to:s.pos,text:`
`,rules:r,plugin:n}):!1}},isInputRules:!0});return n}function n$(t){return Object.prototype.toString.call(t).slice(8,-1)}function Fc(t){return n$(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Np(t,e){const r={...t};return Fc(t)&&Fc(e)&&Object.keys(e).forEach(n=>{Fc(e[n])&&Fc(t[n])?r[n]=Np(t[n],e[n]):r[n]=e[n]}),r}class $i{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=xt($e(this,"addOptions",{name:this.name}))),this.storage=xt($e(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new $i(e)}configure(e={}){const r=this.extend({...this.config,addOptions:()=>Np(this.options,e)});return r.name=this.name,r.parent=this.parent,r}extend(e={}){const r=new $i(e);return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=xt($e(r,"addOptions",{name:r.name})),r.storage=xt($e(r,"addStorage",{name:r.name,options:r.options})),r}static handleExit({editor:e,mark:r}){const{tr:n}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const s=i.marks();if(!!!s.find(u=>(u==null?void 0:u.type.name)===r.name))return!1;const l=s.find(u=>(u==null?void 0:u.type.name)===r.name);return l&&n.removeStoredMark(l),n.insertText(" ",i.pos),e.view.dispatch(n),!0}return!1}}function i$(t){return typeof t=="number"}class a${constructor(e){this.find=e.find,this.handler=e.handler}}const s$=(t,e,r)=>{if(Iv(e))return[...t.matchAll(e)];const n=e(t,r);return n?n.map(i=>{const a=[i.text];return a.index=i.index,a.input=t,a.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),a.push(i.replaceWith)),a}):[]};function o$(t){const{editor:e,state:r,from:n,to:i,rule:a,pasteEvent:s,dropEvent:o}=t,{commands:l,chain:u,can:c}=new Sp({editor:e,state:r}),f=[];return r.doc.nodesBetween(n,i,(p,h)=>{if(!p.isTextblock||p.type.spec.code)return;const m=Math.max(n,h),v=Math.min(i,h+p.content.size),y=p.textBetween(m-h,v-h,void 0,"");s$(y,a.find,s).forEach(g=>{if(g.index===void 0)return;const w=m+g.index+1,x=w+g[0].length,b={from:r.tr.mapping.map(w),to:r.tr.mapping.map(x)},A=a.handler({state:r,range:b,match:g,commands:l,chain:u,can:c,pasteEvent:s,dropEvent:o});f.push(A)})}),f.every(p=>p!==null)}let Bc=null;const l$=t=>{var e;const r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=r.clipboardData)===null||e===void 0||e.setData("text/html",t),r};function u$(t){const{editor:e,rules:r}=t;let n=null,i=!1,a=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,o;try{o=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{o=null}const l=({state:c,from:f,to:d,rule:p,pasteEvt:h})=>{const m=c.tr,v=wp({state:c,transaction:m});if(!(!o$({editor:e,state:v,from:Math.max(f-1,0),to:d.b-1,rule:p,pasteEvent:h,dropEvent:o})||!m.steps.length)){try{o=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{o=null}return s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,m}};return r.map(c=>new Mr({view(f){const d=h=>{var m;n=!((m=f.dom.parentElement)===null||m===void 0)&&m.contains(h.target)?f.dom.parentElement:null,n&&(Bc=e)},p=()=>{Bc&&(Bc=null)};return window.addEventListener("dragstart",d),window.addEventListener("dragend",p),{destroy(){window.removeEventListener("dragstart",d),window.removeEventListener("dragend",p)}}},props:{handleDOMEvents:{drop:(f,d)=>{if(a=n===f.dom.parentElement,o=d,!a){const p=Bc;p&&setTimeout(()=>{const h=p.state.selection;h&&p.commands.deleteRange({from:h.from,to:h.to})},10)}return!1},paste:(f,d)=>{var p;const h=(p=d.clipboardData)===null||p===void 0?void 0:p.getData("text/html");return s=d,i=!!(h!=null&&h.includes("data-pm-slice")),!1}}},appendTransaction:(f,d,p)=>{const h=f[0],m=h.getMeta("uiEvent")==="paste"&&!i,v=h.getMeta("uiEvent")==="drop"&&!a,y=h.getMeta("applyPasteRules"),S=!!y;if(!m&&!v&&!S)return;if(S){let{text:x}=y;typeof x=="string"?x=x:x=kv(Ne.from(x),p.schema);const{from:b}=y,A=b+x.length,D=l$(x);return l({rule:c,state:p,from:b,to:{b:A},pasteEvt:D})}const g=d.doc.content.findDiffStart(p.doc.content),w=d.doc.content.findDiffEnd(p.doc.content);if(!(!i$(g)||!w||g===w.b))return l({rule:c,state:p,from:g,to:w,pasteEvt:s})}}))}function c$(t){const e=t.filter((r,n)=>t.indexOf(r)!==n);return Array.from(new Set(e))}class Fo{constructor(e,r){this.splittableMarks=[],this.editor=r,this.extensions=Fo.resolve(e),this.schema=Q5(this.extensions,r),this.setupExtensions()}static resolve(e){const r=Fo.sort(Fo.flatten(e)),n=c$(r.map(i=>i.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),r}static flatten(e){return e.map(r=>{const n={name:r.name,options:r.options,storage:r.storage},i=$e(r,"addExtensions",n);return i?[r,...this.flatten(i())]:r}).flat(10)}static sort(e){return e.sort((n,i)=>{const a=$e(n,"priority")||100,s=$e(i,"priority")||100;return a>s?-1:a<s?1:0})}get commands(){return this.extensions.reduce((e,r)=>{const n={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:Jh(r.name,this.schema)},i=$e(r,"addCommands",n);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,r=Fo.sort([...this.extensions].reverse()),n=[],i=[],a=r.map(s=>{const o={name:s.name,options:s.options,storage:s.storage,editor:e,type:Jh(s.name,this.schema)},l=[],u=$e(s,"addKeyboardShortcuts",o);let c={};if(s.type==="mark"&&$e(s,"exitable",o)&&(c.ArrowRight=()=>$i.handleExit({editor:e,mark:s})),u){const m=Object.fromEntries(Object.entries(u()).map(([v,y])=>[v,()=>y({editor:e})]));c={...c,...m}}const f=T5(c);l.push(f);const d=$e(s,"addInputRules",o);bb(s,e.options.enableInputRules)&&d&&n.push(...d());const p=$e(s,"addPasteRules",o);bb(s,e.options.enablePasteRules)&&p&&i.push(...p());const h=$e(s,"addProseMirrorPlugins",o);if(h){const m=h();l.push(...m)}return l}).flat();return[r$({editor:e,rules:n}),...u$({editor:e,rules:i}),...a]}get attributes(){return KC(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:r}=Ep(this.extensions);return Object.fromEntries(r.filter(n=>!!$e(n,"addNodeView")).map(n=>{const i=this.attributes.filter(l=>l.type===n.name),a={name:n.name,options:n.options,storage:n.storage,editor:e,type:Dr(n.name,this.schema)},s=$e(n,"addNodeView",a);if(!s)return[];const o=(l,u,c,f,d)=>{const p=lg(l,i);return s()({node:l,view:u,getPos:c,decorations:f,innerDecorations:d,editor:e,extension:n,HTMLAttributes:p})};return[n.name,o]}))}setupExtensions(){this.extensions.forEach(e=>{var r;this.editor.extensionStorage[e.name]=e.storage;const n={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Jh(e.name,this.schema)};e.type==="mark"&&(!((r=xt($e(e,"keepOnSplit",n)))!==null&&r!==void 0)||r)&&this.splittableMarks.push(e.name);const i=$e(e,"onBeforeCreate",n),a=$e(e,"onCreate",n),s=$e(e,"onUpdate",n),o=$e(e,"onSelectionUpdate",n),l=$e(e,"onTransaction",n),u=$e(e,"onFocus",n),c=$e(e,"onBlur",n),f=$e(e,"onDestroy",n);i&&this.editor.on("beforeCreate",i),a&&this.editor.on("create",a),s&&this.editor.on("update",s),o&&this.editor.on("selectionUpdate",o),l&&this.editor.on("transaction",l),u&&this.editor.on("focus",u),c&&this.editor.on("blur",c),f&&this.editor.on("destroy",f)})}}class $r{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=xt($e(this,"addOptions",{name:this.name}))),this.storage=xt($e(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new $r(e)}configure(e={}){const r=this.extend({...this.config,addOptions:()=>Np(this.options,e)});return r.name=this.name,r.parent=this.parent,r}extend(e={}){const r=new $r({...this.config,...e});return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=xt($e(r,"addOptions",{name:r.name})),r.storage=xt($e(r,"addStorage",{name:r.name,options:r.options})),r}}function YC(t,e,r){const{from:n,to:i}=e,{blockSeparator:a=`

`,textSerializers:s={}}=r||{};let o="";return t.nodesBetween(n,i,(l,u,c,f)=>{var d;l.isBlock&&u>n&&(o+=a);const p=s==null?void 0:s[l.type.name];if(p)return c&&(o+=p({node:l,pos:u,parent:c,index:f,range:e})),!1;l.isText&&(o+=(d=l==null?void 0:l.text)===null||d===void 0?void 0:d.slice(Math.max(n,u)-u,i-u))}),o}function XC(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,r])=>[e,r.spec.toText]))}const f$=$r.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Mr({key:new Cn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:r}=t,{doc:n,selection:i}=e,{ranges:a}=i,s=Math.min(...a.map(c=>c.$from.pos)),o=Math.max(...a.map(c=>c.$to.pos)),l=XC(r);return YC(n,{from:s,to:o},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),d$=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var r;t.isDestroyed||(e.dom.blur(),(r=window==null?void 0:window.getSelection())===null||r===void 0||r.removeAllRanges())}),!0),p$=(t=!1)=>({commands:e})=>e.setContent("",t),h$=()=>({state:t,tr:e,dispatch:r})=>{const{selection:n}=e,{ranges:i}=n;return r&&i.forEach(({$from:a,$to:s})=>{t.doc.nodesBetween(a.pos,s.pos,(o,l)=>{if(o.type.isText)return;const{doc:u,mapping:c}=e,f=u.resolve(c.map(l)),d=u.resolve(c.map(l+o.nodeSize)),p=f.blockRange(d);if(!p)return;const h=dl(p);if(o.type.isTextblock){const{defaultType:m}=f.parent.contentMatchAt(f.index());e.setNodeMarkup(p.start,m)}(h||h===0)&&e.lift(p,h)})}),!0},m$=t=>e=>t(e),g$=()=>({state:t,dispatch:e})=>VC(t,e),v$=(t,e)=>({editor:r,tr:n})=>{const{state:i}=r,a=i.doc.slice(t.from,t.to);n.deleteRange(t.from,t.to);const s=n.mapping.map(e);return n.insert(s,a.content),n.setSelection(new ot(n.doc.resolve(s-1))),!0},y$=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,n=r.$anchor.node();if(n.content.size>0)return!1;const i=t.selection.$anchor;for(let a=i.depth;a>0;a-=1)if(i.node(a).type===n.type){if(e){const o=i.before(a),l=i.after(a);t.delete(o,l).scrollIntoView()}return!0}return!1},b$=t=>({tr:e,state:r,dispatch:n})=>{const i=Dr(t,r.schema),a=e.selection.$anchor;for(let s=a.depth;s>0;s-=1)if(a.node(s).type===i){if(n){const l=a.before(s),u=a.after(s);e.delete(l,u).scrollIntoView()}return!0}return!1},x$=t=>({tr:e,dispatch:r})=>{const{from:n,to:i}=t;return r&&e.delete(n,i),!0},w$=()=>({state:t,dispatch:e})=>Tv(t,e),S$=()=>({commands:t})=>t.keyboardShortcut("Enter"),E$=()=>({state:t,dispatch:e})=>I5(t,e);function Xf(t,e,r={strict:!0}){const n=Object.keys(e);return n.length?n.every(i=>r.strict?e[i]===t[i]:Iv(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function ZC(t,e,r={}){return t.find(n=>n.type===e&&Xf(Object.fromEntries(Object.keys(r).map(i=>[i,n.attrs[i]])),r))}function xb(t,e,r={}){return!!ZC(t,e,r)}function Rv(t,e,r){var n;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(c=>c.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(c=>c.type===e)||(r=r||((n=i.node.marks[0])===null||n===void 0?void 0:n.attrs),!ZC([...i.node.marks],e,r)))return;let s=i.index,o=t.start()+i.offset,l=s+1,u=o+i.node.nodeSize;for(;s>0&&xb([...t.parent.child(s-1).marks],e,r);)s-=1,o-=t.parent.child(s).nodeSize;for(;l<t.parent.childCount&&xb([...t.parent.child(l).marks],e,r);)u+=t.parent.child(l).nodeSize,l+=1;return{from:o,to:u}}function cs(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const A$=(t,e={})=>({tr:r,state:n,dispatch:i})=>{const a=cs(t,n.schema),{doc:s,selection:o}=r,{$from:l,from:u,to:c}=o;if(i){const f=Rv(l,a,e);if(f&&f.from<=u&&f.to>=c){const d=ot.create(s,f.from,f.to);r.setSelection(d)}}return!0},N$=t=>e=>{const r=typeof t=="function"?t(e):t;for(let n=0;n<r.length;n+=1)if(r[n](e))return!0;return!1};function QC(t){return t instanceof ot}function Is(t=0,e=0,r=0){return Math.min(Math.max(t,e),r)}function e2(t,e=null){if(!e)return null;const r=vt.atStart(t),n=vt.atEnd(t);if(e==="start"||e===!0)return r;if(e==="end")return n;const i=r.from,a=n.to;return e==="all"?ot.create(t,Is(0,i,a),Is(t.content.size,i,a)):ot.create(t,Is(e,i,a),Is(e,i,a))}function D$(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Pv(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const C$=(t=null,e={})=>({editor:r,view:n,tr:i,dispatch:a})=>{e={scrollIntoView:!0,...e};const s=()=>{(Pv()||D$())&&n.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),e!=null&&e.scrollIntoView&&r.commands.scrollIntoView())})};if(n.hasFocus()&&t===null||t===!1)return!0;if(a&&t===null&&!QC(r.state.selection))return s(),!0;const o=e2(i.doc,t)||r.state.selection,l=r.state.selection.eq(o);return a&&(l||i.setSelection(o),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},M$=(t,e)=>r=>t.every((n,i)=>e(n,{...r,index:i})),T$=(t,e)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},t,e),t2=t=>{const e=t.childNodes;for(let r=e.length-1;r>=0;r-=1){const n=e[r];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?t.removeChild(n):n.nodeType===1&&t2(n)}return t};function kc(t){const e=`<body>${t}</body>`,r=new window.DOMParser().parseFromString(e,"text/html").body;return t2(r)}function Zf(t,e,r){if(t instanceof Ka||t instanceof Ne)return t;r={slice:!0,parseOptions:{},...r};const n=typeof t=="object"&&t!==null,i=typeof t=="string";if(n)try{if(Array.isArray(t)&&t.length>0)return Ne.fromArray(t.map(o=>e.nodeFromJSON(o)));const s=e.nodeFromJSON(t);return r.errorOnInvalidContent&&s.check(),s}catch(a){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:a});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",a),Zf("",e,r)}if(i){if(r.errorOnInvalidContent){let s=!1,o="";const l=new PD({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(s=!0,o=typeof u=="string"?u:u.outerHTML,null)}]}})});if(r.slice?Ja.fromSchema(l).parseSlice(kc(t),r.parseOptions):Ja.fromSchema(l).parse(kc(t),r.parseOptions),r.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${o}`)})}const a=Ja.fromSchema(e);return r.slice?a.parseSlice(kc(t),r.parseOptions).content:a.parse(kc(t),r.parseOptions)}return Zf("",e,r)}function _$(t,e,r){const n=t.steps.length-1;if(n<e)return;const i=t.steps[n];if(!(i instanceof xr||i instanceof Er))return;const a=t.mapping.maps[n];let s=0;a.forEach((o,l,u,c)=>{s===0&&(s=c)}),t.setSelection(vt.near(t.doc.resolve(s),r))}const O$=t=>!("type"in t),F$=(t,e,r)=>({tr:n,dispatch:i,editor:a})=>{var s;if(i){r={parseOptions:a.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...r};let o;try{o=Zf(e,a.schema,{parseOptions:{preserveWhitespace:"full",...r.parseOptions},errorOnInvalidContent:(s=r.errorOnInvalidContent)!==null&&s!==void 0?s:a.options.enableContentCheck})}catch(h){return a.emit("contentError",{editor:a,error:h,disableCollaboration:()=>{a.storage.collaboration&&(a.storage.collaboration.isDisabled=!0)}}),!1}let{from:l,to:u}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},c=!0,f=!0;if((O$(o)?o:[o]).forEach(h=>{h.check(),c=c?h.isText&&h.marks.length===0:!1,f=f?h.isBlock:!1}),l===u&&f){const{parent:h}=n.doc.resolve(l);h.isTextblock&&!h.type.spec.code&&!h.childCount&&(l-=1,u+=1)}let p;if(c){if(Array.isArray(e))p=e.map(h=>h.text||"").join("");else if(e instanceof Ne){let h="";e.forEach(m=>{m.text&&(h+=m.text)}),p=h}else typeof e=="object"&&e&&e.text?p=e.text:p=e;n.insertText(p,l,u)}else p=o,n.replaceWith(l,u,p);r.updateSelection&&_$(n,n.steps.length-1,-1),r.applyInputRules&&n.setMeta("applyInputRules",{from:l,text:p}),r.applyPasteRules&&n.setMeta("applyPasteRules",{from:l,text:p})}return!0},B$=()=>({state:t,dispatch:e})=>F5(t,e),k$=()=>({state:t,dispatch:e})=>B5(t,e),I$=()=>({state:t,dispatch:e})=>PC(t,e),R$=()=>({state:t,dispatch:e})=>qC(t,e),P$=()=>({state:t,dispatch:e,tr:r})=>{try{const n=mp(t.doc,t.selection.$from.pos,-1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},$$=()=>({state:t,dispatch:e,tr:r})=>{try{const n=mp(t.doc,t.selection.$from.pos,1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},L$=()=>({state:t,dispatch:e})=>_5(t,e),z$=()=>({state:t,dispatch:e})=>O5(t,e);function r2(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function q$(t){const e=t.split(/-(?!$)/);let r=e[e.length-1];r==="Space"&&(r=" ");let n,i,a,s;for(let o=0;o<e.length-1;o+=1){const l=e[o];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))a=!0;else if(/^mod$/i.test(l))Pv()||r2()?s=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return n&&(r=`Alt-${r}`),i&&(r=`Ctrl-${r}`),s&&(r=`Meta-${r}`),a&&(r=`Shift-${r}`),r}const U$=t=>({editor:e,view:r,tr:n,dispatch:i})=>{const a=q$(t).split(/-(?!$)/),s=a.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),o=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:a.includes("Alt"),ctrlKey:a.includes("Ctrl"),metaKey:a.includes("Meta"),shiftKey:a.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{r.someProp("handleKeyDown",u=>u(r,o))});return l==null||l.steps.forEach(u=>{const c=u.map(n.mapping);c&&i&&n.maybeStep(c)}),!0};function _u(t,e,r={}){const{from:n,to:i,empty:a}=t.selection,s=e?Dr(e,t.schema):null,o=[];t.doc.nodesBetween(n,i,(f,d)=>{if(f.isText)return;const p=Math.max(n,d),h=Math.min(i,d+f.nodeSize);o.push({node:f,from:p,to:h})});const l=i-n,u=o.filter(f=>s?s.name===f.node.type.name:!0).filter(f=>Xf(f.node.attrs,r,{strict:!1}));return a?!!u.length:u.reduce((f,d)=>f+d.to-d.from,0)>=l}const H$=(t,e={})=>({state:r,dispatch:n})=>{const i=Dr(t,r.schema);return _u(r,i,e)?k5(r,n):!1},V$=()=>({state:t,dispatch:e})=>WC(t,e),W$=t=>({state:e,dispatch:r})=>{const n=Dr(t,e.schema);return G5(n)(e,r)},G$=()=>({state:t,dispatch:e})=>HC(t,e);function Dp(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function wb(t,e){const r=typeof e=="string"?[e]:e;return Object.keys(t).reduce((n,i)=>(r.includes(i)||(n[i]=t[i]),n),{})}const j$=(t,e)=>({tr:r,state:n,dispatch:i})=>{let a=null,s=null;const o=Dp(typeof t=="string"?t:t.name,n.schema);return o?(o==="node"&&(a=Dr(t,n.schema)),o==="mark"&&(s=cs(t,n.schema)),i&&r.selection.ranges.forEach(l=>{n.doc.nodesBetween(l.$from.pos,l.$to.pos,(u,c)=>{a&&a===u.type&&r.setNodeMarkup(c,void 0,wb(u.attrs,e)),s&&u.marks.length&&u.marks.forEach(f=>{s===f.type&&r.addMark(c,c+u.nodeSize,s.create(wb(f.attrs,e)))})})}),!0):!1},K$=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),J$=()=>({tr:t,dispatch:e})=>{if(e){const r=new Fn(t.doc);t.setSelection(r)}return!0},Y$=()=>({state:t,dispatch:e})=>LC(t,e),X$=()=>({state:t,dispatch:e})=>UC(t,e),Z$=()=>({state:t,dispatch:e})=>$5(t,e),Q$=()=>({state:t,dispatch:e})=>q5(t,e),eL=()=>({state:t,dispatch:e})=>z5(t,e);function ug(t,e,r={},n={}){return Zf(t,e,{slice:!1,parseOptions:r,errorOnInvalidContent:n.errorOnInvalidContent})}const tL=(t,e=!1,r={},n={})=>({editor:i,tr:a,dispatch:s,commands:o})=>{var l,u;const{doc:c}=a;if(r.preserveWhitespace!=="full"){const f=ug(t,i.schema,r,{errorOnInvalidContent:(l=n.errorOnInvalidContent)!==null&&l!==void 0?l:i.options.enableContentCheck});return s&&a.replaceWith(0,c.content.size,f).setMeta("preventUpdate",!e),!0}return s&&a.setMeta("preventUpdate",!e),o.insertContentAt({from:0,to:c.content.size},t,{parseOptions:r,errorOnInvalidContent:(u=n.errorOnInvalidContent)!==null&&u!==void 0?u:i.options.enableContentCheck})};function n2(t,e){const r=cs(e,t.schema),{from:n,to:i,empty:a}=t.selection,s=[];a?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(n,i,l=>{s.push(...l.marks)});const o=s.find(l=>l.type.name===r.name);return o?{...o.attrs}:{}}function rL(t,e){const r=new QD(t);return e.forEach(n=>{n.steps.forEach(i=>{r.step(i)})}),r}function nL(t){for(let e=0;e<t.edgeCount;e+=1){const{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function iL(t,e,r){const n=[];return t.nodesBetween(e.from,e.to,(i,a)=>{r(i)&&n.push({node:i,pos:a})}),n}function aL(t,e){for(let r=t.depth;r>0;r-=1){const n=t.node(r);if(e(n))return{pos:r>0?t.before(r):0,start:t.start(r),depth:r,node:n}}}function $v(t){return e=>aL(e.$from,t)}function sL(t,e){const r={from:0,to:t.content.size};return YC(t,r,e)}function oL(t,e){const r=Dr(e,t.schema),{from:n,to:i}=t.selection,a=[];t.doc.nodesBetween(n,i,o=>{a.push(o)});const s=a.reverse().find(o=>o.type.name===r.name);return s?{...s.attrs}:{}}function i2(t,e){const r=Dp(typeof e=="string"?e:e.name,t.schema);return r==="node"?oL(t,e):r==="mark"?n2(t,e):{}}function lL(t,e=JSON.stringify){const r={};return t.filter(n=>{const i=e(n);return Object.prototype.hasOwnProperty.call(r,i)?!1:r[i]=!0})}function uL(t){const e=lL(t);return e.length===1?e:e.filter((r,n)=>!e.filter((a,s)=>s!==n).some(a=>r.oldRange.from>=a.oldRange.from&&r.oldRange.to<=a.oldRange.to&&r.newRange.from>=a.newRange.from&&r.newRange.to<=a.newRange.to))}function cL(t){const{mapping:e,steps:r}=t,n=[];return e.maps.forEach((i,a)=>{const s=[];if(i.ranges.length)i.forEach((o,l)=>{s.push({from:o,to:l})});else{const{from:o,to:l}=r[a];if(o===void 0||l===void 0)return;s.push({from:o,to:l})}s.forEach(({from:o,to:l})=>{const u=e.slice(a).map(o,-1),c=e.slice(a).map(l),f=e.invert().map(u,-1),d=e.invert().map(c);n.push({oldRange:{from:f,to:d},newRange:{from:u,to:c}})})}),uL(n)}function Lv(t,e,r){const n=[];return t===e?r.resolve(t).marks().forEach(i=>{const a=r.resolve(t),s=Rv(a,i.type);s&&n.push({mark:i,...s})}):r.nodesBetween(t,e,(i,a)=>{!i||(i==null?void 0:i.nodeSize)===void 0||n.push(...i.marks.map(s=>({from:a,to:a+i.nodeSize,mark:s})))}),n}function vf(t,e,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{const i=t.find(a=>a.type===e&&a.name===n);return i?i.attribute.keepOnSplit:!1}))}function cg(t,e,r={}){const{empty:n,ranges:i}=t.selection,a=e?cs(e,t.schema):null;if(n)return!!(t.storedMarks||t.selection.$from.marks()).filter(f=>a?a.name===f.type.name:!0).find(f=>Xf(f.attrs,r,{strict:!1}));let s=0;const o=[];if(i.forEach(({$from:f,$to:d})=>{const p=f.pos,h=d.pos;t.doc.nodesBetween(p,h,(m,v)=>{if(!m.isText&&!m.marks.length)return;const y=Math.max(p,v),S=Math.min(h,v+m.nodeSize),g=S-y;s+=g,o.push(...m.marks.map(w=>({mark:w,from:y,to:S})))})}),s===0)return!1;const l=o.filter(f=>a?a.name===f.mark.type.name:!0).filter(f=>Xf(f.mark.attrs,r,{strict:!1})).reduce((f,d)=>f+d.to-d.from,0),u=o.filter(f=>a?f.mark.type!==a&&f.mark.type.excludes(a):!0).reduce((f,d)=>f+d.to-d.from,0);return(l>0?l+u:l)>=s}function fL(t,e,r={}){if(!e)return _u(t,null,r)||cg(t,null,r);const n=Dp(e,t.schema);return n==="node"?_u(t,e,r):n==="mark"?cg(t,e,r):!1}function Sb(t,e){const{nodeExtensions:r}=Ep(e),n=r.find(s=>s.name===t);if(!n)return!1;const i={name:n.name,options:n.options,storage:n.storage},a=xt($e(n,"group",i));return typeof a!="string"?!1:a.split(" ").includes("list")}function Cp(t,{checkChildren:e=!0,ignoreWhitespace:r=!1}={}){var n;if(r){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((n=t.text)!==null&&n!==void 0?n:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(a=>{i!==!1&&(Cp(a,{ignoreWhitespace:r,checkChildren:e})||(i=!1))}),i}return!1}function dL(t){return t instanceof Ke}function pL(t,e,r){var n;const{selection:i}=e;let a=null;if(QC(i)&&(a=i.$cursor),a){const o=(n=t.storedMarks)!==null&&n!==void 0?n:a.marks();return!!r.isInSet(o)||!o.some(l=>l.type.excludes(r))}const{ranges:s}=i;return s.some(({$from:o,$to:l})=>{let u=o.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(r):!1;return t.doc.nodesBetween(o.pos,l.pos,(c,f,d)=>{if(u)return!1;if(c.isInline){const p=!d||d.type.allowsMarkType(r),h=!!r.isInSet(c.marks)||!c.marks.some(m=>m.type.excludes(r));u=p&&h}return!u}),u})}const hL=(t,e={})=>({tr:r,state:n,dispatch:i})=>{const{selection:a}=r,{empty:s,ranges:o}=a,l=cs(t,n.schema);if(i)if(s){const u=n2(n,l);r.addStoredMark(l.create({...u,...e}))}else o.forEach(u=>{const c=u.$from.pos,f=u.$to.pos;n.doc.nodesBetween(c,f,(d,p)=>{const h=Math.max(p,c),m=Math.min(p+d.nodeSize,f);d.marks.find(y=>y.type===l)?d.marks.forEach(y=>{l===y.type&&r.addMark(h,m,l.create({...y.attrs,...e}))}):r.addMark(h,m,l.create(e))})});return pL(n,r,l)},mL=(t,e)=>({tr:r})=>(r.setMeta(t,e),!0),gL=(t,e={})=>({state:r,dispatch:n,chain:i})=>{const a=Dr(t,r.schema);let s;return r.selection.$anchor.sameParent(r.selection.$head)&&(s=r.selection.$anchor.parent.attrs),a.isTextblock?i().command(({commands:o})=>gb(a,{...s,...e})(r)?!0:o.clearNodes()).command(({state:o})=>gb(a,{...s,...e})(o,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},vL=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,i=Is(t,0,n.content.size),a=Ke.create(n,i);e.setSelection(a)}return!0},yL=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,{from:i,to:a}=typeof t=="number"?{from:t,to:t}:t,s=ot.atStart(n).from,o=ot.atEnd(n).to,l=Is(i,s,o),u=Is(a,s,o),c=ot.create(n,l,u);e.setSelection(c)}return!0},bL=t=>({state:e,dispatch:r})=>{const n=Dr(t,e.schema);return J5(n)(e,r)};function Eb(t,e){const r=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(r){const n=r.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(n)}}const xL=({keepMarks:t=!0}={})=>({tr:e,state:r,dispatch:n,editor:i})=>{const{selection:a,doc:s}=e,{$from:o,$to:l}=a,u=i.extensionManager.attributes,c=vf(u,o.node().type.name,o.node().attrs);if(a instanceof Ke&&a.node.isBlock)return!o.parentOffset||!da(s,o.pos)?!1:(n&&(t&&Eb(r,i.extensionManager.splittableMarks),e.split(o.pos).scrollIntoView()),!0);if(!o.parent.isBlock)return!1;const f=l.parentOffset===l.parent.content.size,d=o.depth===0?void 0:nL(o.node(-1).contentMatchAt(o.indexAfter(-1)));let p=f&&d?[{type:d,attrs:c}]:void 0,h=da(e.doc,e.mapping.map(o.pos),1,p);if(!p&&!h&&da(e.doc,e.mapping.map(o.pos),1,d?[{type:d}]:void 0)&&(h=!0,p=d?[{type:d,attrs:c}]:void 0),n){if(h&&(a instanceof ot&&e.deleteSelection(),e.split(e.mapping.map(o.pos),1,p),d&&!f&&!o.parentOffset&&o.parent.type!==d)){const m=e.mapping.map(o.before()),v=e.doc.resolve(m);o.node(-1).canReplaceWith(v.index(),v.index()+1,d)&&e.setNodeMarkup(e.mapping.map(o.before()),d)}t&&Eb(r,i.extensionManager.splittableMarks),e.scrollIntoView()}return h},wL=(t,e={})=>({tr:r,state:n,dispatch:i,editor:a})=>{var s;const o=Dr(t,n.schema),{$from:l,$to:u}=n.selection,c=n.selection.node;if(c&&c.isBlock||l.depth<2||!l.sameParent(u))return!1;const f=l.node(-1);if(f.type!==o)return!1;const d=a.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==o||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let y=Ne.empty;const S=l.index(-1)?1:l.index(-2)?2:3;for(let D=l.depth-S;D>=l.depth-3;D-=1)y=Ne.from(l.node(D).copy(y));const g=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,w={...vf(d,l.node().type.name,l.node().attrs),...e},x=((s=o.contentMatch.defaultType)===null||s===void 0?void 0:s.createAndFill(w))||void 0;y=y.append(Ne.from(o.createAndFill(null,x)||void 0));const b=l.before(l.depth-(S-1));r.replace(b,l.after(-g),new Be(y,4-S,0));let A=-1;r.doc.nodesBetween(b,r.doc.content.size,(D,E)=>{if(A>-1)return!1;D.isTextblock&&D.content.size===0&&(A=E+1)}),A>-1&&r.setSelection(ot.near(r.doc.resolve(A))),r.scrollIntoView()}return!0}const p=u.pos===l.end()?f.contentMatchAt(0).defaultType:null,h={...vf(d,f.type.name,f.attrs),...e},m={...vf(d,l.node().type.name,l.node().attrs),...e};r.delete(l.pos,u.pos);const v=p?[{type:o,attrs:h},{type:p,attrs:m}]:[{type:o,attrs:h}];if(!da(r.doc,l.pos,2))return!1;if(i){const{selection:y,storedMarks:S}=n,{splittableMarks:g}=a.extensionManager,w=S||y.$to.parentOffset&&y.$from.marks();if(r.split(l.pos,2,v).scrollIntoView(),!w||!i)return!0;const x=w.filter(b=>g.includes(b.type.name));r.ensureMarks(x)}return!0},Yh=(t,e)=>{const r=$v(s=>s.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;const i=t.doc.nodeAt(n);return r.node.type===(i==null?void 0:i.type)&&ls(t.doc,r.pos)&&t.join(r.pos),!0},Xh=(t,e)=>{const r=$v(s=>s.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;const i=t.doc.nodeAt(n);return r.node.type===(i==null?void 0:i.type)&&ls(t.doc,n)&&t.join(n),!0},SL=(t,e,r,n={})=>({editor:i,tr:a,state:s,dispatch:o,chain:l,commands:u,can:c})=>{const{extensions:f,splittableMarks:d}=i.extensionManager,p=Dr(t,s.schema),h=Dr(e,s.schema),{selection:m,storedMarks:v}=s,{$from:y,$to:S}=m,g=y.blockRange(S),w=v||m.$to.parentOffset&&m.$from.marks();if(!g)return!1;const x=$v(b=>Sb(b.type.name,f))(m);if(g.depth>=1&&x&&g.depth-x.depth<=1){if(x.node.type===p)return u.liftListItem(h);if(Sb(x.node.type.name,f)&&p.validContent(x.node.content)&&o)return l().command(()=>(a.setNodeMarkup(x.pos,p),!0)).command(()=>Yh(a,p)).command(()=>Xh(a,p)).run()}return!r||!w||!o?l().command(()=>c().wrapInList(p,n)?!0:u.clearNodes()).wrapInList(p,n).command(()=>Yh(a,p)).command(()=>Xh(a,p)).run():l().command(()=>{const b=c().wrapInList(p,n),A=w.filter(D=>d.includes(D.type.name));return a.ensureMarks(A),b?!0:u.clearNodes()}).wrapInList(p,n).command(()=>Yh(a,p)).command(()=>Xh(a,p)).run()},EL=(t,e={},r={})=>({state:n,commands:i})=>{const{extendEmptyMarkRange:a=!1}=r,s=cs(t,n.schema);return cg(n,s,e)?i.unsetMark(s,{extendEmptyMarkRange:a}):i.setMark(s,e)},AL=(t,e,r={})=>({state:n,commands:i})=>{const a=Dr(t,n.schema),s=Dr(e,n.schema),o=_u(n,a,r);let l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),o?i.setNode(s,l):i.setNode(a,{...l,...r})},NL=(t,e={})=>({state:r,commands:n})=>{const i=Dr(t,r.schema);return _u(r,i,e)?n.lift(i):n.wrapIn(i,e)},DL=()=>({state:t,dispatch:e})=>{const r=t.plugins;for(let n=0;n<r.length;n+=1){const i=r[n];let a;if(i.spec.isInputRules&&(a=i.getState(t))){if(e){const s=t.tr,o=a.transform;for(let l=o.steps.length-1;l>=0;l-=1)s.step(o.steps[l].invert(o.docs[l]));if(a.text){const l=s.doc.resolve(a.from).marks();s.replaceWith(a.from,a.to,t.schema.text(a.text,l))}else s.delete(a.from,a.to)}return!0}}return!1},CL=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,{empty:n,ranges:i}=r;return n||e&&i.forEach(a=>{t.removeMark(a.$from.pos,a.$to.pos)}),!0},ML=(t,e={})=>({tr:r,state:n,dispatch:i})=>{var a;const{extendEmptyMarkRange:s=!1}=e,{selection:o}=r,l=cs(t,n.schema),{$from:u,empty:c,ranges:f}=o;if(!i)return!0;if(c&&s){let{from:d,to:p}=o;const h=(a=u.marks().find(v=>v.type===l))===null||a===void 0?void 0:a.attrs,m=Rv(u,l,h);m&&(d=m.from,p=m.to),r.removeMark(d,p,l)}else f.forEach(d=>{r.removeMark(d.$from.pos,d.$to.pos,l)});return r.removeStoredMark(l),!0},TL=(t,e={})=>({tr:r,state:n,dispatch:i})=>{let a=null,s=null;const o=Dp(typeof t=="string"?t:t.name,n.schema);return o?(o==="node"&&(a=Dr(t,n.schema)),o==="mark"&&(s=cs(t,n.schema)),i&&r.selection.ranges.forEach(l=>{const u=l.$from.pos,c=l.$to.pos;let f,d,p,h;r.selection.empty?n.doc.nodesBetween(u,c,(m,v)=>{a&&a===m.type&&(p=Math.max(v,u),h=Math.min(v+m.nodeSize,c),f=v,d=m)}):n.doc.nodesBetween(u,c,(m,v)=>{v<u&&a&&a===m.type&&(p=Math.max(v,u),h=Math.min(v+m.nodeSize,c),f=v,d=m),v>=u&&v<=c&&(a&&a===m.type&&r.setNodeMarkup(v,void 0,{...m.attrs,...e}),s&&m.marks.length&&m.marks.forEach(y=>{if(s===y.type){const S=Math.max(v,u),g=Math.min(v+m.nodeSize,c);r.addMark(S,g,s.create({...y.attrs,...e}))}}))}),d&&(f!==void 0&&r.setNodeMarkup(f,void 0,{...d.attrs,...e}),s&&d.marks.length&&d.marks.forEach(m=>{s===m.type&&r.addMark(p,h,s.create({...m.attrs,...e}))}))}),!0):!1},_L=(t,e={})=>({state:r,dispatch:n})=>{const i=Dr(t,r.schema);return U5(i,e)(r,n)},OL=(t,e={})=>({state:r,dispatch:n})=>{const i=Dr(t,r.schema);return H5(i,e)(r,n)};var FL=Object.freeze({__proto__:null,blur:d$,clearContent:p$,clearNodes:h$,command:m$,createParagraphNear:g$,cut:v$,deleteCurrentNode:y$,deleteNode:b$,deleteRange:x$,deleteSelection:w$,enter:S$,exitCode:E$,extendMarkRange:A$,first:N$,focus:C$,forEach:M$,insertContent:T$,insertContentAt:F$,joinBackward:I$,joinDown:k$,joinForward:R$,joinItemBackward:P$,joinItemForward:$$,joinTextblockBackward:L$,joinTextblockForward:z$,joinUp:B$,keyboardShortcut:U$,lift:H$,liftEmptyBlock:V$,liftListItem:W$,newlineInCode:G$,resetAttributes:j$,scrollIntoView:K$,selectAll:J$,selectNodeBackward:Y$,selectNodeForward:X$,selectParentNode:Z$,selectTextblockEnd:Q$,selectTextblockStart:eL,setContent:tL,setMark:hL,setMeta:mL,setNode:gL,setNodeSelection:vL,setTextSelection:yL,sinkListItem:bL,splitBlock:xL,splitListItem:wL,toggleList:SL,toggleMark:EL,toggleNode:AL,toggleWrap:NL,undoInputRule:DL,unsetAllMarks:CL,unsetMark:ML,updateAttributes:TL,wrapIn:_L,wrapInList:OL});const BL=$r.create({name:"commands",addCommands(){return{...FL}}}),kL=$r.create({name:"drop",addProseMirrorPlugins(){return[new Mr({key:new Cn("tiptapDrop"),props:{handleDrop:(t,e,r,n)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:r,moved:n})}}})]}}),IL=$r.create({name:"editable",addProseMirrorPlugins(){return[new Mr({key:new Cn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),RL=new Cn("focusEvents"),PL=$r.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Mr({key:RL,props:{handleDOMEvents:{focus:(e,r)=>{t.isFocused=!0;const n=t.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,r)=>{t.isFocused=!1;const n=t.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}}),$L=$r.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:o})=>{const{selection:l,doc:u}=o,{empty:c,$anchor:f}=l,{pos:d,parent:p}=f,h=f.parent.isTextblock&&d>0?o.doc.resolve(d-1):f,m=h.parent.type.spec.isolating,v=f.pos-f.parentOffset,y=m&&h.parent.childCount===1?v===f.pos:vt.atStart(u).from===d;return!c||!p.type.isTextblock||p.textContent.length||!y||y&&f.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...n},a={...n,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Pv()||r2()?a:i},addProseMirrorPlugins(){return[new Mr({key:new Cn("clearDocument"),appendTransaction:(t,e,r)=>{if(t.some(m=>m.getMeta("composition")))return;const n=t.some(m=>m.docChanged)&&!e.doc.eq(r.doc),i=t.some(m=>m.getMeta("preventClearDocument"));if(!n||i)return;const{empty:a,from:s,to:o}=e.selection,l=vt.atStart(e.doc).from,u=vt.atEnd(e.doc).to;if(a||!(s===l&&o===u)||!Cp(r.doc))return;const d=r.tr,p=wp({state:r,transaction:d}),{commands:h}=new Sp({editor:this.editor,state:p});if(h.clearNodes(),!!d.steps.length)return d}})]}}),LL=$r.create({name:"paste",addProseMirrorPlugins(){return[new Mr({key:new Cn("tiptapPaste"),props:{handlePaste:(t,e,r)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:r})}}})]}}),zL=$r.create({name:"tabindex",addProseMirrorPlugins(){return[new Mr({key:new Cn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class _s{get name(){return this.node.type.name}constructor(e,r,n=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=r,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let r=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}r=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:r,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(e);return new _s(r,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new _s(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new _s(e,this.editor)}get children(){const e=[];return this.node.content.forEach((r,n)=>{const i=r.isBlock&&!r.isTextblock,a=r.isAtom&&!r.isText,s=this.pos+n+(a?0:1),o=this.resolvedPos.doc.resolve(s);if(!i&&o.depth<=this.depth)return;const l=new _s(o,this.editor,i,i?r:null);i&&(l.actualDepth=this.depth+1),e.push(new _s(o,this.editor,i,i?r:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,r={}){let n=null,i=this.parent;for(;i&&!n;){if(i.node.type.name===e)if(Object.keys(r).length>0){const a=i.node.attrs,s=Object.keys(r);for(let o=0;o<s.length;o+=1){const l=s[o];if(a[l]!==r[l])break}}else n=i;i=i.parent}return n}querySelector(e,r={}){return this.querySelectorAll(e,r,!0)[0]||null}querySelectorAll(e,r={},n=!1){let i=[];if(!this.children||this.children.length===0)return i;const a=Object.keys(r);return this.children.forEach(s=>{n&&i.length>0||(s.node.type.name===e&&a.every(l=>r[l]===s.node.attrs[l])&&i.push(s),!(n&&i.length>0)&&(i=i.concat(s.querySelectorAll(e,r,n))))}),i}setAttribute(e){const{tr:r}=this.editor.state;r.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(r)}}const qL=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function UL(t,e,r){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}let HL=class extends Y5{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:n,moved:i})=>this.options.onDrop(r,n,i)),this.on("paste",({event:r,slice:n})=>this.options.onPaste(r,n)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=UL(qL,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,r=!0){this.setOptions({editable:e}),r&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,r){const n=JC(r)?r(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const r=this.state.plugins;let n=r;if([].concat(e).forEach(a=>{const s=typeof a=="string"?`${a}$`:a.key;n=n.filter(o=>!o.key.startsWith(s))}),r.length===n.length)return;const i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}createExtensionManager(){var e,r;const i=[...this.options.enableCoreExtensions?[IL,f$.configure({blockSeparator:(r=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||r===void 0?void 0:r.blockSeparator}),BL,PL,$L,zL,kL,LL].filter(a=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[a.name]!==!1:!0):[],...this.options.extensions].filter(a=>["extension","node","mark"].includes(a==null?void 0:a.type));this.extensionManager=new Fo(i,this)}createCommandManager(){this.commandManager=new Sp({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let r;try{r=ug(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(s){if(!(s instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(s.message))throw s;this.emit("contentError",{editor:this,error:s,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(o=>o.name!=="collaboration"),this.createExtensionManager()}}),r=ug(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const n=e2(r,this.options.autofocus);this.view=new b5(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:Oo.create({doc:r,selection:n||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const a=this.view.dom;a.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const r=this.capturedTransaction;return this.capturedTransaction=null,r}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(s=>{var o;return(o=this.capturedTransaction)===null||o===void 0?void 0:o.step(s)});return}const r=this.state.apply(e),n=!this.state.selection.eq(r.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:r}),this.view.updateState(r),this.emit("transaction",{editor:this,transaction:e}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),a=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),a&&this.emit("blur",{editor:this,event:a.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return i2(this.state,e)}isActive(e,r){const n=typeof e=="string"?e:null,i=typeof e=="string"?r:e;return fL(this.state,n,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return kv(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:r=`

`,textSerializers:n={}}=e||{};return sL(this.state.doc,{blockSeparator:r,textSerializers:{...XC(this.schema),...n}})}get isEmpty(){return Cp(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,r){var n;return((n=this.$doc)===null||n===void 0?void 0:n.querySelector(e,r))||null}$nodes(e,r){var n;return((n=this.$doc)===null||n===void 0?void 0:n.querySelectorAll(e,r))||null}$pos(e){const r=this.state.doc.resolve(e);return new _s(r,this)}get $doc(){return this.$pos(0)}};function tl(t){return new Ap({find:t.find,handler:({state:e,range:r,match:n})=>{const i=xt(t.getAttributes,void 0,n);if(i===!1||i===null)return null;const{tr:a}=e,s=n[n.length-1],o=n[0];if(s){const l=o.search(/\S/),u=r.from+o.indexOf(s),c=u+s.length;if(Lv(r.from,r.to,e.doc).filter(p=>p.mark.type.excluded.find(m=>m===t.type&&m!==p.mark.type)).filter(p=>p.to>u).length)return null;c<r.to&&a.delete(c,r.to),u>r.from&&a.delete(r.from+l,u);const d=r.from+l+s.length;a.addMark(r.from+l,d,t.type.create(i||{})),a.removeStoredMark(t.type)}}})}function VL(t){return new Ap({find:t.find,handler:({state:e,range:r,match:n})=>{const i=xt(t.getAttributes,void 0,n)||{},{tr:a}=e,s=r.from;let o=r.to;const l=t.type.create(i);if(n[1]){const u=n[0].lastIndexOf(n[1]);let c=s+u;c>o?c=o:o=c+n[1].length;const f=n[0][n[0].length-1];a.insertText(f,s+n[0].length-1),a.replaceWith(c,o,l)}else if(n[0]){const u=t.type.isInline?s:s-1;a.insert(u,t.type.create(i)).delete(a.mapping.map(s),a.mapping.map(o))}a.scrollIntoView()}})}function fg(t){return new Ap({find:t.find,handler:({state:e,range:r,match:n})=>{const i=e.doc.resolve(r.from),a=xt(t.getAttributes,void 0,n)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(r.from,r.to).setBlockType(r.from,r.from,t.type,a)}})}function Ou(t){return new Ap({find:t.find,handler:({state:e,range:r,match:n,chain:i})=>{const a=xt(t.getAttributes,void 0,n)||{},s=e.tr.delete(r.from,r.to),l=s.doc.resolve(r.from).blockRange(),u=l&&yv(l,t.type,a);if(!u)return null;if(s.wrap(l,u),t.keepMarks&&t.editor){const{selection:f,storedMarks:d}=e,{splittableMarks:p}=t.editor.extensionManager,h=d||f.$to.parentOffset&&f.$from.marks();if(h){const m=h.filter(v=>p.includes(v.type.name));s.ensureMarks(m)}}if(t.keepAttributes){const f=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(f,a).run()}const c=s.doc.resolve(r.from-1).nodeBefore;c&&c.type===t.type&&ls(s.doc,r.from-1)&&(!t.joinPredicate||t.joinPredicate(n,c))&&s.join(r.from-1)}})}let vi=class dg{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=xt($e(this,"addOptions",{name:this.name}))),this.storage=xt($e(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new dg(e)}configure(e={}){const r=this.extend({...this.config,addOptions:()=>Np(this.options,e)});return r.name=this.name,r.parent=this.parent,r}extend(e={}){const r=new dg(e);return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=xt($e(r,"addOptions",{name:r.name})),r.storage=xt($e(r,"addStorage",{name:r.name,options:r.options})),r}};function Zs(t){return new a$({find:t.find,handler:({state:e,range:r,match:n,pasteEvent:i})=>{const a=xt(t.getAttributes,void 0,n,i);if(a===!1||a===null)return null;const{tr:s}=e,o=n[n.length-1],l=n[0];let u=r.to;if(o){const c=l.search(/\S/),f=r.from+l.indexOf(o),d=f+o.length;if(Lv(r.from,r.to,e.doc).filter(h=>h.mark.type.excluded.find(v=>v===t.type&&v!==h.mark.type)).filter(h=>h.to>f).length)return null;d<r.to&&s.delete(d,r.to),f>r.from&&s.delete(r.from+c,f),u=r.from+c+o.length,s.addMark(r.from+c,u,t.type.create(a||{})),s.removeStoredMark(t.type)}}})}function Ab(t){return iO((e,r)=>({get(){return e(),t},set(n){t=n,requestAnimationFrame(()=>{requestAnimationFrame(()=>{r()})})}}))}class WL extends HL{constructor(e={}){return super(e),this.contentComponent=null,this.appContext=null,this.reactiveState=Ab(this.view.state),this.reactiveExtensionStorage=Ab(this.extensionStorage),this.on("beforeTransaction",({nextState:r})=>{this.reactiveState.value=r,this.reactiveExtensionStorage.value=this.extensionStorage}),jA(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(e,r){const n=super.registerPlugin(e,r);return this.reactiveState&&(this.reactiveState.value=n),n}unregisterPlugin(e){const r=super.unregisterPlugin(e);return this.reactiveState&&r&&(this.reactiveState.value=r),r}}const GL=fr({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(t){const e=Pe(),r=BN();return KO(()=>{const n=t.editor;n&&n.options.element&&e.value&&ap(()=>{if(!e.value||!n.options.element.firstChild)return;const i=Oe(e.value);e.value.append(...n.options.element.childNodes),n.contentComponent=r.ctx._,r&&(n.appContext={...r.appContext,provides:r.provides}),n.setOptions({element:i}),n.createNodeViews()})}),fl(()=>{const n=t.editor;n&&(n.contentComponent=null,n.appContext=null)}),{rootEl:e}},render(){return Wr("div",{ref:t=>{this.rootEl=t}})}}),jL=/^\s*>\s$/,KL=vi.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",Cr(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Ou({find:jL,type:this.type})]}}),JL=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,YL=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,XL=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,ZL=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,QL=$i.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",Cr(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[tl({find:JL,type:this.type}),tl({find:XL,type:this.type})]},addPasteRules(){return[Zs({find:YL,type:this.type}),Zs({find:ZL,type:this.type})]}}),e8="listItem",Nb="textStyle",Db=/^\s*([-+*])\s$/,t8=vi.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Cr(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(e8,this.editor.getAttributes(Nb)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Ou({find:Db,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Ou({find:Db,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Nb),editor:this.editor})),[t]}}),r8=/(^|[^`])`([^`]+)`(?!`)/,n8=/(^|[^`])`([^`]+)`(?!`)/g,i8=$i.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Cr(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[tl({find:r8,type:this.type})]},addPasteRules(){return[Zs({find:n8,type:this.type})]}}),a8=/^```([a-z]+)?[\s\n]$/,s8=/^~~~([a-z]+)?[\s\n]$/,o8=vi.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:r}=this.options,a=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(s=>s.startsWith(r)).map(s=>s.replace(r,""))[0];return a||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Cr(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,r=e.pos===1;return!t||e.parent.type.name!==this.name?!1:r||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:r}=e,{$from:n,empty:i}=r;if(!i||n.parent.type!==this.type)return!1;const a=n.parentOffset===n.parent.nodeSize-2,s=n.parent.textContent.endsWith(`

`);return!a||!s?!1:t.chain().command(({tr:o})=>(o.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:r,doc:n}=e,{$from:i,empty:a}=r;if(!a||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const o=i.after();return o===void 0?!1:n.nodeAt(o)?t.commands.command(({tr:u})=>(u.setSelection(vt.near(n.resolve(o))),!0)):t.commands.exitCode()}}},addInputRules(){return[fg({find:a8,type:this.type,getAttributes:t=>({language:t[1]})}),fg({find:s8,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Mr({key:new Cn("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const r=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),i=n?JSON.parse(n):void 0,a=i==null?void 0:i.mode;if(!r||!a)return!1;const{tr:s,schema:o}=t.state,l=o.text(r.replace(/\r\n?/g,`
`));return s.replaceSelectionWith(this.type.create({language:a},l)),s.selection.$from.parent.type!==this.type&&s.setSelection(ot.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.setMeta("paste",!0),t.dispatch(s),!0}}})]}}),l8=vi.create({name:"doc",topNode:!0,content:"block+"});function u8(t={}){return new Mr({view(e){return new c8(e,t)}})}class c8{constructor(e,r){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=r.width)!==null&&n!==void 0?n:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let a=s=>{this[i](s)};return e.dom.addEventListener(i,a),{name:i,handler:a}})}destroy(){this.handlers.forEach(({name:e,handler:r})=>this.editorView.dom.removeEventListener(e,r))}update(e,r){this.cursorPos!=null&&r.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),r=!e.parent.inlineContent,n,i=this.editorView.dom,a=i.getBoundingClientRect(),s=a.width/i.offsetWidth,o=a.height/i.offsetHeight;if(r){let f=e.nodeBefore,d=e.nodeAfter;if(f||d){let p=this.editorView.nodeDOM(this.cursorPos-(f?f.nodeSize:0));if(p){let h=p.getBoundingClientRect(),m=f?h.bottom:h.top;f&&d&&(m=(m+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let v=this.width/2*o;n={left:h.left,right:h.right,top:m-v,bottom:m+v}}}}if(!n){let f=this.editorView.coordsAtPos(this.cursorPos),d=this.width/2*s;n={left:f.left-d,right:f.left+d,top:f.top,bottom:f.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let u,c;if(!l||l==document.body&&getComputedStyle(l).position=="static")u=-pageXOffset,c=-pageYOffset;else{let f=l.getBoundingClientRect(),d=f.width/l.offsetWidth,p=f.height/l.offsetHeight;u=f.left-l.scrollLeft*d,c=f.top-l.scrollTop*p}this.element.style.left=(n.left-u)/s+"px",this.element.style.top=(n.top-c)/o+"px",this.element.style.width=(n.right-n.left)/s+"px",this.element.style.height=(n.bottom-n.top)/o+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),i=n&&n.type.spec.disableDropCursor,a=typeof i=="function"?i(this.editorView,r,e):i;if(r&&!a){let s=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let o=KD(this.editorView.state.doc,s,this.editorView.dragging.slice);o!=null&&(s=o)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const f8=$r.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[u8(this.options)]}});class tr extends vt{constructor(e){super(e,e)}map(e,r){let n=e.resolve(r.map(this.head));return tr.valid(n)?new tr(n):vt.near(n)}content(){return Be.empty}eq(e){return e instanceof tr&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new tr(e.resolve(r.pos))}getBookmark(){return new zv(this.anchor)}static valid(e){let r=e.parent;if(r.isTextblock||!d8(e)||!p8(e))return!1;let n=r.type.spec.allowGapCursor;if(n!=null)return n;let i=r.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,r,n=!1){e:for(;;){if(!n&&tr.valid(e))return e;let i=e.pos,a=null;for(let s=e.depth;;s--){let o=e.node(s);if(r>0?e.indexAfter(s)<o.childCount:e.index(s)>0){a=o.child(r>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;i+=r;let l=e.doc.resolve(i);if(tr.valid(l))return l}for(;;){let s=r>0?a.firstChild:a.lastChild;if(!s){if(a.isAtom&&!a.isText&&!Ke.isSelectable(a)){e=e.doc.resolve(i+a.nodeSize*r),n=!1;continue e}break}a=s,i+=r;let o=e.doc.resolve(i);if(tr.valid(o))return o}return null}}}tr.prototype.visible=!1;tr.findFrom=tr.findGapCursorFrom;vt.jsonID("gapcursor",tr);class zv{constructor(e){this.pos=e}map(e){return new zv(e.map(this.pos))}resolve(e){let r=e.resolve(this.pos);return tr.valid(r)?new tr(r):vt.near(r)}}function d8(t){for(let e=t.depth;e>=0;e--){let r=t.index(e),n=t.node(e);if(r==0){if(n.type.spec.isolating)return!0;continue}for(let i=n.child(r-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function p8(t){for(let e=t.depth;e>=0;e--){let r=t.indexAfter(e),n=t.node(e);if(r==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let i=n.child(r);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function h8(){return new Mr({props:{decorations:y8,createSelectionBetween(t,e,r){return e.pos==r.pos&&tr.valid(r)?new tr(r):null},handleClick:g8,handleKeyDown:m8,handleDOMEvents:{beforeinput:v8}}})}const m8=IC({ArrowLeft:Ic("horiz",-1),ArrowRight:Ic("horiz",1),ArrowUp:Ic("vert",-1),ArrowDown:Ic("vert",1)});function Ic(t,e){const r=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,i,a){let s=n.selection,o=e>0?s.$to:s.$from,l=s.empty;if(s instanceof ot){if(!a.endOfTextblock(r)||o.depth==0)return!1;l=!1,o=n.doc.resolve(e>0?o.after():o.before())}let u=tr.findGapCursorFrom(o,e,l);return u?(i&&i(n.tr.setSelection(new tr(u))),!0):!1}}function g8(t,e,r){if(!t||!t.editable)return!1;let n=t.state.doc.resolve(e);if(!tr.valid(n))return!1;let i=t.posAtCoords({left:r.clientX,top:r.clientY});return i&&i.inside>-1&&Ke.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new tr(n))),!0)}function v8(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof tr))return!1;let{$from:r}=t.state.selection,n=r.parent.contentMatchAt(r.index()).findWrapping(t.state.schema.nodes.text);if(!n)return!1;let i=Ne.empty;for(let s=n.length-1;s>=0;s--)i=Ne.from(n[s].createAndFill(null,i));let a=t.state.tr.replace(r.pos,r.pos,new Be(i,0,0));return a.setSelection(ot.near(a.doc.resolve(r.pos+1))),t.dispatch(a),!1}function y8(t){if(!(t.selection instanceof tr))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",lr.create(t.doc,[On.widget(t.selection.head,e,{key:"gapcursor"})])}const b8=$r.create({name:"gapCursor",addProseMirrorPlugins(){return[h8()]},extendNodeSchema(t){var e;const r={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=xt($e(t,"allowGapCursor",r)))!==null&&e!==void 0?e:null}}}),x8=vi.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Cr(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:r,editor:n})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:a}=r;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:o}=n.extensionManager,l=a||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:c})=>{if(c&&l&&s){const f=l.filter(d=>o.includes(d.type.name));u.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),w8=vi.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Cr(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>fg({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var Qf=200,Ar=function(){};Ar.prototype.append=function(e){return e.length?(e=Ar.from(e),!this.length&&e||e.length<Qf&&this.leafAppend(e)||this.length<Qf&&e.leafPrepend(this)||this.appendInner(e)):this};Ar.prototype.prepend=function(e){return e.length?Ar.from(e).append(this):this};Ar.prototype.appendInner=function(e){return new S8(this,e)};Ar.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?Ar.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))};Ar.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ar.prototype.forEach=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(e,r,n,0):this.forEachInvertedInner(e,r,n,0)};Ar.prototype.map=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var i=[];return this.forEach(function(a,s){return i.push(e(a,s))},r,n),i};Ar.from=function(e){return e instanceof Ar?e:e&&e.length?new a2(e):Ar.empty};var a2=function(t){function e(n){t.call(this),this.values=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,a){return i==0&&a==this.length?this:new e(this.values.slice(i,a))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,a,s,o){for(var l=a;l<s;l++)if(i(this.values[l],o+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,a,s,o){for(var l=a-1;l>=s;l--)if(i(this.values[l],o+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Qf)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Qf)return new e(i.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e}(Ar);Ar.empty=new a2([]);var S8=function(t){function e(r,n){t.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,i,a,s){var o=this.left.length;if(i<o&&this.left.forEachInner(n,i,Math.min(a,o),s)===!1||a>o&&this.right.forEachInner(n,Math.max(i-o,0),Math.min(this.length,a)-o,s+o)===!1)return!1},e.prototype.forEachInvertedInner=function(n,i,a,s){var o=this.left.length;if(i>o&&this.right.forEachInvertedInner(n,i-o,Math.max(a,o)-o,s+o)===!1||a<o&&this.left.forEachInvertedInner(n,Math.min(i,o),a,s)===!1)return!1},e.prototype.sliceInner=function(n,i){if(n==0&&i==this.length)return this;var a=this.left.length;return i<=a?this.left.slice(n,i):n>=a?this.right.slice(n-a,i-a):this.left.slice(n,a).append(this.right.slice(0,i-a))},e.prototype.leafAppend=function(n){var i=this.right.leafAppend(n);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(n){var i=this.left.leafPrepend(n);if(i)return new e(i,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(Ar);const E8=500;class li{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let i,a;r&&(i=this.remapping(n,this.items.length),a=i.maps.length);let s=e.tr,o,l,u=[],c=[];return this.items.forEach((f,d)=>{if(!f.step){i||(i=this.remapping(n,d+1),a=i.maps.length),a--,c.push(f);return}if(i){c.push(new Mi(f.map));let p=f.step.map(i.slice(a)),h;p&&s.maybeStep(p).doc&&(h=s.mapping.maps[s.mapping.maps.length-1],u.push(new Mi(h,void 0,void 0,u.length+c.length))),a--,h&&i.appendMap(h,a)}else s.maybeStep(f.step);if(f.selection)return o=i?f.selection.map(i.slice(a)):f.selection,l=new li(this.items.slice(0,n).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:o}}addTransform(e,r,n,i){let a=[],s=this.eventCount,o=this.items,l=!i&&o.length?o.get(o.length-1):null;for(let c=0;c<e.steps.length;c++){let f=e.steps[c].invert(e.docs[c]),d=new Mi(e.mapping.maps[c],f,r),p;(p=l&&l.merge(d))&&(d=p,c?a.pop():o=o.slice(0,o.length-1)),a.push(d),r&&(s++,r=void 0),i||(l=d)}let u=s-n.depth;return u>N8&&(o=A8(o,u),s-=u),new li(o.append(a),s)}remapping(e,r){let n=new Nu;return this.items.forEach((i,a)=>{let s=i.mirrorOffset!=null&&a-i.mirrorOffset>=e?n.maps.length-i.mirrorOffset:void 0;n.appendMap(i.map,s)},e,r),n}addMaps(e){return this.eventCount==0?this:new li(this.items.append(e.map(r=>new Mi(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let n=[],i=Math.max(0,this.items.length-r),a=e.mapping,s=e.steps.length,o=this.eventCount;this.items.forEach(d=>{d.selection&&o--},i);let l=r;this.items.forEach(d=>{let p=a.getMirror(--l);if(p==null)return;s=Math.min(s,p);let h=a.maps[p];if(d.step){let m=e.steps[p].invert(e.docs[p]),v=d.selection&&d.selection.map(a.slice(l+1,p));v&&o++,n.push(new Mi(h,m,v))}else n.push(new Mi(h))},i);let u=[];for(let d=r;d<s;d++)u.push(new Mi(a.maps[d]));let c=this.items.slice(0,i).append(u).append(n),f=new li(c,o);return f.emptyItemCount()>E8&&(f=f.compress(this.items.length-n.length)),f}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),n=r.maps.length,i=[],a=0;return this.items.forEach((s,o)=>{if(o>=e)i.push(s),s.selection&&a++;else if(s.step){let l=s.step.map(r.slice(n)),u=l&&l.getMap();if(n--,u&&r.appendMap(u,n),l){let c=s.selection&&s.selection.map(r.slice(n));c&&a++;let f=new Mi(u.invert(),l,c),d,p=i.length-1;(d=i.length&&i[p].merge(f))?i[p]=d:i.push(f)}}else s.map&&n--},this.items.length,0),new li(Ar.from(i.reverse()),a)}}li.empty=new li(Ar.empty,0);function A8(t,e){let r;return t.forEach((n,i)=>{if(n.selection&&e--==0)return r=i,!1}),t.slice(r)}class Mi{constructor(e,r,n,i){this.map=e,this.step=r,this.selection=n,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new Mi(r.getMap().invert(),r,this.selection)}}}class Ia{constructor(e,r,n,i,a){this.done=e,this.undone=r,this.prevRanges=n,this.prevTime=i,this.prevComposition=a}}const N8=20;function D8(t,e,r,n){let i=r.getMeta(Ws),a;if(i)return i.historyState;r.getMeta(T8)&&(t=new Ia(t.done,t.undone,null,0,-1));let s=r.getMeta("appendedTransaction");if(r.steps.length==0)return t;if(s&&s.getMeta(Ws))return s.getMeta(Ws).redo?new Ia(t.done.addTransform(r,void 0,n,yf(e)),t.undone,Cb(r.mapping.maps),t.prevTime,t.prevComposition):new Ia(t.done,t.undone.addTransform(r,void 0,n,yf(e)),null,t.prevTime,t.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let o=r.getMeta("composition"),l=t.prevTime==0||!s&&t.prevComposition!=o&&(t.prevTime<(r.time||0)-n.newGroupDelay||!C8(r,t.prevRanges)),u=s?Zh(t.prevRanges,r.mapping):Cb(r.mapping.maps);return new Ia(t.done.addTransform(r,l?e.selection.getBookmark():void 0,n,yf(e)),li.empty,u,r.time,o??t.prevComposition)}else return(a=r.getMeta("rebased"))?new Ia(t.done.rebased(r,a),t.undone.rebased(r,a),Zh(t.prevRanges,r.mapping),t.prevTime,t.prevComposition):new Ia(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),Zh(t.prevRanges,r.mapping),t.prevTime,t.prevComposition)}function C8(t,e){if(!e)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach((n,i)=>{for(let a=0;a<e.length;a+=2)n<=e[a+1]&&i>=e[a]&&(r=!0)}),r}function Cb(t){let e=[];for(let r=t.length-1;r>=0&&e.length==0;r--)t[r].forEach((n,i,a,s)=>e.push(a,s));return e}function Zh(t,e){if(!t)return null;let r=[];for(let n=0;n<t.length;n+=2){let i=e.map(t[n],1),a=e.map(t[n+1],-1);i<=a&&r.push(i,a)}return r}function M8(t,e,r){let n=yf(e),i=Ws.get(e).spec.config,a=(r?t.undone:t.done).popEvent(e,n);if(!a)return null;let s=a.selection.resolve(a.transform.doc),o=(r?t.done:t.undone).addTransform(a.transform,e.selection.getBookmark(),i,n),l=new Ia(r?o:a.remaining,r?a.remaining:o,null,0,-1);return a.transform.setSelection(s).setMeta(Ws,{redo:r,historyState:l})}let Qh=!1,Mb=null;function yf(t){let e=t.plugins;if(Mb!=e){Qh=!1,Mb=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){Qh=!0;break}}return Qh}const Ws=new Cn("history"),T8=new Cn("closeHistory");function _8(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Mr({key:Ws,state:{init(){return new Ia(li.empty,li.empty,null,0,-1)},apply(e,r,n){return D8(r,n,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,r){let n=r.inputType,i=n=="historyUndo"?o2:n=="historyRedo"?l2:null;return i?(r.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function s2(t,e){return(r,n)=>{let i=Ws.getState(r);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(n){let a=M8(i,r,t);a&&n(e?a.scrollIntoView():a)}return!0}}const o2=s2(!1,!0),l2=s2(!0,!0),O8=$r.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>o2(t,e),redo:()=>({state:t,dispatch:e})=>l2(t,e)}},addProseMirrorPlugins(){return[_8(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),F8=vi.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Cr(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{selection:r}=e,{$from:n,$to:i}=r,a=t();return n.parentOffset===0?a.insertContentAt({from:Math.max(n.pos-1,0),to:i.pos},{type:this.name}):dL(r)?a.insertContentAt(i.pos,{type:this.name}):a.insertContent({type:this.name}),a.command(({tr:s,dispatch:o})=>{var l;if(o){const{$to:u}=s.selection,c=u.end();if(u.nodeAfter)u.nodeAfter.isTextblock?s.setSelection(ot.create(s.doc,u.pos+1)):u.nodeAfter.isBlock?s.setSelection(Ke.create(s.doc,u.pos)):s.setSelection(ot.create(s.doc,u.pos));else{const f=(l=u.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();f&&(s.insert(c,f),s.setSelection(ot.create(s.doc,c+1)))}s.scrollIntoView()}return!0}).run()}}},addInputRules(){return[VL({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),B8=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,k8=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,I8=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,R8=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,P8=$i.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Cr(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[tl({find:B8,type:this.type}),tl({find:I8,type:this.type})]},addPasteRules(){return[Zs({find:k8,type:this.type}),Zs({find:R8,type:this.type})]}}),$8=vi.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Cr(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),L8="listItem",Tb="textStyle",_b=/^(\d+)\.\s$/,z8=vi.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...r}=t;return e===1?["ol",Cr(this.options.HTMLAttributes,r),0]:["ol",Cr(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(L8,this.editor.getAttributes(Tb)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Ou({find:_b,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Ou({find:_b,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Tb)}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1],editor:this.editor})),[t]}}),q8=vi.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Cr(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),U8=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,H8=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,V8=$i.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Cr(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[tl({find:U8,type:this.type})]},addPasteRules(){return[Zs({find:H8,type:this.type})]}}),W8=vi.create({name:"text",group:"inline"}),G8=$r.create({name:"starterKit",addExtensions(){const t=[];return this.options.bold!==!1&&t.push(QL.configure(this.options.bold)),this.options.blockquote!==!1&&t.push(KL.configure(this.options.blockquote)),this.options.bulletList!==!1&&t.push(t8.configure(this.options.bulletList)),this.options.code!==!1&&t.push(i8.configure(this.options.code)),this.options.codeBlock!==!1&&t.push(o8.configure(this.options.codeBlock)),this.options.document!==!1&&t.push(l8.configure(this.options.document)),this.options.dropcursor!==!1&&t.push(f8.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&t.push(b8.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&t.push(x8.configure(this.options.hardBreak)),this.options.heading!==!1&&t.push(w8.configure(this.options.heading)),this.options.history!==!1&&t.push(O8.configure(this.options.history)),this.options.horizontalRule!==!1&&t.push(F8.configure(this.options.horizontalRule)),this.options.italic!==!1&&t.push(P8.configure(this.options.italic)),this.options.listItem!==!1&&t.push($8.configure(this.options.listItem)),this.options.orderedList!==!1&&t.push(z8.configure(this.options.orderedList)),this.options.paragraph!==!1&&t.push(q8.configure(this.options.paragraph)),this.options.strike!==!1&&t.push(V8.configure(this.options.strike)),this.options.text!==!1&&t.push(W8.configure(this.options.text)),t}}),j8=$i.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Cr(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),K8=$r.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Mr({key:new Cn("placeholder"),props:{decorations:({doc:t,selection:e})=>{const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:n}=e,i=[];if(!r)return null;const a=this.editor.isEmpty;return t.descendants((s,o)=>{const l=n>=o&&n<=o+s.nodeSize,u=!s.isLeaf&&Cp(s);if((l||!this.options.showOnlyCurrent)&&u){const c=[this.options.emptyNodeClass];a&&c.push(this.options.emptyEditorClass);const f=On.node(o,o+s.nodeSize,{class:c.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:s,pos:o,hasAnchor:l}):this.options.placeholder});i.push(f)}return this.options.includeChildren}),lr.create(t,i)}}})]}}),J8="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Y8="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",rl=(t,e)=>{for(const r in e)t[r]=e[r];return t},pg="numeric",hg="ascii",mg="alpha",ou="asciinumeric",Wl="alphanumeric",gg="domain",u2="emoji",X8="scheme",Z8="slashscheme",em="whitespace";function Q8(t,e){return t in e||(e[t]=[]),e[t]}function Rs(t,e,r){e[pg]&&(e[ou]=!0,e[Wl]=!0),e[hg]&&(e[ou]=!0,e[mg]=!0),e[ou]&&(e[Wl]=!0),e[mg]&&(e[Wl]=!0),e[Wl]&&(e[gg]=!0),e[u2]&&(e[gg]=!0);for(const n in e){const i=Q8(n,r);i.indexOf(t)<0&&i.push(t)}}function ez(t,e){const r={};for(const n in e)e[n].indexOf(t)>=0&&(r[n]=!0);return r}function wn(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}wn.groups={};wn.prototype={accepts(){return!!this.t},go(t){const e=this,r=e.j[t];if(r)return r;for(let n=0;n<e.jr.length;n++){const i=e.jr[n][0],a=e.jr[n][1];if(a&&i.test(t))return a}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,r,n){for(let i=0;i<t.length;i++)this.tt(t[i],e,r,n)},tr(t,e,r,n){n=n||wn.groups;let i;return e&&e.j?i=e:(i=new wn(e),r&&n&&Rs(e,r,n)),this.jr.push([t,i]),i},ts(t,e,r,n){let i=this;const a=t.length;if(!a)return i;for(let s=0;s<a-1;s++)i=i.tt(t[s]);return i.tt(t[a-1],e,r,n)},tt(t,e,r,n){n=n||wn.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const a=e;let s,o=i.go(t);if(o?(s=new wn,rl(s.j,o.j),s.jr.push.apply(s.jr,o.jr),s.jd=o.jd,s.t=o.t):s=new wn,a){if(n)if(s.t&&typeof s.t=="string"){const l=rl(ez(s.t,n),r);Rs(a,l,n)}else r&&Rs(a,r,n);s.t=a}return i.j[t]=s,s}};const yt=(t,e,r,n,i)=>t.ta(e,r,n,i),er=(t,e,r,n,i)=>t.tr(e,r,n,i),Ob=(t,e,r,n,i)=>t.ts(e,r,n,i),Me=(t,e,r,n,i)=>t.tt(e,r,n,i),ta="WORD",vg="UWORD",c2="ASCIINUMERICAL",f2="ALPHANUMERICAL",Fu="LOCALHOST",yg="TLD",bg="UTLD",bf="SCHEME",_o="SLASH_SCHEME",qv="NUM",xg="WS",Uv="NL",lu="OPENBRACE",uu="CLOSEBRACE",ed="OPENBRACKET",td="CLOSEBRACKET",rd="OPENPAREN",nd="CLOSEPAREN",id="OPENANGLEBRACKET",ad="CLOSEANGLEBRACKET",sd="FULLWIDTHLEFTPAREN",od="FULLWIDTHRIGHTPAREN",ld="LEFTCORNERBRACKET",ud="RIGHTCORNERBRACKET",cd="LEFTWHITECORNERBRACKET",fd="RIGHTWHITECORNERBRACKET",dd="FULLWIDTHLESSTHAN",pd="FULLWIDTHGREATERTHAN",hd="AMPERSAND",md="APOSTROPHE",gd="ASTERISK",Ra="AT",vd="BACKSLASH",yd="BACKTICK",bd="CARET",za="COLON",Hv="COMMA",xd="DOLLAR",Ti="DOT",wd="EQUALS",Vv="EXCLAMATION",zn="HYPHEN",cu="PERCENT",Sd="PIPE",Ed="PLUS",Ad="POUND",fu="QUERY",Wv="QUOTE",d2="FULLWIDTHMIDDLEDOT",Gv="SEMI",_i="SLASH",du="TILDE",Nd="UNDERSCORE",p2="EMOJI",Dd="SYM";var h2=Object.freeze({__proto__:null,ALPHANUMERICAL:f2,AMPERSAND:hd,APOSTROPHE:md,ASCIINUMERICAL:c2,ASTERISK:gd,AT:Ra,BACKSLASH:vd,BACKTICK:yd,CARET:bd,CLOSEANGLEBRACKET:ad,CLOSEBRACE:uu,CLOSEBRACKET:td,CLOSEPAREN:nd,COLON:za,COMMA:Hv,DOLLAR:xd,DOT:Ti,EMOJI:p2,EQUALS:wd,EXCLAMATION:Vv,FULLWIDTHGREATERTHAN:pd,FULLWIDTHLEFTPAREN:sd,FULLWIDTHLESSTHAN:dd,FULLWIDTHMIDDLEDOT:d2,FULLWIDTHRIGHTPAREN:od,HYPHEN:zn,LEFTCORNERBRACKET:ld,LEFTWHITECORNERBRACKET:cd,LOCALHOST:Fu,NL:Uv,NUM:qv,OPENANGLEBRACKET:id,OPENBRACE:lu,OPENBRACKET:ed,OPENPAREN:rd,PERCENT:cu,PIPE:Sd,PLUS:Ed,POUND:Ad,QUERY:fu,QUOTE:Wv,RIGHTCORNERBRACKET:ud,RIGHTWHITECORNERBRACKET:fd,SCHEME:bf,SEMI:Gv,SLASH:_i,SLASH_SCHEME:_o,SYM:Dd,TILDE:du,TLD:yg,UNDERSCORE:Nd,UTLD:bg,UWORD:vg,WORD:ta,WS:xg});const Ji=/[a-z]/,Pl=new RegExp("\\p{L}","u"),tm=new RegExp("\\p{Emoji}","u"),Yi=/\d/,rm=/\s/,Fb="\r",nm=`
`,tz="",rz="",im="";let Rc=null,Pc=null;function nz(t=[]){const e={};wn.groups=e;const r=new wn;Rc==null&&(Rc=Bb(J8)),Pc==null&&(Pc=Bb(Y8)),Me(r,"'",md),Me(r,"{",lu),Me(r,"}",uu),Me(r,"[",ed),Me(r,"]",td),Me(r,"(",rd),Me(r,")",nd),Me(r,"<",id),Me(r,">",ad),Me(r,"",sd),Me(r,"",od),Me(r,"",ld),Me(r,"",ud),Me(r,"",cd),Me(r,"",fd),Me(r,"",dd),Me(r,"",pd),Me(r,"&",hd),Me(r,"*",gd),Me(r,"@",Ra),Me(r,"`",yd),Me(r,"^",bd),Me(r,":",za),Me(r,",",Hv),Me(r,"$",xd),Me(r,".",Ti),Me(r,"=",wd),Me(r,"!",Vv),Me(r,"-",zn),Me(r,"%",cu),Me(r,"|",Sd),Me(r,"+",Ed),Me(r,"#",Ad),Me(r,"?",fu),Me(r,'"',Wv),Me(r,"/",_i),Me(r,";",Gv),Me(r,"~",du),Me(r,"_",Nd),Me(r,"\\",vd),Me(r,"",d2);const n=er(r,Yi,qv,{[pg]:!0});er(n,Yi,n);const i=er(n,Ji,c2,{[ou]:!0}),a=er(n,Pl,f2,{[Wl]:!0}),s=er(r,Ji,ta,{[hg]:!0});er(s,Yi,i),er(s,Ji,s),er(i,Yi,i),er(i,Ji,i);const o=er(r,Pl,vg,{[mg]:!0});er(o,Ji),er(o,Yi,a),er(o,Pl,o),er(a,Yi,a),er(a,Ji),er(a,Pl,a);const l=Me(r,nm,Uv,{[em]:!0}),u=Me(r,Fb,xg,{[em]:!0}),c=er(r,rm,xg,{[em]:!0});Me(r,im,c),Me(u,nm,l),Me(u,im,c),er(u,rm,c),Me(c,Fb),Me(c,nm),er(c,rm,c),Me(c,im,c);const f=er(r,tm,p2,{[u2]:!0});Me(f,"#"),er(f,tm,f),Me(f,tz,f);const d=Me(f,rz);Me(d,"#"),er(d,tm,f);const p=[[Ji,s],[Yi,i]],h=[[Ji,null],[Pl,o],[Yi,a]];for(let m=0;m<Rc.length;m++)Ca(r,Rc[m],yg,ta,p);for(let m=0;m<Pc.length;m++)Ca(r,Pc[m],bg,vg,h);Rs(yg,{tld:!0,ascii:!0},e),Rs(bg,{utld:!0,alpha:!0},e),Ca(r,"file",bf,ta,p),Ca(r,"mailto",bf,ta,p),Ca(r,"http",_o,ta,p),Ca(r,"https",_o,ta,p),Ca(r,"ftp",_o,ta,p),Ca(r,"ftps",_o,ta,p),Rs(bf,{scheme:!0,ascii:!0},e),Rs(_o,{slashscheme:!0,ascii:!0},e),t=t.sort((m,v)=>m[0]>v[0]?1:-1);for(let m=0;m<t.length;m++){const v=t[m][0],S=t[m][1]?{[X8]:!0}:{[Z8]:!0};v.indexOf("-")>=0?S[gg]=!0:Ji.test(v)?Yi.test(v)?S[ou]=!0:S[hg]=!0:S[pg]=!0,Ob(r,v,v,S)}return Ob(r,"localhost",Fu,{ascii:!0}),r.jd=new wn(Dd),{start:r,tokens:rl({groups:e},h2)}}function m2(t,e){const r=iz(e.replace(/[A-Z]/g,o=>o.toLowerCase())),n=r.length,i=[];let a=0,s=0;for(;s<n;){let o=t,l=null,u=0,c=null,f=-1,d=-1;for(;s<n&&(l=o.go(r[s]));)o=l,o.accepts()?(f=0,d=0,c=o):f>=0&&(f+=r[s].length,d++),u+=r[s].length,a+=r[s].length,s++;a-=f,s-=d,u-=f,i.push({t:c.t,v:e.slice(a-u,a),s:a-u,e:a})}return i}function iz(t){const e=[],r=t.length;let n=0;for(;n<r;){let i=t.charCodeAt(n),a,s=i<55296||i>56319||n+1===r||(a=t.charCodeAt(n+1))<56320||a>57343?t[n]:t.slice(n,n+2);e.push(s),n+=s.length}return e}function Ca(t,e,r,n,i){let a;const s=e.length;for(let o=0;o<s-1;o++){const l=e[o];t.j[l]?a=t.j[l]:(a=new wn(n),a.jr=i.slice(),t.j[l]=a),t=a}return a=new wn(r),a.jr=i.slice(),t.j[e[s-1]]=a,a}function Bb(t){const e=[],r=[];let n=0,i="0123456789";for(;n<t.length;){let a=0;for(;i.indexOf(t[n+a])>=0;)a++;if(a>0){e.push(r.join(""));for(let s=parseInt(t.substring(n,n+a),10);s>0;s--)r.pop();n+=a}else r.push(t[n]),n++}return e}const Bu={defaultProtocol:"http",events:null,format:kb,formatHref:kb,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function jv(t,e=null){let r=rl({},Bu);t&&(r=rl(r,t instanceof jv?t.o:t));const n=r.ignoreTags,i=[];for(let a=0;a<n.length;a++)i.push(n[a].toUpperCase());this.o=r,e&&(this.defaultRender=e),this.ignoreTags=i}jv.prototype={o:Bu,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,r){const n=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=r.t in i?i[r.t]:Bu[t],typeof i=="function"&&n&&(i=i(e,r))):typeof i=="function"&&n&&(i=i(e,r.t,r)),i)},getObj(t,e,r){let n=this.o[t];return typeof n=="function"&&e!=null&&(n=n(e,r.t,r)),n},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function kb(t){return t}function g2(t,e){this.t="token",this.v=t,this.tk=e}g2.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),r=t.get("truncate",e,this),n=t.get("format",e,this);return r&&n.length>r?n.substring(0,r)+"":n},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Bu.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,r=this.toHref(t.get("defaultProtocol")),n=t.get("formatHref",r,this),i=t.get("tagName",r,e),a=this.toFormattedString(t),s={},o=t.get("className",r,e),l=t.get("target",r,e),u=t.get("rel",r,e),c=t.getObj("attributes",r,e),f=t.getObj("events",r,e);return s.href=n,o&&(s.class=o),l&&(s.target=l),u&&(s.rel=u),c&&rl(s,c),{tagName:i,attributes:s,content:a,eventListeners:f}}};function Mp(t,e){class r extends g2{constructor(i,a){super(i,a),this.t=t}}for(const n in e)r.prototype[n]=e[n];return r.t=t,r}const Ib=Mp("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Rb=Mp("text"),az=Mp("nl"),$c=Mp("url",{isLink:!0,toHref(t=Bu.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Fu&&t[1].t===za}}),Pn=t=>new wn(t);function sz({groups:t}){const e=t.domain.concat([hd,gd,Ra,vd,yd,bd,xd,wd,zn,qv,cu,Sd,Ed,Ad,_i,Dd,du,Nd]),r=[md,za,Hv,Ti,Vv,cu,fu,Wv,Gv,id,ad,lu,uu,td,ed,rd,nd,sd,od,ld,ud,cd,fd,dd,pd],n=[hd,md,gd,vd,yd,bd,xd,wd,zn,lu,uu,cu,Sd,Ed,Ad,fu,_i,Dd,du,Nd],i=Pn(),a=Me(i,du);yt(a,n,a),yt(a,t.domain,a);const s=Pn(),o=Pn(),l=Pn();yt(i,t.domain,s),yt(i,t.scheme,o),yt(i,t.slashscheme,l),yt(s,n,a),yt(s,t.domain,s);const u=Me(s,Ra);Me(a,Ra,u),Me(o,Ra,u),Me(l,Ra,u);const c=Me(a,Ti);yt(c,n,a),yt(c,t.domain,a);const f=Pn();yt(u,t.domain,f),yt(f,t.domain,f);const d=Me(f,Ti);yt(d,t.domain,f);const p=Pn(Ib);yt(d,t.tld,p),yt(d,t.utld,p),Me(u,Fu,p);const h=Me(f,zn);Me(h,zn,h),yt(h,t.domain,f),yt(p,t.domain,f),Me(p,Ti,d),Me(p,zn,h);const m=Me(p,za);yt(m,t.numeric,Ib);const v=Me(s,zn),y=Me(s,Ti);Me(v,zn,v),yt(v,t.domain,s),yt(y,n,a),yt(y,t.domain,s);const S=Pn($c);yt(y,t.tld,S),yt(y,t.utld,S),yt(S,t.domain,s),yt(S,n,a),Me(S,Ti,y),Me(S,zn,v),Me(S,Ra,u);const g=Me(S,za),w=Pn($c);yt(g,t.numeric,w);const x=Pn($c),b=Pn();yt(x,e,x),yt(x,r,b),yt(b,e,x),yt(b,r,b),Me(S,_i,x),Me(w,_i,x);const A=Me(o,za),D=Me(l,za),E=Me(D,_i),N=Me(E,_i);yt(o,t.domain,s),Me(o,Ti,y),Me(o,zn,v),yt(l,t.domain,s),Me(l,Ti,y),Me(l,zn,v),yt(A,t.domain,x),Me(A,_i,x),Me(A,fu,x),yt(N,t.domain,x),yt(N,e,x),Me(N,_i,x);const C=[[lu,uu],[ed,td],[rd,nd],[id,ad],[sd,od],[ld,ud],[cd,fd],[dd,pd]];for(let M=0;M<C.length;M++){const[F,I]=C[M],R=Me(x,F);Me(b,F,R),Me(R,I,x);const T=Pn($c);yt(R,e,T);const L=Pn();yt(R,r),yt(T,e,T),yt(T,r,L),yt(L,e,T),yt(L,r,L),Me(T,I,x),Me(L,I,x)}return Me(i,Fu,S),Me(i,Uv,az),{start:i,tokens:h2}}function oz(t,e,r){let n=r.length,i=0,a=[],s=[];for(;i<n;){let o=t,l=null,u=null,c=0,f=null,d=-1;for(;i<n&&!(l=o.go(r[i].t));)s.push(r[i++]);for(;i<n&&(u=l||o.go(r[i].t));)l=null,o=u,o.accepts()?(d=0,f=o):d>=0&&d++,i++,c++;if(d<0)i-=c,i<n&&(s.push(r[i]),i++);else{s.length>0&&(a.push(am(Rb,e,s)),s=[]),i-=d,c-=d;const p=f.t,h=r.slice(i-c,i);a.push(am(p,e,h))}}return s.length>0&&a.push(am(Rb,e,s)),a}function am(t,e,r){const n=r[0].s,i=r[r.length-1].e,a=e.slice(n,i);return new t(a,r)}const lz=typeof console<"u"&&console&&console.warn||(()=>{}),uz="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Kt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function cz(){return wn.groups={},Kt.scanner=null,Kt.parser=null,Kt.tokenQueue=[],Kt.pluginQueue=[],Kt.customSchemes=[],Kt.initialized=!1,Kt}function Pb(t,e=!1){if(Kt.initialized&&lz(`linkifyjs: already initialized - will not register custom scheme "${t}" ${uz}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Kt.customSchemes.push([t,e])}function fz(){Kt.scanner=nz(Kt.customSchemes);for(let t=0;t<Kt.tokenQueue.length;t++)Kt.tokenQueue[t][1]({scanner:Kt.scanner});Kt.parser=sz(Kt.scanner.tokens);for(let t=0;t<Kt.pluginQueue.length;t++)Kt.pluginQueue[t][1]({scanner:Kt.scanner,parser:Kt.parser});return Kt.initialized=!0,Kt}function Kv(t){return Kt.initialized||fz(),oz(Kt.parser.start,t,m2(Kt.scanner.start,t))}Kv.scan=m2;function v2(t,e=null,r=null){if(e&&typeof e=="object"){if(r)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);r=e,e=null}const n=new jv(r),i=Kv(t),a=[];for(let s=0;s<i.length;s++){const o=i[s];o.isLink&&(!e||o.t===e)&&n.check(o)&&a.push(o.toFormattedObject(n))}return a}function dz(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function pz(t){return new Mr({key:new Cn("autolink"),appendTransaction:(e,r,n)=>{const i=e.some(u=>u.docChanged)&&!r.doc.eq(n.doc),a=e.some(u=>u.getMeta("preventAutolink"));if(!i||a)return;const{tr:s}=n,o=rL(r.doc,[...e]);if(cL(o).forEach(({newRange:u})=>{const c=iL(n.doc,u,p=>p.isTextblock);let f,d;if(c.length>1?(f=c[0],d=n.doc.textBetween(f.pos,f.pos+f.node.nodeSize,void 0," ")):c.length&&n.doc.textBetween(u.from,u.to," "," ").endsWith(" ")&&(f=c[0],d=n.doc.textBetween(f.pos,u.to,void 0," ")),f&&d){const p=d.split(" ").filter(y=>y!=="");if(p.length<=0)return!1;const h=p[p.length-1],m=f.pos+d.lastIndexOf(h);if(!h)return!1;const v=Kv(h).map(y=>y.toObject(t.defaultProtocol));if(!dz(v))return!1;v.filter(y=>y.isLink).map(y=>({...y,from:m+y.start+1,to:m+y.end+1})).filter(y=>n.schema.marks.code?!n.doc.rangeHasMark(y.from,y.to,n.schema.marks.code):!0).filter(y=>t.validate(y.value)).filter(y=>t.shouldAutoLink(y.value)).forEach(y=>{Lv(y.from,y.to,n.doc).some(S=>S.mark.type===t.type)||s.addMark(y.from,y.to,t.type.create({href:y.href}))})}}),!!s.steps.length)return s}})}function hz(t){return new Mr({key:new Cn("handleClickLink"),props:{handleClick:(e,r,n)=>{var i,a;if(n.button!==0||!e.editable)return!1;let s=n.target;const o=[];for(;s.nodeName!=="DIV";)o.push(s),s=s.parentNode;if(!o.find(d=>d.nodeName==="A"))return!1;const l=i2(e.state,t.type.name),u=n.target,c=(i=u==null?void 0:u.href)!==null&&i!==void 0?i:l.href,f=(a=u==null?void 0:u.target)!==null&&a!==void 0?a:l.target;return u&&c?(window.open(c,f),!0):!1}}})}function mz(t){return new Mr({key:new Cn("handlePasteLink"),props:{handlePaste:(e,r,n)=>{const{state:i}=e,{selection:a}=i,{empty:s}=a;if(s)return!1;let o="";n.content.forEach(u=>{o+=u.textContent});const l=v2(o,{defaultProtocol:t.defaultProtocol}).find(u=>u.isLink&&u.value===o);return!o||!l?!1:t.editor.commands.setMark(t.type,{href:l.href})}}})}const gz=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function As(t,e){const r=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(n=>{const i=typeof n=="string"?n:n.scheme;i&&r.push(i)}),!t||t.replace(gz,"").match(new RegExp(`^(?:(?:${r.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const vz=$i.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){Pb(t);return}Pb(t.scheme,t.optionalSlashes)})},onDestroy(){cz()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!As(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:r=>!!As(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!As(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Cr(this.options.HTMLAttributes,t),0]:["a",Cr(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:r}=t;return this.options.isAllowedUri(r,{defaultValidate:n=>!!As(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:r}=t;return this.options.isAllowedUri(r,{defaultValidate:n=>!!As(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Zs({find:t=>{const e=[];if(t){const{protocols:r,defaultProtocol:n}=this.options,i=v2(t).filter(a=>a.isLink&&this.options.isAllowedUri(a.value,{defaultValidate:s=>!!As(s,r),protocols:r,defaultProtocol:n}));i.length&&i.forEach(a=>e.push({text:a.value,data:{href:a.href},index:a.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:r}=this.options;return this.options.autolink&&t.push(pz({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:n=>this.options.isAllowedUri(n,{defaultValidate:i=>!!As(i,e),protocols:e,defaultProtocol:r}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(hz({type:this.type})),this.options.linkOnPaste&&t.push(mz({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}});function pr(){return pr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pr.apply(null,arguments)}var y2={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function sn(t,e){if(Cd(t,e))return t[e];throw typeof t[e]=="function"&&Jv(t,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function nl(t,e,r){if(Cd(t,e))return t[e]=r,r;throw new Error('No access to property "'+e+'"')}function Cd(t,e){return!bz(t)&&!Array.isArray(t)?!1:Re(xz,e)?!0:!(e in Object.prototype||e in Function.prototype)}function yz(t,e){if(!Jv(t,e))throw new Error('No access to method "'+e+'"');return t[e]}function Jv(t,e){return t==null||typeof t[e]!="function"||Re(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t)?!1:Re(wz,e)?!0:!(e in Object.prototype||e in Function.prototype)}function bz(t){return typeof t=="object"&&t&&t.constructor===Object}var xz={length:!0,name:!0},wz={toString:!0,valueOf:!0,toLocaleString:!0};class Tp{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(e=>this.has(e)).values()}get(e){return sn(this.wrappedObject,e)}set(e,r){return nl(this.wrappedObject,e,r),this}has(e){return Cd(this.wrappedObject,e)&&e in this.wrappedObject}entries(){return x2(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var r of this.keys())e(this.get(r),r,this)}delete(e){Cd(this.wrappedObject,e)&&delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}}class b2{constructor(e,r,n){this.a=e,this.b=r,this.bKeys=n,this[Symbol.iterator]=this.entries}get(e){return this.bKeys.has(e)?this.b.get(e):this.a.get(e)}set(e,r){return this.bKeys.has(e)?this.b.set(e,r):this.a.set(e,r),this}has(e){return this.b.has(e)||this.a.has(e)}keys(){return new Set([...this.a.keys(),...this.b.keys()])[Symbol.iterator]()}entries(){return x2(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var r of this.keys())e(this.get(r),r,this)}delete(e){return this.bKeys.has(e)?this.b.delete(e):this.a.delete(e)}clear(){this.a.clear(),this.b.clear()}get size(){return[...this.keys()].length}}function x2(t,e){return{next:()=>{var r=t.next();return r.done?r:{value:e(r.value),done:!1}}}}function ku(){return new Map}function Vo(t){if(!t)return ku();if(S2(t))return t;if(Op(t))return new Tp(t);throw new Error("createMap can create maps from objects or Maps")}function Sz(t){if(t instanceof Tp)return t.wrappedObject;var e={};for(var r of t.keys()){var n=t.get(r);nl(e,r,n)}return e}function at(t){return typeof t=="number"}function lt(t){return!t||typeof t!="object"||typeof t.constructor!="function"?!1:t.isBigNumber===!0&&typeof t.constructor.prototype=="object"&&t.constructor.prototype.isBigNumber===!0||typeof t.constructor.isDecimal=="function"&&t.constructor.isDecimal(t)===!0}function pu(t){return typeof t=="bigint"}function ha(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isComplex===!0||!1}function Yu(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isFraction===!0||!1}function Vn(t){return t&&t.constructor.prototype.isUnit===!0||!1}function Gr(t){return typeof t=="string"}var Bt=Array.isArray;function Ge(t){return t&&t.constructor.prototype.isMatrix===!0||!1}function Qn(t){return Array.isArray(t)||Ge(t)}function Md(t){return t&&t.isDenseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function Ps(t){return t&&t.isSparseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function Yv(t){return t&&t.constructor.prototype.isRange===!0||!1}function _p(t){return t&&t.constructor.prototype.isIndex===!0||!1}function Ez(t){return typeof t=="boolean"}function Az(t){return t&&t.constructor.prototype.isResultSet===!0||!1}function w2(t){return t&&t.constructor.prototype.isHelp===!0||!1}function Nz(t){return typeof t=="function"}function Dz(t){return t instanceof Date}function Cz(t){return t instanceof RegExp}function Op(t){return!!(t&&typeof t=="object"&&t.constructor===Object&&!ha(t)&&!Yu(t))}function S2(t){return t?t instanceof Map||t instanceof Tp||typeof t.set=="function"&&typeof t.get=="function"&&typeof t.keys=="function"&&typeof t.has=="function":!1}function Mz(t){return t===null}function Tz(t){return t===void 0}function Qs(t){return t&&t.isAccessorNode===!0&&t.constructor.prototype.isNode===!0||!1}function Hn(t){return t&&t.isArrayNode===!0&&t.constructor.prototype.isNode===!0||!1}function _z(t){return t&&t.isAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function Oz(t){return t&&t.isBlockNode===!0&&t.constructor.prototype.isNode===!0||!1}function Fz(t){return t&&t.isConditionalNode===!0&&t.constructor.prototype.isNode===!0||!1}function Et(t){return t&&t.isConstantNode===!0&&t.constructor.prototype.isNode===!0||!1}function wg(t){return Et(t)||ir(t)&&t.args.length===1&&Et(t.args[0])&&"-+~".includes(t.op)}function Xu(t){return t&&t.isFunctionAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function ns(t){return t&&t.isFunctionNode===!0&&t.constructor.prototype.isNode===!0||!1}function pl(t){return t&&t.isIndexNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ot(t){return t&&t.isNode===!0&&t.constructor.prototype.isNode===!0||!1}function Fp(t){return t&&t.isObjectNode===!0&&t.constructor.prototype.isNode===!0||!1}function ir(t){return t&&t.isOperatorNode===!0&&t.constructor.prototype.isNode===!0||!1}function ya(t){return t&&t.isParenthesisNode===!0&&t.constructor.prototype.isNode===!0||!1}function Bz(t){return t&&t.isRangeNode===!0&&t.constructor.prototype.isNode===!0||!1}function kz(t){return t&&t.isRelationalNode===!0&&t.constructor.prototype.isNode===!0||!1}function Sr(t){return t&&t.isSymbolNode===!0&&t.constructor.prototype.isNode===!0||!1}function E2(t){return t&&t.constructor.prototype.isChain===!0||!1}function It(t){var e=typeof t;return e==="object"?t===null?"null":lt(t)?"BigNumber":t.constructor&&t.constructor.name?t.constructor.name:"Object":e}function tt(t){var e=typeof t;if(e==="number"||e==="bigint"||e==="string"||e==="boolean"||t===null||t===void 0)return t;if(typeof t.clone=="function")return t.clone();if(Array.isArray(t))return t.map(function(r){return tt(r)});if(t instanceof Date)return new Date(t.valueOf());if(lt(t))return t;if(Op(t))return Iz(t,tt);if(e==="function")return t;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(t,")"))}function Iz(t,e){var r={};for(var n in t)Re(t,n)&&(r[n]=e(t[n]));return r}function A2(t,e){for(var r in e)Re(e,r)&&(t[r]=e[r]);return t}function ba(t,e){var r,n,i;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;n++)if(!ba(t[n],e[n]))return!1;return!0}else{if(typeof t=="function")return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(r in t)if(!(r in e)||!ba(t[r],e[r]))return!1;for(r in e)if(!(r in t))return!1;return!0}else return t===e}}function Rz(t,e,r){var n=!0,i;Object.defineProperty(t,e,{get:function(){return n&&(i=r(),n=!1),i},set:function(s){i=s,n=!1},configurable:!0,enumerable:!0})}function Re(t,e){return t&&Object.hasOwnProperty.call(t,e)}function Pz(t,e){for(var r={},n=0;n<e.length;n++){var i=e[n],a=t[i];a!==void 0&&(r[i]=a)}return r}var $z=["Matrix","Array"],Lz=["number","BigNumber","Fraction"],be=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(y2)};pr(be,y2,{MATRIX_OPTIONS:$z,NUMBER_OPTIONS:Lz});function $b(){return!0}function $n(){return!1}function xo(){}const Lb="Argument is not a typed-function.";function N2(){function t($){return typeof $=="object"&&$!==null&&$.constructor===Object}const e=[{name:"number",test:function($){return typeof $=="number"}},{name:"string",test:function($){return typeof $=="string"}},{name:"boolean",test:function($){return typeof $=="boolean"}},{name:"Function",test:function($){return typeof $=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function($){return $ instanceof Date}},{name:"RegExp",test:function($){return $ instanceof RegExp}},{name:"Object",test:t},{name:"null",test:function($){return $===null}},{name:"undefined",test:function($){return $===void 0}}],r={name:"any",test:$b,isAny:!0};let n,i,a=0,s={createCount:0};function o($){const J=n.get($);if(J)return J;let re='Unknown type "'+$+'"';const fe=$.toLowerCase();let he;for(he of i)if(he.toLowerCase()===fe){re+='. Did you mean "'+he+'" ?';break}throw new TypeError(re)}function l($){let J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const re=J?o(J).index:i.length,fe=[];for(let me=0;me<$.length;++me){if(!$[me]||typeof $[me].name!="string"||typeof $[me].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const Ae=$[me].name;if(n.has(Ae))throw new TypeError('Duplicate type name "'+Ae+'"');fe.push(Ae),n.set(Ae,{name:Ae,test:$[me].test,isAny:$[me].isAny,index:re+me,conversionsTo:[]})}const he=i.slice(re);i=i.slice(0,re).concat(fe).concat(he);for(let me=re+fe.length;me<i.length;++me)n.get(i[me]).index=me}function u(){n=new Map,i=[],a=0,l([r],!1)}u(),l(e);function c(){let $;for($ of i)n.get($).conversionsTo=[];a=0}function f($){const J=i.filter(re=>{const fe=n.get(re);return!fe.isAny&&fe.test($)});return J.length?J:["any"]}function d($){return $&&typeof $=="function"&&"_typedFunctionData"in $}function p($,J,re){if(!d($))throw new TypeError(Lb);const fe=re&&re.exact,he=Array.isArray(J)?J.join(","):J,me=w(he),Ae=v(me);if(!fe||Ae in $.signatures){const it=$._typedFunctionData.signatureMap.get(Ae);if(it)return it}const xe=me.length;let De;if(fe){De=[];let it;for(it in $.signatures)De.push($._typedFunctionData.signatureMap.get(it))}else De=$._typedFunctionData.signatures;for(let it=0;it<xe;++it){const Ie=me[it],Qe=[];let O;for(O of De){const te=D(O.params,it);if(!(!te||Ie.restParam&&!te.restParam)){if(!te.hasAny){const ge=g(te);if(Ie.types.some(Se=>!ge.has(Se.name)))continue}Qe.push(O)}}if(De=Qe,De.length===0)break}let we;for(we of De)if(we.params.length<=xe)return we;throw new TypeError("Signature not found (signature: "+($.name||"unnamed")+"("+v(me,", ")+"))")}function h($,J,re){return p($,J,re).implementation}function m($,J){const re=o(J);if(re.test($))return $;const fe=re.conversionsTo;if(fe.length===0)throw new Error("There are no conversions to "+J+" defined.");for(let he=0;he<fe.length;he++)if(o(fe[he].from).test($))return fe[he].convert($);throw new Error("Cannot convert "+$+" to "+J)}function v($){let J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return $.map(re=>re.name).join(J)}function y($){const J=$.indexOf("...")===0,fe=(J?$.length>3?$.slice(3):"any":$).split("|").map(xe=>o(xe.trim()));let he=!1,me=J?"...":"";return{types:fe.map(function(xe){return he=xe.isAny||he,me+=xe.name+"|",{name:xe.name,typeIndex:xe.index,test:xe.test,isAny:xe.isAny,conversion:null,conversionIndex:-1}}),name:me.slice(0,-1),hasAny:he,hasConversion:!1,restParam:J}}function S($){const J=$.types.map(Ae=>Ae.name),re=L(J);let fe=$.hasAny,he=$.name;const me=re.map(function(Ae){const xe=o(Ae.from);return fe=xe.isAny||fe,he+="|"+Ae.from,{name:Ae.from,typeIndex:xe.index,test:xe.test,isAny:xe.isAny,conversion:Ae,conversionIndex:Ae.index}});return{types:$.types.concat(me),name:he,hasAny:fe,hasConversion:me.length>0,restParam:$.restParam}}function g($){return $.typeSet||($.typeSet=new Set,$.types.forEach(J=>$.typeSet.add(J.name))),$.typeSet}function w($){const J=[];if(typeof $!="string")throw new TypeError("Signatures must be strings");const re=$.trim();if(re==="")return J;const fe=re.split(",");for(let he=0;he<fe.length;++he){const me=y(fe[he].trim());if(me.restParam&&he!==fe.length-1)throw new SyntaxError('Unexpected rest parameter "'+fe[he]+'": only allowed for the last parameter');if(me.types.length===0)return null;J.push(me)}return J}function x($){const J=U($);return J?J.restParam:!1}function b($){if(!$||$.types.length===0)return $b;if($.types.length===1)return o($.types[0].name).test;if($.types.length===2){const J=o($.types[0].name).test,re=o($.types[1].name).test;return function(he){return J(he)||re(he)}}else{const J=$.types.map(function(re){return o(re.name).test});return function(fe){for(let he=0;he<J.length;he++)if(J[he](fe))return!0;return!1}}}function A($){let J,re,fe;if(x($)){J=W($).map(b);const he=J.length,me=b(U($)),Ae=function(xe){for(let De=he;De<xe.length;De++)if(!me(xe[De]))return!1;return!0};return function(De){for(let we=0;we<J.length;we++)if(!J[we](De[we]))return!1;return Ae(De)&&De.length>=he+1}}else return $.length===0?function(me){return me.length===0}:$.length===1?(re=b($[0]),function(me){return re(me[0])&&me.length===1}):$.length===2?(re=b($[0]),fe=b($[1]),function(me){return re(me[0])&&fe(me[1])&&me.length===2}):(J=$.map(b),function(me){for(let Ae=0;Ae<J.length;Ae++)if(!J[Ae](me[Ae]))return!1;return me.length===J.length})}function D($,J){return J<$.length?$[J]:x($)?U($):null}function E($,J){const re=D($,J);return re?g(re):new Set}function N($){return $.conversion===null||$.conversion===void 0}function C($,J){const re=new Set;return $.forEach(fe=>{const he=E(fe.params,J);let me;for(me of he)re.add(me)}),re.has("any")?["any"]:Array.from(re)}function M($,J,re){let fe,he;const me=$||"unnamed";let Ae=re,xe;for(xe=0;xe<J.length;xe++){const Ie=[];if(Ae.forEach(Qe=>{const O=D(Qe.params,xe),te=b(O);(xe<Qe.params.length||x(Qe.params))&&te(J[xe])&&Ie.push(Qe)}),Ie.length===0){if(he=C(Ae,xe),he.length>0){const Qe=f(J[xe]);return fe=new TypeError("Unexpected type of argument in function "+me+" (expected: "+he.join(" or ")+", actual: "+Qe.join(" | ")+", index: "+xe+")"),fe.data={category:"wrongType",fn:me,index:xe,actual:Qe,expected:he},fe}}else Ae=Ie}const De=Ae.map(function(Ie){return x(Ie.params)?1/0:Ie.params.length});if(J.length<Math.min.apply(null,De))return he=C(Ae,xe),fe=new TypeError("Too few arguments in function "+me+" (expected: "+he.join(" or ")+", index: "+J.length+")"),fe.data={category:"tooFewArgs",fn:me,index:J.length,expected:he},fe;const we=Math.max.apply(null,De);if(J.length>we)return fe=new TypeError("Too many arguments in function "+me+" (expected: "+we+", actual: "+J.length+")"),fe.data={category:"tooManyArgs",fn:me,index:J.length,expectedLength:we},fe;const it=[];for(let Ie=0;Ie<J.length;++Ie)it.push(f(J[Ie]).join("|"));return fe=new TypeError('Arguments of type "'+it.join(", ")+'" do not match any of the defined signatures of function '+me+"."),fe.data={category:"mismatch",actual:it},fe}function F($){let J=i.length+1;for(let re=0;re<$.types.length;re++)N($.types[re])&&(J=Math.min(J,$.types[re].typeIndex));return J}function I($){let J=a+1;for(let re=0;re<$.types.length;re++)N($.types[re])||(J=Math.min(J,$.types[re].conversionIndex));return J}function R($,J){if($.hasAny){if(!J.hasAny)return 1}else if(J.hasAny)return-1;if($.restParam){if(!J.restParam)return 1}else if(J.restParam)return-1;if($.hasConversion){if(!J.hasConversion)return 1}else if(J.hasConversion)return-1;const re=F($)-F(J);if(re<0)return-1;if(re>0)return 1;const fe=I($)-I(J);return fe<0?-1:fe>0?1:0}function T($,J){const re=$.params,fe=J.params,he=U(re),me=U(fe),Ae=x(re),xe=x(fe);if(Ae&&he.hasAny){if(!xe||!me.hasAny)return 1}else if(xe&&me.hasAny)return-1;let De=0,we=0,it;for(it of re)it.hasAny&&++De,it.hasConversion&&++we;let Ie=0,Qe=0;for(it of fe)it.hasAny&&++Ie,it.hasConversion&&++Qe;if(De!==Ie)return De-Ie;if(Ae&&he.hasConversion){if(!xe||!me.hasConversion)return 1}else if(xe&&me.hasConversion)return-1;if(we!==Qe)return we-Qe;if(Ae){if(!xe)return 1}else if(xe)return-1;const O=(re.length-fe.length)*(Ae?-1:1);if(O!==0)return O;const te=[];let ge=0;for(let Ue=0;Ue<re.length;++Ue){const et=R(re[Ue],fe[Ue]);te.push(et),ge+=et}if(ge!==0)return ge;let Se;for(Se of te)if(Se!==0)return Se;return 0}function L($){if($.length===0)return[];const J=$.map(o);$.length>1&&J.sort((he,me)=>he.index-me.index);let re=J[0].conversionsTo;if($.length===1)return re;re=re.concat([]);const fe=new Set($);for(let he=1;he<J.length;++he){let me;for(me of J[he].conversionsTo)fe.has(me.from)||(re.push(me),fe.add(me.from))}return re}function _($,J){let re=J;if($.some(he=>he.hasConversion)){const he=x($),me=$.map(H);re=function(){const xe=[],De=he?arguments.length-1:arguments.length;for(let we=0;we<De;we++)xe[we]=me[we](arguments[we]);return he&&(xe[De]=arguments[De].map(me[De])),J.apply(this,xe)}}let fe=re;if(x($)){const he=$.length-1;fe=function(){return re.apply(this,K(arguments,0,he).concat([K(arguments,he)]))}}return fe}function H($){let J,re,fe,he;const me=[],Ae=[];switch($.types.forEach(function(xe){xe.conversion&&(me.push(o(xe.conversion.from).test),Ae.push(xe.conversion.convert))}),Ae.length){case 0:return function(De){return De};case 1:return J=me[0],fe=Ae[0],function(De){return J(De)?fe(De):De};case 2:return J=me[0],re=me[1],fe=Ae[0],he=Ae[1],function(De){return J(De)?fe(De):re(De)?he(De):De};default:return function(De){for(let we=0;we<Ae.length;we++)if(me[we](De))return Ae[we](De);return De}}}function k($){function J(re,fe,he){if(fe<re.length){const me=re[fe];let Ae=[];if(me.restParam){const xe=me.types.filter(N);xe.length<me.types.length&&Ae.push({types:xe,name:"..."+xe.map(De=>De.name).join("|"),hasAny:xe.some(De=>De.isAny),hasConversion:!1,restParam:!0}),Ae.push(me)}else Ae=me.types.map(function(xe){return{types:[xe],name:xe.name,hasAny:xe.isAny,hasConversion:xe.conversion,restParam:!1}});return B(Ae,function(xe){return J(re,fe+1,he.concat([xe]))})}else return[he]}return J($,0,[])}function ie($,J){const re=Math.max($.length,J.length);for(let xe=0;xe<re;xe++){const De=E($,xe),we=E(J,xe);let it=!1,Ie;for(Ie of we)if(De.has(Ie)){it=!0;break}if(!it)return!1}const fe=$.length,he=J.length,me=x($),Ae=x(J);return me?Ae?fe===he:he>=fe:Ae?fe>=he:fe===he}function ee($){return $.map(J=>z(J)?se(J.referToSelf.callback):P(J)?G(J.referTo.references,J.referTo.callback):J)}function X($,J,re){const fe=[];let he;for(he of $){let me=re[he];if(typeof me!="number")throw new TypeError('No definition for referenced signature "'+he+'"');if(me=J[me],typeof me!="function")return!1;fe.push(me)}return fe}function Z($,J,re){const fe=ee($),he=new Array(fe.length).fill(!1);let me=!0;for(;me;){me=!1;let Ae=!0;for(let xe=0;xe<fe.length;++xe){if(he[xe])continue;const De=fe[xe];if(z(De))fe[xe]=De.referToSelf.callback(re),fe[xe].referToSelf=De.referToSelf,he[xe]=!0,Ae=!1;else if(P(De)){const we=X(De.referTo.references,fe,J);we?(fe[xe]=De.referTo.callback.apply(this,we),fe[xe].referTo=De.referTo,he[xe]=!0,Ae=!1):me=!0}}if(Ae&&me)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return fe}function pe($){const J=/\bthis(\(|\.signatures\b)/;Object.keys($).forEach(re=>{const fe=$[re];if(J.test(fe.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function de($,J){if(s.createCount++,Object.keys(J).length===0)throw new SyntaxError("No signatures provided");s.warnAgainstDeprecatedThis&&pe(J);const re=[],fe=[],he={},me=[];let Ae;for(Ae in J){if(!Object.prototype.hasOwnProperty.call(J,Ae))continue;const Xe=w(Ae);if(!Xe)continue;re.forEach(function(Vi){if(ie(Vi,Xe))throw new TypeError('Conflicting signatures "'+v(Vi)+'" and "'+v(Xe)+'".')}),re.push(Xe);const Ft=fe.length;fe.push(J[Ae]);const ii=Xe.map(S);let Ni;for(Ni of k(ii)){const Vi=v(Ni);me.push({params:Ni,name:Vi,fn:Ft}),Ni.every(vr=>!vr.hasConversion)&&(he[Vi]=Ft)}}me.sort(T);const xe=Z(fe,he,Qt);let De;for(De in he)Object.prototype.hasOwnProperty.call(he,De)&&(he[De]=xe[he[De]]);const we=[],it=new Map;for(De of me)it.has(De.name)||(De.fn=xe[De.fn],we.push(De),it.set(De.name,De));const Ie=we[0]&&we[0].params.length<=2&&!x(we[0].params),Qe=we[1]&&we[1].params.length<=2&&!x(we[1].params),O=we[2]&&we[2].params.length<=2&&!x(we[2].params),te=we[3]&&we[3].params.length<=2&&!x(we[3].params),ge=we[4]&&we[4].params.length<=2&&!x(we[4].params),Se=we[5]&&we[5].params.length<=2&&!x(we[5].params),Ue=Ie&&Qe&&O&&te&&ge&&Se;for(let Xe=0;Xe<we.length;++Xe)we[Xe].test=A(we[Xe].params);const et=Ie?b(we[0].params[0]):$n,nr=Qe?b(we[1].params[0]):$n,Nl=O?b(we[2].params[0]):$n,Zp=te?b(we[3].params[0]):$n,or=ge?b(we[4].params[0]):$n,Ea=Se?b(we[5].params[0]):$n,Qp=Ie?b(we[0].params[1]):$n,lc=Qe?b(we[1].params[1]):$n,Dl=O?b(we[2].params[1]):$n,uc=te?b(we[3].params[1]):$n,cc=ge?b(we[4].params[1]):$n,eh=Se?b(we[5].params[1]):$n;for(let Xe=0;Xe<we.length;++Xe)we[Xe].implementation=_(we[Xe].params,we[Xe].fn);const In=Ie?we[0].implementation:xo,Aa=Qe?we[1].implementation:xo,fc=O?we[2].implementation:xo,dc=te?we[3].implementation:xo,Cl=ge?we[4].implementation:xo,pc=Se?we[5].implementation:xo,ni=Ie?we[0].params.length:-1,hc=Qe?we[1].params.length:-1,mc=O?we[2].params.length:-1,gc=te?we[3].params.length:-1,vc=ge?we[4].params.length:-1,th=Se?we[5].params.length:-1,qe=Ue?6:0,ue=we.length,_e=we.map(Xe=>Xe.test),ze=we.map(Xe=>Xe.implementation),Vt=function(){for(let Ft=qe;Ft<ue;Ft++)if(_e[Ft](arguments))return ze[Ft].apply(this,arguments);return s.onMismatch($,arguments,we)};function Qt(Xe,Ft){return arguments.length===ni&&et(Xe)&&Qp(Ft)?In.apply(this,arguments):arguments.length===hc&&nr(Xe)&&lc(Ft)?Aa.apply(this,arguments):arguments.length===mc&&Nl(Xe)&&Dl(Ft)?fc.apply(this,arguments):arguments.length===gc&&Zp(Xe)&&uc(Ft)?dc.apply(this,arguments):arguments.length===vc&&or(Xe)&&cc(Ft)?Cl.apply(this,arguments):arguments.length===th&&Ea(Xe)&&eh(Ft)?pc.apply(this,arguments):Vt.apply(this,arguments)}try{Object.defineProperty(Qt,"name",{value:$})}catch{}return Qt.signatures=he,Qt._typedFunctionData={signatures:we,signatureMap:it},Qt}function j($,J,re){throw M($,J,re)}function W($){return K($,0,$.length-1)}function U($){return $[$.length-1]}function K($,J,re){return Array.prototype.slice.call($,J,re)}function ae($,J){for(let re=0;re<$.length;re++)if(J($[re]))return $[re]}function B($,J){return Array.prototype.concat.apply([],$.map(J))}function q(){const $=W(arguments).map(re=>v(w(re))),J=U(arguments);if(typeof J!="function")throw new TypeError("Callback function expected as last argument");return G($,J)}function G($,J){return{referTo:{references:$,callback:J}}}function se($){if(typeof $!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:$}}}function P($){return $&&typeof $.referTo=="object"&&Array.isArray($.referTo.references)&&typeof $.referTo.callback=="function"}function z($){return $&&typeof $.referToSelf=="object"&&typeof $.referToSelf.callback=="function"}function Y($,J){if(!$)return J;if(J&&J!==$){const re=new Error("Function names do not match (expected: "+$+", actual: "+J+")");throw re.data={actual:J,expected:$},re}return $}function ne($){let J;for(const re in $)Object.prototype.hasOwnProperty.call($,re)&&(d($[re])||typeof $[re].signature=="string")&&(J=Y(J,$[re].name));return J}function oe($,J){let re;for(re in J)if(Object.prototype.hasOwnProperty.call(J,re)){if(re in $&&J[re]!==$[re]){const fe=new Error('Signature "'+re+'" is defined twice');throw fe.data={signature:re,sourceFunction:J[re],destFunction:$[re]},fe}$[re]=J[re]}}const le=s;s=function($){const J=typeof $=="string",re=J?1:0;let fe=J?$:"";const he={};for(let me=re;me<arguments.length;++me){const Ae=arguments[me];let xe={},De;if(typeof Ae=="function"?(De=Ae.name,typeof Ae.signature=="string"?xe[Ae.signature]=Ae:d(Ae)&&(xe=Ae.signatures)):t(Ae)&&(xe=Ae,J||(De=ne(Ae))),Object.keys(xe).length===0){const we=new TypeError("Argument to 'typed' at index "+me+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw we.data={index:me,argument:Ae},we}J||(fe=Y(fe,De)),oe(he,xe)}return de(fe||"",he)},s.create=N2,s.createCount=le.createCount,s.onMismatch=j,s.throwMismatchError=j,s.createError=M,s.clear=u,s.clearConversions=c,s.addTypes=l,s._findType=o,s.referTo=q,s.referToSelf=se,s.convert=m,s.findSignature=p,s.find=h,s.isTypedFunction=d,s.warnAgainstDeprecatedThis=!0,s.addType=function($,J){let re="any";J!==!1&&n.has("Object")&&(re="Object"),s.addTypes([$],re)};function ve($){if(!$||typeof $.from!="string"||typeof $.to!="string"||typeof $.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if($.to===$.from)throw new SyntaxError('Illegal to define conversion from "'+$.from+'" to itself.')}return s.addConversion=function($){let J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};ve($);const re=o($.to),fe=re.conversionsTo.find(he=>he.from===$.from);if(fe)if(J&&J.override)s.removeConversion({from:fe.from,to:$.to,convert:fe.convert});else throw new Error('There is already a conversion from "'+$.from+'" to "'+re.name+'"');re.conversionsTo.push({from:$.from,convert:$.convert,index:a++})},s.addConversions=function($,J){$.forEach(re=>s.addConversion(re,J))},s.removeConversion=function($){ve($);const J=o($.to),re=ae(J.conversionsTo,he=>he.from===$.from);if(!re)throw new Error("Attempt to remove nonexistent conversion from "+$.from+" to "+$.to);if(re.convert!==$.convert)throw new Error("Conversion to remove does not match existing conversion");const fe=J.conversionsTo.indexOf(re);J.conversionsTo.splice(fe,1)},s.resolve=function($,J){if(!d($))throw new TypeError(Lb);const re=$._typedFunctionData.signatures;for(let fe=0;fe<re.length;++fe)if(re[fe].test(J))return re[fe];return null},s}const Td=N2();function V(t,e,r,n){function i(a){var s=Pz(a,e.map(Uz));return zz(t,e,a),r(s)}return i.isFactory=!0,i.fn=t,i.dependencies=e.slice().sort(),n&&(i.meta=n),i}function zz(t,e,r){var n=e.filter(a=>!qz(a)).every(a=>r[a]!==void 0);if(!n){var i=e.filter(a=>r[a]===void 0);throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(i.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function qz(t){return t&&t[0]==="?"}function Uz(t){return t&&t[0]==="?"?t.slice(1):t}function Le(t){return typeof t=="boolean"?!0:isFinite(t)?t===Math.round(t):!1}function fs(t,e){if(e.number==="bigint")try{BigInt(t)}catch{return e.numberFallback}return e.number}var Wa=Math.sign||function(t){return t>0?1:t<0?-1:0},Hz=Math.log2||function(e){return Math.log(e)/Math.LN2},Vz=Math.log10||function(e){return Math.log(e)/Math.LN10},Wz=Math.log1p||function(t){return Math.log(t+1)},Gz=Math.cbrt||function(e){if(e===0)return e;var r=e<0,n;return r&&(e=-e),isFinite(e)?(n=Math.exp(Math.log(e)/3),n=(e/(n*n)+2*n)/3):n=e,r?-n:n},jz=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function sm(t,e,r){var n={2:"0b",8:"0o",16:"0x"},i=n[e],a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Le(r))throw new Error("size must be an integer");if(t>2**(r-1)-1||t<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!Le(t))throw new Error("Value must be an integer");t<0&&(t=t+2**r),a="i".concat(r)}var s="";return t<0&&(t=-t,s="-"),"".concat(s).concat(i).concat(t.toString(e)).concat(a)}function Gs(t,e){if(typeof e=="function")return e(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var{notation:r,precision:n,wordSize:i}=D2(e);switch(r){case"fixed":return C2(t,n);case"exponential":return M2(t,n);case"engineering":return Kz(t,n);case"bin":return sm(t,2,i);case"oct":return sm(t,8,i);case"hex":return sm(t,16,i);case"auto":return Jz(t,n,e).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],s=arguments[4];return a!=="."?a+s:s});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function D2(t){var e="auto",r,n;if(t!==void 0)if(at(t))r=t;else if(lt(t))r=t.toNumber();else if(Op(t))t.precision!==void 0&&(r=zb(t.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),t.wordSize!==void 0&&(n=zb(t.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),t.notation&&(e=t.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:e,precision:r,wordSize:n}}function Zu(t){var e=String(t).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var r=e[1],n=e[2],i=parseFloat(e[4]||"0"),a=n.indexOf(".");i+=a!==-1?a-1:n.length-1;var s=n.replace(".","").replace(/^0*/,function(o){return i-=o.length,""}).replace(/0*$/,"").split("").map(function(o){return parseInt(o)});return s.length===0&&(s.push(0),i++),{sign:r,coefficients:s,exponent:i}}function Kz(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Zu(t),n=Bp(r,e),i=n.exponent,a=n.coefficients,s=i%3===0?i:i<0?i-3-i%3:i-i%3;if(at(e))for(;e>a.length||i-s+1>a.length;)a.push(0);else for(var o=Math.abs(i-s)-(a.length-1),l=0;l<o;l++)a.push(0);for(var u=Math.abs(i-s),c=1;u>0;)c++,u--;var f=a.slice(c).join(""),d=at(e)&&f.length||f.match(/[1-9]/)?"."+f:"",p=a.slice(0,c).join("")+d+"e"+(i>=0?"+":"")+s.toString();return n.sign+p}function C2(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Zu(t),n=typeof e=="number"?Bp(r,r.exponent+1+e):r,i=n.coefficients,a=n.exponent+1,s=a+(e||0);return i.length<s&&(i=i.concat(Wo(s-i.length))),a<0&&(i=Wo(-a+1).concat(i),a=1),a<i.length&&i.splice(a,0,a===0?"0.":"."),n.sign+i.join("")}function M2(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Zu(t),n=e?Bp(r,e):r,i=n.coefficients,a=n.exponent;i.length<e&&(i=i.concat(Wo(e-i.length)));var s=i.shift();return n.sign+s+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a}function Jz(t,e,r){if(isNaN(t)||!isFinite(t))return String(t);var n=qb(r==null?void 0:r.lowerExp,-3),i=qb(r==null?void 0:r.upperExp,5),a=Zu(t),s=e?Bp(a,e):a;if(s.exponent<n||s.exponent>=i)return M2(t,e);var o=s.coefficients,l=s.exponent;o.length<e&&(o=o.concat(Wo(e-o.length))),o=o.concat(Wo(l-o.length+1+(o.length<e?e-o.length:0))),o=Wo(-l).concat(o);var u=l>0?l:0;return u<o.length-1&&o.splice(u+1,0,"."),s.sign+o.join("")}function Bp(t,e){for(var r={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},n=r.coefficients;e<=0;)n.unshift(0),r.exponent++,e++;if(n.length>e){var i=n.splice(e,n.length-e);if(i[0]>=5){var a=e-1;for(n[a]++;n[a]===10;)n.pop(),a===0&&(n.unshift(0),r.exponent++,a++),a--,n[a]++}}return r}function Wo(t){for(var e=[],r=0;r<t;r++)e.push(0);return e}function Yz(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function Lr(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(t)||isNaN(e)?!1:!isFinite(t)||!isFinite(e)?t===e:t===e?!0:Math.abs(t-e)<=Math.max(r*Math.max(Math.abs(t),Math.abs(e)),n)}var Xz=Math.acosh||function(t){return Math.log(Math.sqrt(t*t-1)+t)},Zz=Math.asinh||function(t){return Math.log(Math.sqrt(t*t+1)+t)},Qz=Math.atanh||function(t){return Math.log((1+t)/(1-t))/2},e6=Math.cosh||function(t){return(Math.exp(t)+Math.exp(-t))/2},t6=Math.sinh||function(t){return(Math.exp(t)-Math.exp(-t))/2},r6=Math.tanh||function(t){var e=Math.exp(2*t);return(e-1)/(e+1)};function n6(t,e){var r=!0,n=e>0?!0:e<0?!1:1/e===1/0;return r^n?-6.283185307179586:t}function zb(t,e){if(at(t))return t;if(lt(t))return t.toNumber();e()}function qb(t,e){return at(t)?t:lt(t)?t.toNumber():e}var T2=function(){return T2=Td.create,Td},i6=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],a6=V("typed",i6,function(e){var{BigNumber:r,Complex:n,DenseMatrix:i,Fraction:a}=e,s=T2();return s.clear(),s.addTypes([{name:"number",test:at},{name:"Complex",test:ha},{name:"BigNumber",test:lt},{name:"bigint",test:pu},{name:"Fraction",test:Yu},{name:"Unit",test:Vn},{name:"identifier",test:o=>Gr&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(o)},{name:"string",test:Gr},{name:"Chain",test:E2},{name:"Array",test:Bt},{name:"Matrix",test:Ge},{name:"DenseMatrix",test:Md},{name:"SparseMatrix",test:Ps},{name:"Range",test:Yv},{name:"Index",test:_p},{name:"boolean",test:Ez},{name:"ResultSet",test:Az},{name:"Help",test:w2},{name:"function",test:Nz},{name:"Date",test:Dz},{name:"RegExp",test:Cz},{name:"null",test:Mz},{name:"undefined",test:Tz},{name:"AccessorNode",test:Qs},{name:"ArrayNode",test:Hn},{name:"AssignmentNode",test:_z},{name:"BlockNode",test:Oz},{name:"ConditionalNode",test:Fz},{name:"ConstantNode",test:Et},{name:"FunctionNode",test:ns},{name:"FunctionAssignmentNode",test:Xu},{name:"IndexNode",test:pl},{name:"Node",test:Ot},{name:"ObjectNode",test:Fp},{name:"OperatorNode",test:ir},{name:"ParenthesisNode",test:ya},{name:"RangeNode",test:Bz},{name:"RelationalNode",test:kz},{name:"SymbolNode",test:Sr},{name:"Map",test:S2},{name:"Object",test:Op}]),s.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(r||Lc(l),Yz(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new r(l)}},{from:"number",to:"Complex",convert:function(l){return n||zc(l),new n(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return n||zc(l),new n(l.toNumber(),0)}},{from:"bigint",to:"number",convert:function(l){if(l>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+l+")");return Number(l)}},{from:"bigint",to:"BigNumber",convert:function(l){return r||Lc(l),new r(l.toString())}},{from:"bigint",to:"Fraction",convert:function(l){return a||qc(l),new a(l)}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return n||zc(l),new n(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){a||qc(l);var u=new a(l);if(u.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return u}},{from:"string",to:"number",convert:function(l){var u=Number(l);if(isNaN(u))throw new Error('Cannot convert "'+l+'" to a number');return u}},{from:"string",to:"BigNumber",convert:function(l){r||Lc(l);try{return new r(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(l){try{return BigInt(l)}catch{throw new Error('Cannot convert "'+l+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(l){a||qc(l);try{return new a(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){n||zc(l);try{return new n(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return r||Lc(l),new r(+l)}},{from:"boolean",to:"bigint",convert:function(l){return BigInt(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return a||qc(l),new a(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return i||s6(),new i(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),s.onMismatch=(o,l,u)=>{var c=s.createError(o,l,u);if(["wrongType","mismatch"].includes(c.data.category)&&l.length===1&&Qn(l[0])&&u.some(d=>!d.params.includes(","))){var f=new TypeError("Function '".concat(o,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(o,")'."));throw f.data=c.data,f}throw c},s.onMismatch=(o,l,u)=>{var c=s.createError(o,l,u);if(["wrongType","mismatch"].includes(c.data.category)&&l.length===1&&Qn(l[0])&&u.some(d=>!d.params.includes(","))){var f=new TypeError("Function '".concat(o,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(o,")'."));throw f.data=c.data,f}throw c},s});function Lc(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function zc(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function s6(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function qc(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}var o6="ResultSet",l6=[],u6=V(o6,l6,()=>{function t(e){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return t.prototype.type="ResultSet",t.prototype.isResultSet=!0,t.prototype.valueOf=function(){return this.entries},t.prototype.toString=function(){return"["+this.entries.map(String).join(", ")+"]"},t.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},t.fromJSON=function(e){return new t(e.entries)},t},{isClass:!0});/*!
 *  decimal.js v10.5.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Sg=9e15,ds=1e9,Eg="0123456789abcdef",_d="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Od="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Ag={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:Sg,crypto:!1},_2,la,rt=!0,kp="[DecimalError] ",is=kp+"Invalid argument: ",O2=kp+"Precision limit exceeded",F2=kp+"crypto unavailable",B2="[object Decimal]",Yr=Math.floor,dr=Math.pow,c6=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,f6=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,d6=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,k2=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,di=1e7,Je=7,p6=9007199254740991,h6=_d.length-1,Ng=Od.length-1,Ee={toStringTag:B2};Ee.absoluteValue=Ee.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),We(t)};Ee.ceil=function(){return We(new this.constructor(this),this.e+1,2)};Ee.clampedTo=Ee.clamp=function(t,e){var r,n=this,i=n.constructor;if(t=new i(t),e=new i(e),!t.s||!e.s)return new i(NaN);if(t.gt(e))throw Error(is+e);return r=n.cmp(t),r<0?t:n.cmp(e)>0?e:new i(n)};Ee.comparedTo=Ee.cmp=function(t){var e,r,n,i,a=this,s=a.d,o=(t=new a.constructor(t)).d,l=a.s,u=t.s;if(!s||!o)return!l||!u?NaN:l!==u?l:s===o?0:!s^l<0?1:-1;if(!s[0]||!o[0])return s[0]?l:o[0]?-u:0;if(l!==u)return l;if(a.e!==t.e)return a.e>t.e^l<0?1:-1;for(n=s.length,i=o.length,e=0,r=n<i?n:i;e<r;++e)if(s[e]!==o[e])return s[e]>o[e]^l<0?1:-1;return n===i?0:n>i^l<0?1:-1};Ee.cosine=Ee.cos=function(){var t,e,r=this,n=r.constructor;return r.d?r.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+Je,n.rounding=1,r=m6(n,L2(n,r)),n.precision=t,n.rounding=e,We(la==2||la==3?r.neg():r,t,e,!0)):new n(1):new n(NaN)};Ee.cubeRoot=Ee.cbrt=function(){var t,e,r,n,i,a,s,o,l,u,c=this,f=c.constructor;if(!c.isFinite()||c.isZero())return new f(c);for(rt=!1,a=c.s*dr(c.s*c,1/3),!a||Math.abs(a)==1/0?(r=Ir(c.d),t=c.e,(a=(t-r.length+1)%3)&&(r+=a==1||a==-2?"0":"00"),a=dr(r,1/3),t=Yr((t+1)/3)-(t%3==(t<0?-1:2)),a==1/0?r="5e"+t:(r=a.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),n=new f(r),n.s=c.s):n=new f(a.toString()),s=(t=f.precision)+3;;)if(o=n,l=o.times(o).times(o),u=l.plus(c),n=Ut(u.plus(c).times(o),u.plus(l),s+2,1),Ir(o.d).slice(0,s)===(r=Ir(n.d)).slice(0,s))if(r=r.slice(s-3,s+1),r=="9999"||!i&&r=="4999"){if(!i&&(We(o,t+1,0),o.times(o).times(o).eq(c))){n=o;break}s+=4,i=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(We(n,t+1,1),e=!n.times(n).times(n).eq(c));break}return rt=!0,We(n,t,f.rounding,e)};Ee.decimalPlaces=Ee.dp=function(){var t,e=this.d,r=NaN;if(e){if(t=e.length-1,r=(t-Yr(this.e/Je))*Je,t=e[t],t)for(;t%10==0;t/=10)r--;r<0&&(r=0)}return r};Ee.dividedBy=Ee.div=function(t){return Ut(this,new this.constructor(t))};Ee.dividedToIntegerBy=Ee.divToInt=function(t){var e=this,r=e.constructor;return We(Ut(e,new r(t),0,1,1),r.precision,r.rounding)};Ee.equals=Ee.eq=function(t){return this.cmp(t)===0};Ee.floor=function(){return We(new this.constructor(this),this.e+1,3)};Ee.greaterThan=Ee.gt=function(t){return this.cmp(t)>0};Ee.greaterThanOrEqualTo=Ee.gte=function(t){var e=this.cmp(t);return e==1||e===0};Ee.hyperbolicCosine=Ee.cosh=function(){var t,e,r,n,i,a=this,s=a.constructor,o=new s(1);if(!a.isFinite())return new s(a.s?1/0:NaN);if(a.isZero())return o;r=s.precision,n=s.rounding,s.precision=r+Math.max(a.e,a.sd())+4,s.rounding=1,i=a.d.length,i<32?(t=Math.ceil(i/3),e=(1/Rp(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),a=il(s,1,a.times(e),new s(1),!0);for(var l,u=t,c=new s(8);u--;)l=a.times(a),a=o.minus(l.times(c.minus(l.times(c))));return We(a,s.precision=r,s.rounding=n,!0)};Ee.hyperbolicSine=Ee.sinh=function(){var t,e,r,n,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(e=a.precision,r=a.rounding,a.precision=e+Math.max(i.e,i.sd())+4,a.rounding=1,n=i.d.length,n<3)i=il(a,2,i,i,!0);else{t=1.4*Math.sqrt(n),t=t>16?16:t|0,i=i.times(1/Rp(5,t)),i=il(a,2,i,i,!0);for(var s,o=new a(5),l=new a(16),u=new a(20);t--;)s=i.times(i),i=i.times(o.plus(s.times(l.times(s).plus(u))))}return a.precision=e,a.rounding=r,We(i,e,r,!0)};Ee.hyperbolicTangent=Ee.tanh=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,Ut(r.sinh(),r.cosh(),n.precision=t,n.rounding=e)):new n(r.s)};Ee.inverseCosine=Ee.acos=function(){var t=this,e=t.constructor,r=t.abs().cmp(1),n=e.precision,i=e.rounding;return r!==-1?r===0?t.isNeg()?Bi(e,n,i):new e(0):new e(NaN):t.isZero()?Bi(e,n+4,i).times(.5):(e.precision=n+6,e.rounding=1,t=new e(1).minus(t).div(t.plus(1)).sqrt().atan(),e.precision=n,e.rounding=i,t.times(2))};Ee.inverseHyperbolicCosine=Ee.acosh=function(){var t,e,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,rt=!1,r=r.times(r).minus(1).sqrt().plus(r),rt=!0,n.precision=t,n.rounding=e,r.ln()):new n(r)};Ee.inverseHyperbolicSine=Ee.asinh=function(){var t,e,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,rt=!1,r=r.times(r).plus(1).sqrt().plus(r),rt=!0,n.precision=t,n.rounding=e,r.ln())};Ee.inverseHyperbolicTangent=Ee.atanh=function(){var t,e,r,n,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=a.precision,e=a.rounding,n=i.sd(),Math.max(n,t)<2*-i.e-1?We(new a(i),t,e,!0):(a.precision=r=n-i.e,i=Ut(i.plus(1),new a(1).minus(i),r+t,1),a.precision=t+4,a.rounding=1,i=i.ln(),a.precision=t,a.rounding=e,i.times(.5))):new a(NaN)};Ee.inverseSine=Ee.asin=function(){var t,e,r,n,i=this,a=i.constructor;return i.isZero()?new a(i):(e=i.abs().cmp(1),r=a.precision,n=a.rounding,e!==-1?e===0?(t=Bi(a,r+4,n).times(.5),t.s=i.s,t):new a(NaN):(a.precision=r+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=n,i.times(2)))};Ee.inverseTangent=Ee.atan=function(){var t,e,r,n,i,a,s,o,l,u=this,c=u.constructor,f=c.precision,d=c.rounding;if(u.isFinite()){if(u.isZero())return new c(u);if(u.abs().eq(1)&&f+4<=Ng)return s=Bi(c,f+4,d).times(.25),s.s=u.s,s}else{if(!u.s)return new c(NaN);if(f+4<=Ng)return s=Bi(c,f+4,d).times(.5),s.s=u.s,s}for(c.precision=o=f+10,c.rounding=1,r=Math.min(28,o/Je+2|0),t=r;t;--t)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(rt=!1,e=Math.ceil(o/Je),n=1,l=u.times(u),s=new c(u),i=u;t!==-1;)if(i=i.times(l),a=s.minus(i.div(n+=2)),i=i.times(l),s=a.plus(i.div(n+=2)),s.d[e]!==void 0)for(t=e;s.d[t]===a.d[t]&&t--;);return r&&(s=s.times(2<<r-1)),rt=!0,We(s,c.precision=f,c.rounding=d,!0)};Ee.isFinite=function(){return!!this.d};Ee.isInteger=Ee.isInt=function(){return!!this.d&&Yr(this.e/Je)>this.d.length-2};Ee.isNaN=function(){return!this.s};Ee.isNegative=Ee.isNeg=function(){return this.s<0};Ee.isPositive=Ee.isPos=function(){return this.s>0};Ee.isZero=function(){return!!this.d&&this.d[0]===0};Ee.lessThan=Ee.lt=function(t){return this.cmp(t)<0};Ee.lessThanOrEqualTo=Ee.lte=function(t){return this.cmp(t)<1};Ee.logarithm=Ee.log=function(t){var e,r,n,i,a,s,o,l,u=this,c=u.constructor,f=c.precision,d=c.rounding,p=5;if(t==null)t=new c(10),e=!0;else{if(t=new c(t),r=t.d,t.s<0||!r||!r[0]||t.eq(1))return new c(NaN);e=t.eq(10)}if(r=u.d,u.s<0||!r||!r[0]||u.eq(1))return new c(r&&!r[0]?-1/0:u.s!=1?NaN:r?0:1/0);if(e)if(r.length>1)a=!0;else{for(i=r[0];i%10===0;)i/=10;a=i!==1}if(rt=!1,o=f+p,s=Ga(u,o),n=e?Fd(c,o+10):Ga(t,o),l=Ut(s,n,o,1),Iu(l.d,i=f,d))do if(o+=10,s=Ga(u,o),n=e?Fd(c,o+10):Ga(t,o),l=Ut(s,n,o,1),!a){+Ir(l.d).slice(i+1,i+15)+1==1e14&&(l=We(l,f+1,0));break}while(Iu(l.d,i+=10,d));return rt=!0,We(l,f,d)};Ee.minus=Ee.sub=function(t){var e,r,n,i,a,s,o,l,u,c,f,d,p=this,h=p.constructor;if(t=new h(t),!p.d||!t.d)return!p.s||!t.s?t=new h(NaN):p.d?t.s=-t.s:t=new h(t.d||p.s!==t.s?p:NaN),t;if(p.s!=t.s)return t.s=-t.s,p.plus(t);if(u=p.d,d=t.d,o=h.precision,l=h.rounding,!u[0]||!d[0]){if(d[0])t.s=-t.s;else if(u[0])t=new h(p);else return new h(l===3?-0:0);return rt?We(t,o,l):t}if(r=Yr(t.e/Je),c=Yr(p.e/Je),u=u.slice(),a=c-r,a){for(f=a<0,f?(e=u,a=-a,s=d.length):(e=d,r=c,s=u.length),n=Math.max(Math.ceil(o/Je),s)+2,a>n&&(a=n,e.length=1),e.reverse(),n=a;n--;)e.push(0);e.reverse()}else{for(n=u.length,s=d.length,f=n<s,f&&(s=n),n=0;n<s;n++)if(u[n]!=d[n]){f=u[n]<d[n];break}a=0}for(f&&(e=u,u=d,d=e,t.s=-t.s),s=u.length,n=d.length-s;n>0;--n)u[s++]=0;for(n=d.length;n>a;){if(u[--n]<d[n]){for(i=n;i&&u[--i]===0;)u[i]=di-1;--u[i],u[n]+=di}u[n]-=d[n]}for(;u[--s]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=Ip(u,r),rt?We(t,o,l):t):new h(l===3?-0:0)};Ee.modulo=Ee.mod=function(t){var e,r=this,n=r.constructor;return t=new n(t),!r.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||r.d&&!r.d[0]?We(new n(r),n.precision,n.rounding):(rt=!1,n.modulo==9?(e=Ut(r,t.abs(),0,3,1),e.s*=t.s):e=Ut(r,t,0,n.modulo,1),e=e.times(t),rt=!0,r.minus(e))};Ee.naturalExponential=Ee.exp=function(){return Dg(this)};Ee.naturalLogarithm=Ee.ln=function(){return Ga(this)};Ee.negated=Ee.neg=function(){var t=new this.constructor(this);return t.s=-t.s,We(t)};Ee.plus=Ee.add=function(t){var e,r,n,i,a,s,o,l,u,c,f=this,d=f.constructor;if(t=new d(t),!f.d||!t.d)return!f.s||!t.s?t=new d(NaN):f.d||(t=new d(t.d||f.s===t.s?f:NaN)),t;if(f.s!=t.s)return t.s=-t.s,f.minus(t);if(u=f.d,c=t.d,o=d.precision,l=d.rounding,!u[0]||!c[0])return c[0]||(t=new d(f)),rt?We(t,o,l):t;if(a=Yr(f.e/Je),n=Yr(t.e/Je),u=u.slice(),i=a-n,i){for(i<0?(r=u,i=-i,s=c.length):(r=c,n=a,s=u.length),a=Math.ceil(o/Je),s=a>s?a+1:s+1,i>s&&(i=s,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(s=u.length,i=c.length,s-i<0&&(i=s,r=c,c=u,u=r),e=0;i;)e=(u[--i]=u[i]+c[i]+e)/di|0,u[i]%=di;for(e&&(u.unshift(e),++n),s=u.length;u[--s]==0;)u.pop();return t.d=u,t.e=Ip(u,n),rt?We(t,o,l):t};Ee.precision=Ee.sd=function(t){var e,r=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(is+t);return r.d?(e=I2(r.d),t&&r.e+1>e&&(e=r.e+1)):e=NaN,e};Ee.round=function(){var t=this,e=t.constructor;return We(new e(t),t.e+1,e.rounding)};Ee.sine=Ee.sin=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+Je,n.rounding=1,r=v6(n,L2(n,r)),n.precision=t,n.rounding=e,We(la>2?r.neg():r,t,e,!0)):new n(NaN)};Ee.squareRoot=Ee.sqrt=function(){var t,e,r,n,i,a,s=this,o=s.d,l=s.e,u=s.s,c=s.constructor;if(u!==1||!o||!o[0])return new c(!u||u<0&&(!o||o[0])?NaN:o?s:1/0);for(rt=!1,u=Math.sqrt(+s),u==0||u==1/0?(e=Ir(o),(e.length+l)%2==0&&(e+="0"),u=Math.sqrt(e),l=Yr((l+1)/2)-(l<0||l%2),u==1/0?e="5e"+l:(e=u.toExponential(),e=e.slice(0,e.indexOf("e")+1)+l),n=new c(e)):n=new c(u.toString()),r=(l=c.precision)+3;;)if(a=n,n=a.plus(Ut(s,a,r+2,1)).times(.5),Ir(a.d).slice(0,r)===(e=Ir(n.d)).slice(0,r))if(e=e.slice(r-3,r+1),e=="9999"||!i&&e=="4999"){if(!i&&(We(a,l+1,0),a.times(a).eq(s))){n=a;break}r+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(We(n,l+1,1),t=!n.times(n).eq(s));break}return rt=!0,We(n,l,c.rounding,t)};Ee.tangent=Ee.tan=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,r=r.sin(),r.s=1,r=Ut(r,new n(1).minus(r.times(r)).sqrt(),t+10,0),n.precision=t,n.rounding=e,We(la==2||la==4?r.neg():r,t,e,!0)):new n(NaN)};Ee.times=Ee.mul=function(t){var e,r,n,i,a,s,o,l,u,c=this,f=c.constructor,d=c.d,p=(t=new f(t)).d;if(t.s*=c.s,!d||!d[0]||!p||!p[0])return new f(!t.s||d&&!d[0]&&!p||p&&!p[0]&&!d?NaN:!d||!p?t.s/0:t.s*0);for(r=Yr(c.e/Je)+Yr(t.e/Je),l=d.length,u=p.length,l<u&&(a=d,d=p,p=a,s=l,l=u,u=s),a=[],s=l+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=l+n;i>n;)o=a[i]+p[n]*d[i-n-1]+e,a[i--]=o%di|0,e=o/di|0;a[i]=(a[i]+e)%di|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=Ip(a,r),rt?We(t,f.precision,f.rounding):t};Ee.toBinary=function(t,e){return Xv(this,2,t,e)};Ee.toDecimalPlaces=Ee.toDP=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Dn(t,0,ds),e===void 0?e=n.rounding:Dn(e,0,8),We(r,t+r.e+1,e))};Ee.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Li(n,!0):(Dn(t,0,ds),e===void 0?e=i.rounding:Dn(e,0,8),n=We(new i(n),t+1,e),r=Li(n,!0,t+1)),n.isNeg()&&!n.isZero()?"-"+r:r};Ee.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?r=Li(i):(Dn(t,0,ds),e===void 0?e=a.rounding:Dn(e,0,8),n=We(new a(i),t+i.e+1,e),r=Li(n,!1,t+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r};Ee.toFraction=function(t){var e,r,n,i,a,s,o,l,u,c,f,d,p=this,h=p.d,m=p.constructor;if(!h)return new m(p);if(u=r=new m(1),n=l=new m(0),e=new m(n),a=e.e=I2(h)-p.e-1,s=a%Je,e.d[0]=dr(10,s<0?Je+s:s),t==null)t=a>0?e:u;else{if(o=new m(t),!o.isInt()||o.lt(u))throw Error(is+o);t=o.gt(e)?a>0?e:u:o}for(rt=!1,o=new m(Ir(h)),c=m.precision,m.precision=a=h.length*Je*2;f=Ut(o,e,0,1,1),i=r.plus(f.times(n)),i.cmp(t)!=1;)r=n,n=i,i=u,u=l.plus(f.times(i)),l=i,i=e,e=o.minus(f.times(i)),o=i;return i=Ut(t.minus(r),n,0,1,1),l=l.plus(i.times(u)),r=r.plus(i.times(n)),l.s=u.s=p.s,d=Ut(u,n,a,1).minus(p).abs().cmp(Ut(l,r,a,1).minus(p).abs())<1?[u,n]:[l,r],m.precision=c,rt=!0,d};Ee.toHexadecimal=Ee.toHex=function(t,e){return Xv(this,16,t,e)};Ee.toNearest=function(t,e){var r=this,n=r.constructor;if(r=new n(r),t==null){if(!r.d)return r;t=new n(1),e=n.rounding}else{if(t=new n(t),e===void 0?e=n.rounding:Dn(e,0,8),!r.d)return t.s?r:t;if(!t.d)return t.s&&(t.s=r.s),t}return t.d[0]?(rt=!1,r=Ut(r,t,0,e,1).times(t),rt=!0,We(r)):(t.s=r.s,r=t),r};Ee.toNumber=function(){return+this};Ee.toOctal=function(t,e){return Xv(this,8,t,e)};Ee.toPower=Ee.pow=function(t){var e,r,n,i,a,s,o=this,l=o.constructor,u=+(t=new l(t));if(!o.d||!t.d||!o.d[0]||!t.d[0])return new l(dr(+o,u));if(o=new l(o),o.eq(1))return o;if(n=l.precision,a=l.rounding,t.eq(1))return We(o,n,a);if(e=Yr(t.e/Je),e>=t.d.length-1&&(r=u<0?-u:u)<=p6)return i=R2(l,o,r,n),t.s<0?new l(1).div(i):We(i,n,a);if(s=o.s,s<0){if(e<t.d.length-1)return new l(NaN);if((t.d[e]&1)==0&&(s=1),o.e==0&&o.d[0]==1&&o.d.length==1)return o.s=s,o}return r=dr(+o,u),e=r==0||!isFinite(r)?Yr(u*(Math.log("0."+Ir(o.d))/Math.LN10+o.e+1)):new l(r+"").e,e>l.maxE+1||e<l.minE-1?new l(e>0?s/0:0):(rt=!1,l.rounding=o.s=1,r=Math.min(12,(e+"").length),i=Dg(t.times(Ga(o,n+r)),n),i.d&&(i=We(i,n+5,1),Iu(i.d,n,a)&&(e=n+10,i=We(Dg(t.times(Ga(o,e+r)),e),e+5,1),+Ir(i.d).slice(n+1,n+15)+1==1e14&&(i=We(i,n+1,0)))),i.s=s,rt=!0,l.rounding=a,We(i,n,a))};Ee.toPrecision=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Li(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(Dn(t,1,ds),e===void 0?e=i.rounding:Dn(e,0,8),n=We(new i(n),t,e),r=Li(n,t<=n.e||n.e<=i.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+r:r};Ee.toSignificantDigits=Ee.toSD=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Dn(t,1,ds),e===void 0?e=n.rounding:Dn(e,0,8)),We(new n(r),t,e)};Ee.toString=function(){var t=this,e=t.constructor,r=Li(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+r:r};Ee.truncated=Ee.trunc=function(){return We(new this.constructor(this),this.e+1,1)};Ee.valueOf=Ee.toJSON=function(){var t=this,e=t.constructor,r=Li(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+r:r};function Ir(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=Je-n.length,r&&(a+=Pa(r)),a+=n;s=t[e],n=s+"",r=Je-n.length,r&&(a+=Pa(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}function Dn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(is+t)}function Iu(t,e,r,n){var i,a,s,o;for(a=t[0];a>=10;a/=10)--e;return--e<0?(e+=Je,i=0):(i=Math.ceil((e+1)/Je),e%=Je),a=dr(10,Je-e),o=t[i]%a|0,n==null?e<3?(e==0?o=o/100|0:e==1&&(o=o/10|0),s=r<4&&o==99999||r>3&&o==49999||o==5e4||o==0):s=(r<4&&o+1==a||r>3&&o+1==a/2)&&(t[i+1]/a/100|0)==dr(10,e-2)-1||(o==a/2||o==0)&&(t[i+1]/a/100|0)==0:e<4?(e==0?o=o/1e3|0:e==1?o=o/100|0:e==2&&(o=o/10|0),s=(n||r<4)&&o==9999||!n&&r>3&&o==4999):s=((n||r<4)&&o+1==a||!n&&r>3&&o+1==a/2)&&(t[i+1]/a/1e3|0)==dr(10,e-3)-1,s}function xf(t,e,r){for(var n,i=[0],a,s=0,o=t.length;s<o;){for(a=i.length;a--;)i[a]*=e;for(i[0]+=Eg.indexOf(t.charAt(s++)),n=0;n<i.length;n++)i[n]>r-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}function m6(t,e){var r,n,i;if(e.isZero())return e;n=e.d.length,n<32?(r=Math.ceil(n/3),i=(1/Rp(4,r)).toString()):(r=16,i="2.3283064365386962890625e-10"),t.precision+=r,e=il(t,1,e.times(i),new t(1));for(var a=r;a--;){var s=e.times(e);e=s.times(s).minus(s).times(8).plus(1)}return t.precision-=r,e}var Ut=function(){function t(n,i,a){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+o,n[l]=s%a|0,o=s/a|0;return o&&n.unshift(o),n}function e(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a,s){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*s+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s,o,l){var u,c,f,d,p,h,m,v,y,S,g,w,x,b,A,D,E,N,C,M,F=n.constructor,I=n.s==i.s?1:-1,R=n.d,T=i.d;if(!R||!R[0]||!T||!T[0])return new F(!n.s||!i.s||(R?T&&R[0]==T[0]:!T)?NaN:R&&R[0]==0||!T?I*0:I/0);for(l?(p=1,c=n.e-i.e):(l=di,p=Je,c=Yr(n.e/p)-Yr(i.e/p)),C=T.length,E=R.length,y=new F(I),S=y.d=[],f=0;T[f]==(R[f]||0);f++);if(T[f]>(R[f]||0)&&c--,a==null?(b=a=F.precision,s=F.rounding):o?b=a+(n.e-i.e)+1:b=a,b<0)S.push(1),h=!0;else{if(b=b/p+2|0,f=0,C==1){for(d=0,T=T[0],b++;(f<E||d)&&b--;f++)A=d*l+(R[f]||0),S[f]=A/T|0,d=A%T|0;h=d||f<E}else{for(d=l/(T[0]+1)|0,d>1&&(T=t(T,d,l),R=t(R,d,l),C=T.length,E=R.length),D=C,g=R.slice(0,C),w=g.length;w<C;)g[w++]=0;M=T.slice(),M.unshift(0),N=T[0],T[1]>=l/2&&++N;do d=0,u=e(T,g,C,w),u<0?(x=g[0],C!=w&&(x=x*l+(g[1]||0)),d=x/N|0,d>1?(d>=l&&(d=l-1),m=t(T,d,l),v=m.length,w=g.length,u=e(m,g,v,w),u==1&&(d--,r(m,C<v?M:T,v,l))):(d==0&&(u=d=1),m=T.slice()),v=m.length,v<w&&m.unshift(0),r(g,m,w,l),u==-1&&(w=g.length,u=e(T,g,C,w),u<1&&(d++,r(g,C<w?M:T,w,l))),w=g.length):u===0&&(d++,g=[0]),S[f++]=d,u&&g[0]?g[w++]=R[D]||0:(g=[R[D]],w=1);while((D++<E||g[0]!==void 0)&&b--);h=g[0]!==void 0}S[0]||S.shift()}if(p==1)y.e=c,_2=h;else{for(f=1,d=S[0];d>=10;d/=10)f++;y.e=f+c*p-1,We(y,o?a+y.e+1:a,s,h)}return y}}();function We(t,e,r,n){var i,a,s,o,l,u,c,f,d,p=t.constructor;e:if(e!=null){if(f=t.d,!f)return t;for(i=1,o=f[0];o>=10;o/=10)i++;if(a=e-i,a<0)a+=Je,s=e,c=f[d=0],l=c/dr(10,i-s-1)%10|0;else if(d=Math.ceil((a+1)/Je),o=f.length,d>=o)if(n){for(;o++<=d;)f.push(0);c=l=0,i=1,a%=Je,s=a-Je+1}else break e;else{for(c=o=f[d],i=1;o>=10;o/=10)i++;a%=Je,s=a-Je+i,l=s<0?0:c/dr(10,i-s-1)%10|0}if(n=n||e<0||f[d+1]!==void 0||(s<0?c:c%dr(10,i-s-1)),u=r<4?(l||n)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||n||r==6&&(a>0?s>0?c/dr(10,i-s):0:f[d-1])%10&1||r==(t.s<0?8:7)),e<1||!f[0])return f.length=0,u?(e-=t.e+1,f[0]=dr(10,(Je-e%Je)%Je),t.e=-e||0):f[0]=t.e=0,t;if(a==0?(f.length=d,o=1,d--):(f.length=d+1,o=dr(10,Je-a),f[d]=s>0?(c/dr(10,i-s)%dr(10,s)|0)*o:0),u)for(;;)if(d==0){for(a=1,s=f[0];s>=10;s/=10)a++;for(s=f[0]+=o,o=1;s>=10;s/=10)o++;a!=o&&(t.e++,f[0]==di&&(f[0]=1));break}else{if(f[d]+=o,f[d]!=di)break;f[d--]=0,o=1}for(a=f.length;f[--a]===0;)f.pop()}return rt&&(t.e>p.maxE?(t.d=null,t.e=NaN):t.e<p.minE&&(t.e=0,t.d=[0])),t}function Li(t,e,r){if(!t.isFinite())return $2(t);var n,i=t.e,a=Ir(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Pa(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(t.e<0?"e":"e+")+t.e):i<0?(a="0."+Pa(-i-1)+a,r&&(n=r-s)>0&&(a+=Pa(n))):i>=s?(a+=Pa(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Pa(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Pa(n))),a}function Ip(t,e){var r=t[0];for(e*=Je;r>=10;r/=10)e++;return e}function Fd(t,e,r){if(e>h6)throw rt=!0,r&&(t.precision=r),Error(O2);return We(new t(_d),e,1,!0)}function Bi(t,e,r){if(e>Ng)throw Error(O2);return We(new t(Od),e,r,!0)}function I2(t){var e=t.length-1,r=e*Je+1;if(e=t[e],e){for(;e%10==0;e/=10)r--;for(e=t[0];e>=10;e/=10)r++}return r}function Pa(t){for(var e="";t--;)e+="0";return e}function R2(t,e,r,n){var i,a=new t(1),s=Math.ceil(n/Je+4);for(rt=!1;;){if(r%2&&(a=a.times(e),Hb(a.d,s)&&(i=!0)),r=Yr(r/2),r===0){r=a.d.length-1,i&&a.d[r]===0&&++a.d[r];break}e=e.times(e),Hb(e.d,s)}return rt=!0,a}function Ub(t){return t.d[t.d.length-1]&1}function P2(t,e,r){for(var n,i,a=new t(e[0]),s=0;++s<e.length;){if(i=new t(e[s]),!i.s){a=i;break}n=a.cmp(i),(n===r||n===0&&a.s===r)&&(a=i)}return a}function Dg(t,e){var r,n,i,a,s,o,l,u=0,c=0,f=0,d=t.constructor,p=d.rounding,h=d.precision;if(!t.d||!t.d[0]||t.e>17)return new d(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(e==null?(rt=!1,l=h):l=e,o=new d(.03125);t.e>-2;)t=t.times(o),f+=5;for(n=Math.log(dr(2,f))/Math.LN10*2+5|0,l+=n,r=a=s=new d(1),d.precision=l;;){if(a=We(a.times(t),l,1),r=r.times(++c),o=s.plus(Ut(a,r,l,1)),Ir(o.d).slice(0,l)===Ir(s.d).slice(0,l)){for(i=f;i--;)s=We(s.times(s),l,1);if(e==null)if(u<3&&Iu(s.d,l-n,p,u))d.precision=l+=10,r=a=o=new d(1),c=0,u++;else return We(s,d.precision=h,p,rt=!0);else return d.precision=h,s}s=o}}function Ga(t,e){var r,n,i,a,s,o,l,u,c,f,d,p=1,h=10,m=t,v=m.d,y=m.constructor,S=y.rounding,g=y.precision;if(m.s<0||!v||!v[0]||!m.e&&v[0]==1&&v.length==1)return new y(v&&!v[0]?-1/0:m.s!=1?NaN:v?0:m);if(e==null?(rt=!1,c=g):c=e,y.precision=c+=h,r=Ir(v),n=r.charAt(0),Math.abs(a=m.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(t),r=Ir(m.d),n=r.charAt(0),p++;a=m.e,n>1?(m=new y("0."+r),a++):m=new y(n+"."+r.slice(1))}else return u=Fd(y,c+2,g).times(a+""),m=Ga(new y(n+"."+r.slice(1)),c-h).plus(u),y.precision=g,e==null?We(m,g,S,rt=!0):m;for(f=m,l=s=m=Ut(m.minus(1),m.plus(1),c,1),d=We(m.times(m),c,1),i=3;;){if(s=We(s.times(d),c,1),u=l.plus(Ut(s,new y(i),c,1)),Ir(u.d).slice(0,c)===Ir(l.d).slice(0,c))if(l=l.times(2),a!==0&&(l=l.plus(Fd(y,c+2,g).times(a+""))),l=Ut(l,new y(p),c,1),e==null)if(Iu(l.d,c-h,S,o))y.precision=c+=h,u=s=m=Ut(f.minus(1),f.plus(1),c,1),d=We(m.times(m),c,1),i=o=1;else return We(l,y.precision=g,S,rt=!0);else return y.precision=g,l;l=u,i+=2}}function $2(t){return String(t.s*t.s/0)}function wf(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;n++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(n,i),e){if(i-=n,t.e=r=r-n-1,t.d=[],n=(r+1)%Je,r<0&&(n+=Je),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Je;n<i;)t.d.push(+e.slice(n,n+=Je));e=e.slice(n),n=Je-e.length}else n-=i;for(;n--;)e+="0";t.d.push(+e),rt&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function g6(t,e){var r,n,i,a,s,o,l,u,c;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),k2.test(e))return wf(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(f6.test(e))r=16,e=e.toLowerCase();else if(c6.test(e))r=2;else if(d6.test(e))r=8;else throw Error(is+e);for(a=e.search(/p/i),a>0?(l=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),s=a>=0,n=t.constructor,s&&(e=e.replace(".",""),o=e.length,a=o-a,i=R2(n,new n(r),a,a*2)),u=xf(e,r,di),c=u.length-1,a=c;u[a]===0;--a)u.pop();return a<0?new n(t.s*0):(t.e=Ip(u,c),t.d=u,rt=!1,s&&(t=Ut(t,i,o*4)),l&&(t=t.times(Math.abs(l)<54?dr(2,l):as.pow(2,l))),rt=!0,t)}function v6(t,e){var r,n=e.d.length;if(n<3)return e.isZero()?e:il(t,2,e,e);r=1.4*Math.sqrt(n),r=r>16?16:r|0,e=e.times(1/Rp(5,r)),e=il(t,2,e,e);for(var i,a=new t(5),s=new t(16),o=new t(20);r--;)i=e.times(e),e=e.times(a.plus(i.times(s.times(i).minus(o))));return e}function il(t,e,r,n,i){var a,s,o,l,u=t.precision,c=Math.ceil(u/Je);for(rt=!1,l=r.times(r),o=new t(n);;){if(s=Ut(o.times(l),new t(e++*e++),u,1),o=i?n.plus(s):n.minus(s),n=Ut(s.times(l),new t(e++*e++),u,1),s=o.plus(n),s.d[c]!==void 0){for(a=c;s.d[a]===o.d[a]&&a--;);if(a==-1)break}a=o,o=n,n=s,s=a}return rt=!0,s.d.length=c+1,s}function Rp(t,e){for(var r=t;--e;)r*=t;return r}function L2(t,e){var r,n=e.s<0,i=Bi(t,t.precision,1),a=i.times(.5);if(e=e.abs(),e.lte(a))return la=n?4:1,e;if(r=e.divToInt(i),r.isZero())la=n?3:2;else{if(e=e.minus(r.times(i)),e.lte(a))return la=Ub(r)?n?2:3:n?4:1,e;la=Ub(r)?n?1:4:n?3:2}return e.minus(i).abs()}function Xv(t,e,r,n){var i,a,s,o,l,u,c,f,d,p=t.constructor,h=r!==void 0;if(h?(Dn(r,1,ds),n===void 0?n=p.rounding:Dn(n,0,8)):(r=p.precision,n=p.rounding),!t.isFinite())c=$2(t);else{for(c=Li(t),s=c.indexOf("."),h?(i=2,e==16?r=r*4-3:e==8&&(r=r*3-2)):i=e,s>=0&&(c=c.replace(".",""),d=new p(1),d.e=c.length-s,d.d=xf(Li(d),10,i),d.e=d.d.length),f=xf(c,10,i),a=l=f.length;f[--l]==0;)f.pop();if(!f[0])c=h?"0p+0":"0";else{if(s<0?a--:(t=new p(t),t.d=f,t.e=a,t=Ut(t,d,r,n,0,i),f=t.d,a=t.e,u=_2),s=f[r],o=i/2,u=u||f[r+1]!==void 0,u=n<4?(s!==void 0||u)&&(n===0||n===(t.s<0?3:2)):s>o||s===o&&(n===4||u||n===6&&f[r-1]&1||n===(t.s<0?8:7)),f.length=r,u)for(;++f[--r]>i-1;)f[r]=0,r||(++a,f.unshift(1));for(l=f.length;!f[l-1];--l);for(s=0,c="";s<l;s++)c+=Eg.charAt(f[s]);if(h){if(l>1)if(e==16||e==8){for(s=e==16?4:3,--l;l%s;l++)c+="0";for(f=xf(c,i,e),l=f.length;!f[l-1];--l);for(s=1,c="1.";s<l;s++)c+=Eg.charAt(f[s])}else c=c.charAt(0)+"."+c.slice(1);c=c+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)c="0"+c;c="0."+c}else if(++a>l)for(a-=l;a--;)c+="0";else a<l&&(c=c.slice(0,a)+"."+c.slice(a))}c=(e==16?"0x":e==2?"0b":e==8?"0o":"")+c}return t.s<0?"-"+c:c}function Hb(t,e){if(t.length>e)return t.length=e,!0}function y6(t){return new this(t).abs()}function b6(t){return new this(t).acos()}function x6(t){return new this(t).acosh()}function w6(t,e){return new this(t).plus(e)}function S6(t){return new this(t).asin()}function E6(t){return new this(t).asinh()}function A6(t){return new this(t).atan()}function N6(t){return new this(t).atanh()}function D6(t,e){t=new this(t),e=new this(e);var r,n=this.precision,i=this.rounding,a=n+4;return!t.s||!e.s?r=new this(NaN):!t.d&&!e.d?(r=Bi(this,a,1).times(e.s>0?.25:.75),r.s=t.s):!e.d||t.isZero()?(r=e.s<0?Bi(this,n,i):new this(0),r.s=t.s):!t.d||e.isZero()?(r=Bi(this,a,1).times(.5),r.s=t.s):e.s<0?(this.precision=a,this.rounding=1,r=this.atan(Ut(t,e,a,1)),e=Bi(this,a,1),this.precision=n,this.rounding=i,r=t.s<0?r.minus(e):r.plus(e)):r=this.atan(Ut(t,e,a,1)),r}function C6(t){return new this(t).cbrt()}function M6(t){return We(t=new this(t),t.e+1,2)}function T6(t,e,r){return new this(t).clamp(e,r)}function _6(t){if(!t||typeof t!="object")throw Error(kp+"Object expected");var e,r,n,i=t.defaults===!0,a=["precision",1,ds,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,Sg,"maxE",0,Sg,"minE",-9e15,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(r=a[e],i&&(this[r]=Ag[r]),(n=t[r])!==void 0)if(Yr(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(is+r+": "+n);if(r="crypto",i&&(this[r]=Ag[r]),(n=t[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(F2);else this[r]=!1;else throw Error(is+r+": "+n);return this}function O6(t){return new this(t).cos()}function F6(t){return new this(t).cosh()}function z2(t){var e,r,n;function i(a){var s,o,l,u=this;if(!(u instanceof i))return new i(a);if(u.constructor=i,Vb(a)){u.s=a.s,rt?!a.d||a.e>i.maxE?(u.e=NaN,u.d=null):a.e<i.minE?(u.e=0,u.d=[0]):(u.e=a.e,u.d=a.d.slice()):(u.e=a.e,u.d=a.d?a.d.slice():a.d);return}if(l=typeof a,l==="number"){if(a===0){u.s=1/a<0?-1:1,u.e=0,u.d=[0];return}if(a<0?(a=-a,u.s=-1):u.s=1,a===~~a&&a<1e7){for(s=0,o=a;o>=10;o/=10)s++;rt?s>i.maxE?(u.e=NaN,u.d=null):s<i.minE?(u.e=0,u.d=[0]):(u.e=s,u.d=[a]):(u.e=s,u.d=[a]);return}if(a*0!==0){a||(u.s=NaN),u.e=NaN,u.d=null;return}return wf(u,a.toString())}if(l==="string")return(o=a.charCodeAt(0))===45?(a=a.slice(1),u.s=-1):(o===43&&(a=a.slice(1)),u.s=1),k2.test(a)?wf(u,a):g6(u,a);if(l==="bigint")return a<0?(a=-a,u.s=-1):u.s=1,wf(u,a.toString());throw Error(is+a)}if(i.prototype=Ee,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=_6,i.clone=z2,i.isDecimal=Vb,i.abs=y6,i.acos=b6,i.acosh=x6,i.add=w6,i.asin=S6,i.asinh=E6,i.atan=A6,i.atanh=N6,i.atan2=D6,i.cbrt=C6,i.ceil=M6,i.clamp=T6,i.cos=O6,i.cosh=F6,i.div=B6,i.exp=k6,i.floor=I6,i.hypot=R6,i.ln=P6,i.log=$6,i.log10=z6,i.log2=L6,i.max=q6,i.min=U6,i.mod=H6,i.mul=V6,i.pow=W6,i.random=G6,i.round=j6,i.sign=K6,i.sin=J6,i.sinh=Y6,i.sqrt=X6,i.sub=Z6,i.sum=Q6,i.tan=e9,i.tanh=t9,i.trunc=r9,t===void 0&&(t={}),t&&t.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function B6(t,e){return new this(t).div(e)}function k6(t){return new this(t).exp()}function I6(t){return We(t=new this(t),t.e+1,3)}function R6(){var t,e,r=new this(0);for(rt=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)r.d&&(r=r.plus(e.times(e)));else{if(e.s)return rt=!0,new this(1/0);r=e}return rt=!0,r.sqrt()}function Vb(t){return t instanceof as||t&&t.toStringTag===B2||!1}function P6(t){return new this(t).ln()}function $6(t,e){return new this(t).log(e)}function L6(t){return new this(t).log(2)}function z6(t){return new this(t).log(10)}function q6(){return P2(this,arguments,-1)}function U6(){return P2(this,arguments,1)}function H6(t,e){return new this(t).mod(e)}function V6(t,e){return new this(t).mul(e)}function W6(t,e){return new this(t).pow(e)}function G6(t){var e,r,n,i,a=0,s=new this(1),o=[];if(t===void 0?t=this.precision:Dn(t,1,ds),n=Math.ceil(t/Je),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));a<n;)i=e[a],i>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:o[a++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);a<n;)i=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((e[a+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,a):(o.push(i%1e7),a+=4);a=n/4}else throw Error(F2);else for(;a<n;)o[a++]=Math.random()*1e7|0;for(n=o[--a],t%=Je,n&&t&&(i=dr(10,Je-t),o[a]=(n/i|0)*i);o[a]===0;a--)o.pop();if(a<0)r=0,o=[0];else{for(r=-1;o[0]===0;r-=Je)o.shift();for(n=1,i=o[0];i>=10;i/=10)n++;n<Je&&(r-=Je-n)}return s.e=r,s.d=o,s}function j6(t){return We(t=new this(t),t.e+1,this.rounding)}function K6(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function J6(t){return new this(t).sin()}function Y6(t){return new this(t).sinh()}function X6(t){return new this(t).sqrt()}function Z6(t,e){return new this(t).sub(e)}function Q6(){var t=0,e=arguments,r=new this(e[t]);for(rt=!1;r.s&&++t<e.length;)r=r.plus(e[t]);return rt=!0,We(r,this.precision,this.rounding)}function e9(t){return new this(t).tan()}function t9(t){return new this(t).tanh()}function r9(t){return We(t=new this(t),t.e+1,1)}Ee[Symbol.for("nodejs.util.inspect.custom")]=Ee.toString;Ee[Symbol.toStringTag]="Decimal";var as=Ee.constructor=z2(Ag);_d=new as(_d);Od=new as(Od);var n9="BigNumber",i9=["?on","config"],a9=V(n9,i9,t=>{var{on:e,config:r}=t,n=as.clone({precision:r.precision,modulo:as.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},e&&e("config",function(i,a){i.precision!==a.precision&&n.config({precision:i.precision})}),n},{isClass:!0});const Ur=Math.cosh||function(t){return Math.abs(t)<1e-9?1-t:(Math.exp(t)+Math.exp(-t))*.5},Ln=Math.sinh||function(t){return Math.abs(t)<1e-9?t:(Math.exp(t)-Math.exp(-t))*.5},s9=function(t){const e=Math.PI/4;if(-e>t||t>e)return Math.cos(t)-1;const r=t*t;return r*(r*(r*(r*(r*(r*(r*(r/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},om=function(t,e){return t=Math.abs(t),e=Math.abs(e),t<e&&([t,e]=[e,t]),t<1e8?Math.sqrt(t*t+e*e):(e/=t,t*Math.sqrt(1+e*e))},wo=function(){throw SyntaxError("Invalid Param")};function lm(t,e){const r=Math.abs(t),n=Math.abs(e);return t===0?Math.log(n):e===0?Math.log(r):r<3e3&&n<3e3?Math.log(t*t+e*e)*.5:(t=t*.5,e=e*.5,.5*Math.log(t*t+e*e)+Math.LN2)}const o9={re:0,im:0},Ds=function(t,e){const r=o9;if(t==null)r.re=r.im=0;else if(e!==void 0)r.re=t,r.im=e;else switch(typeof t){case"object":if("im"in t&&"re"in t)r.re=t.re,r.im=t.im;else if("abs"in t&&"arg"in t){if(!isFinite(t.abs)&&isFinite(t.arg))return ye.INFINITY;r.re=t.abs*Math.cos(t.arg),r.im=t.abs*Math.sin(t.arg)}else if("r"in t&&"phi"in t){if(!isFinite(t.r)&&isFinite(t.phi))return ye.INFINITY;r.re=t.r*Math.cos(t.phi),r.im=t.r*Math.sin(t.phi)}else t.length===2?(r.re=t[0],r.im=t[1]):wo();break;case"string":r.im=r.re=0;const n=t.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let i=1,a=0;n===null&&wo();for(let s=0;s<n.length;s++){const o=n[s];o===" "||o==="	"||o===`
`||(o==="+"?i++:o==="-"?a++:o==="i"||o==="I"?(i+a===0&&wo(),n[s+1]!==" "&&!isNaN(n[s+1])?(r.im+=parseFloat((a%2?"-":"")+n[s+1]),s++):r.im+=parseFloat((a%2?"-":"")+"1"),i=a=0):((i+a===0||isNaN(o))&&wo(),n[s+1]==="i"||n[s+1]==="I"?(r.im+=parseFloat((a%2?"-":"")+o),s++):r.re+=parseFloat((a%2?"-":"")+o),i=a=0))}i+a>0&&wo();break;case"number":r.im=0,r.re=t;break;default:wo()}return isNaN(r.re)||isNaN(r.im),r};function ye(t,e){if(!(this instanceof ye))return new ye(t,e);const r=Ds(t,e);this.re=r.re,this.im=r.im}ye.prototype={re:0,im:0,sign:function(){const t=om(this.re,this.im);return new ye(this.re/t,this.im/t)},add:function(t,e){const r=Ds(t,e),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im));return n||i?n&&i?ye.NAN:ye.INFINITY:new ye(this.re+r.re,this.im+r.im)},sub:function(t,e){const r=Ds(t,e),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im));return n||i?n&&i?ye.NAN:ye.INFINITY:new ye(this.re-r.re,this.im-r.im)},mul:function(t,e){const r=Ds(t,e),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im)),a=this.re===0&&this.im===0,s=r.re===0&&r.im===0;return n&&s||i&&a?ye.NAN:n||i?ye.INFINITY:r.im===0&&this.im===0?new ye(this.re*r.re,0):new ye(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(t,e){const r=Ds(t,e),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im)),a=this.re===0&&this.im===0,s=r.re===0&&r.im===0;if(a&&s||n&&i)return ye.NAN;if(s||n)return ye.INFINITY;if(a||i)return ye.ZERO;if(r.im===0)return new ye(this.re/r.re,this.im/r.re);if(Math.abs(r.re)<Math.abs(r.im)){const o=r.re/r.im,l=r.re*o+r.im;return new ye((this.re*o+this.im)/l,(this.im*o-this.re)/l)}else{const o=r.im/r.re,l=r.im*o+r.re;return new ye((this.re+this.im*o)/l,(this.im-this.re*o)/l)}},pow:function(t,e){const r=Ds(t,e),n=this.re===0&&this.im===0;if(r.re===0&&r.im===0)return ye.ONE;if(r.im===0){if(this.im===0&&this.re>0)return new ye(Math.pow(this.re,r.re),0);if(this.re===0)switch((r.re%4+4)%4){case 0:return new ye(Math.pow(this.im,r.re),0);case 1:return new ye(0,Math.pow(this.im,r.re));case 2:return new ye(-Math.pow(this.im,r.re),0);case 3:return new ye(0,-Math.pow(this.im,r.re))}}if(n&&r.re>0)return ye.ZERO;const a=Math.atan2(this.im,this.re),s=lm(this.re,this.im);let o=Math.exp(r.re*s-r.im*a),l=r.im*s+r.re*a;return new ye(o*Math.cos(l),o*Math.sin(l))},sqrt:function(){const t=this.re,e=this.im;if(e===0)return t>=0?new ye(Math.sqrt(t),0):new ye(0,Math.sqrt(-t));const r=om(t,e);let n=Math.sqrt(.5*(r+Math.abs(t))),i=Math.abs(e)/(2*n);return t>=0?new ye(n,e<0?-i:i):new ye(i,e<0?-n:n)},exp:function(){const t=Math.exp(this.re);return this.im===0?new ye(t,0):new ye(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function(){const t=this.re,e=this.im;return new ye(Math.expm1(t)*Math.cos(e)+s9(e),Math.exp(t)*Math.sin(e))},log:function(){const t=this.re,e=this.im;return e===0&&t>0?new ye(Math.log(t),0):new ye(lm(t,e),Math.atan2(e,t))},abs:function(){return om(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const t=this.re,e=this.im;return new ye(Math.sin(t)*Ur(e),Math.cos(t)*Ln(e))},cos:function(){const t=this.re,e=this.im;return new ye(Math.cos(t)*Ur(e),-Math.sin(t)*Ln(e))},tan:function(){const t=2*this.re,e=2*this.im,r=Math.cos(t)+Ur(e);return new ye(Math.sin(t)/r,Ln(e)/r)},cot:function(){const t=2*this.re,e=2*this.im,r=Math.cos(t)-Ur(e);return new ye(-Math.sin(t)/r,Ln(e)/r)},sec:function(){const t=this.re,e=this.im,r=.5*Ur(2*e)+.5*Math.cos(2*t);return new ye(Math.cos(t)*Ur(e)/r,Math.sin(t)*Ln(e)/r)},csc:function(){const t=this.re,e=this.im,r=.5*Ur(2*e)-.5*Math.cos(2*t);return new ye(Math.sin(t)*Ur(e)/r,-Math.cos(t)*Ln(e)/r)},asin:function(){const t=this.re,e=this.im,r=new ye(e*e-t*t+1,-2*t*e).sqrt(),n=new ye(r.re-e,r.im+t).log();return new ye(n.im,-n.re)},acos:function(){const t=this.re,e=this.im,r=new ye(e*e-t*t+1,-2*t*e).sqrt(),n=new ye(r.re-e,r.im+t).log();return new ye(Math.PI/2-n.im,n.re)},atan:function(){const t=this.re,e=this.im;if(t===0){if(e===1)return new ye(0,1/0);if(e===-1)return new ye(0,-1/0)}const r=t*t+(1-e)*(1-e),n=new ye((1-e*e-t*t)/r,-2*t/r).log();return new ye(-.5*n.im,.5*n.re)},acot:function(){const t=this.re,e=this.im;if(e===0)return new ye(Math.atan2(1,t),0);const r=t*t+e*e;return r!==0?new ye(t/r,-e/r).atan():new ye(t!==0?t/0:0,e!==0?-e/0:0).atan()},asec:function(){const t=this.re,e=this.im;if(t===0&&e===0)return new ye(0,1/0);const r=t*t+e*e;return r!==0?new ye(t/r,-e/r).acos():new ye(t!==0?t/0:0,e!==0?-e/0:0).acos()},acsc:function(){const t=this.re,e=this.im;if(t===0&&e===0)return new ye(Math.PI/2,1/0);const r=t*t+e*e;return r!==0?new ye(t/r,-e/r).asin():new ye(t!==0?t/0:0,e!==0?-e/0:0).asin()},sinh:function(){const t=this.re,e=this.im;return new ye(Ln(t)*Math.cos(e),Ur(t)*Math.sin(e))},cosh:function(){const t=this.re,e=this.im;return new ye(Ur(t)*Math.cos(e),Ln(t)*Math.sin(e))},tanh:function(){const t=2*this.re,e=2*this.im,r=Ur(t)+Math.cos(e);return new ye(Ln(t)/r,Math.sin(e)/r)},coth:function(){const t=2*this.re,e=2*this.im,r=Ur(t)-Math.cos(e);return new ye(Ln(t)/r,-Math.sin(e)/r)},csch:function(){const t=this.re,e=this.im,r=Math.cos(2*e)-Ur(2*t);return new ye(-2*Ln(t)*Math.cos(e)/r,2*Ur(t)*Math.sin(e)/r)},sech:function(){const t=this.re,e=this.im,r=Math.cos(2*e)+Ur(2*t);return new ye(2*Ur(t)*Math.cos(e)/r,-2*Ln(t)*Math.sin(e)/r)},asinh:function(){let t=this.im;this.im=-this.re,this.re=t;const e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},acosh:function(){const t=this.acos();if(t.im<=0){const e=t.re;t.re=-t.im,t.im=e}else{const e=t.im;t.im=-t.re,t.re=e}return t},atanh:function(){const t=this.re,e=this.im,r=t>1&&e===0,n=1-t,i=1+t,a=n*n+e*e,s=a!==0?new ye((i*n-e*e)/a,(e*n+i*e)/a):new ye(t!==-1?t/0:0,e!==0?e/0:0),o=s.re;return s.re=lm(s.re,s.im)/2,s.im=Math.atan2(s.im,o)/2,r&&(s.im=-s.im),s},acoth:function(){const t=this.re,e=this.im;if(t===0&&e===0)return new ye(0,Math.PI/2);const r=t*t+e*e;return r!==0?new ye(t/r,-e/r).atanh():new ye(t!==0?t/0:0,e!==0?-e/0:0).atanh()},acsch:function(){const t=this.re,e=this.im;if(e===0)return new ye(t!==0?Math.log(t+Math.sqrt(t*t+1)):1/0,0);const r=t*t+e*e;return r!==0?new ye(t/r,-e/r).asinh():new ye(t!==0?t/0:0,e!==0?-e/0:0).asinh()},asech:function(){const t=this.re,e=this.im;if(this.isZero())return ye.INFINITY;const r=t*t+e*e;return r!==0?new ye(t/r,-e/r).acosh():new ye(t!==0?t/0:0,e!==0?-e/0:0).acosh()},inverse:function(){if(this.isZero())return ye.INFINITY;if(this.isInfinite())return ye.ZERO;const t=this.re,e=this.im,r=t*t+e*e;return new ye(t/r,-e/r)},conjugate:function(){return new ye(this.re,-this.im)},neg:function(){return new ye(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new ye(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new ye(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new ye(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,e){const r=Ds(t,e);return Math.abs(r.re-this.re)<=ye.EPSILON&&Math.abs(r.im-this.im)<=ye.EPSILON},clone:function(){return new ye(this.re,this.im)},toString:function(){let t=this.re,e=this.im,r="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(t)<ye.EPSILON&&(t=0),Math.abs(e)<ye.EPSILON&&(e=0),e===0?r+t:(t!==0?(r+=t,r+=" ",e<0?(e=-e,r+="-"):r+="+",r+=" "):e<0&&(e=-e,r+="-"),e!==1&&(r+=e),r+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};ye.ZERO=new ye(0,0);ye.ONE=new ye(1,0);ye.I=new ye(0,1);ye.PI=new ye(Math.PI,0);ye.E=new ye(Math.E,0);ye.INFINITY=new ye(1/0,1/0);ye.NAN=new ye(NaN,NaN);ye.EPSILON=1e-15;var l9="Complex",u9=[],c9=V(l9,u9,()=>(Object.defineProperty(ye,"name",{value:"Complex"}),ye.prototype.constructor=ye,ye.prototype.type="Complex",ye.prototype.isComplex=!0,ye.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},ye.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},ye.prototype.format=function(t){var e="",r=this.im,n=this.re,i=Gs(this.re,t),a=Gs(this.im,t),s=at(t)?t:t?t.precision:null;if(s!==null){var o=Math.pow(10,-s);Math.abs(n/r)<o&&(n=0),Math.abs(r/n)<o&&(r=0)}return r===0?e=i:n===0?r===1?e="i":r===-1?e="-i":e=a+"i":r<0?r===-1?e=i+" - i":e=i+" - "+a.substring(1)+"i":r===1?e=i+" + i":e=i+" + "+a+"i",e},ye.fromPolar=function(t){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return ye(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],n=arguments[1];if(at(r)){if(Vn(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),at(n))return new ye({r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},ye.prototype.valueOf=ye.prototype.toString,ye.fromJSON=function(t){return new ye(t)},ye.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},ye),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(t){if(isNaN(t))throw new Error("");return t});const He=BigInt(0),pt=BigInt(1),Ru=BigInt(2),Cg=BigInt(5),xn=BigInt(10),f9=2e3,Fe={s:pt,n:He,d:pt};function Xi(t,e){try{t=BigInt(t)}catch{throw Ta()}return t*e}function ai(t){return typeof t=="bigint"?t:Math.floor(t)}function Jt(t,e){if(e===He)throw Zv();const r=Object.create(qn.prototype);r.s=t<He?-pt:pt,t=t<He?-t:t;const n=Os(t,e);return r.n=t/n,r.d=e/n,r}function So(t){const e={};let r=t,n=Ru,i=Cg-pt;for(;i<=r;){for(;r%n===He;)r/=n,e[n]=(e[n]||He)+pt;i+=pt+Ru*n++}return r!==t?r>1&&(e[r]=(e[r]||He)+pt):e[t]=(e[t]||He)+pt,e}const br=function(t,e){let r=He,n=pt,i=pt;if(t!=null)if(e!==void 0){if(typeof t=="bigint")r=t;else{if(isNaN(t))throw Ta();if(t%1!==0)throw Wb();r=BigInt(t)}if(typeof e=="bigint")n=e;else{if(isNaN(e))throw Ta();if(e%1!==0)throw Wb();n=BigInt(e)}i=r*n}else if(typeof t=="object"){if("d"in t&&"n"in t)r=BigInt(t.n),n=BigInt(t.d),"s"in t&&(r*=BigInt(t.s));else if(0 in t)r=BigInt(t[0]),1 in t&&(n=BigInt(t[1]));else if(typeof t=="bigint")r=t;else throw Ta();i=r*n}else if(typeof t=="number"){if(isNaN(t))throw Ta();if(t<0&&(i=-pt,t=-t),t%1===0)r=BigInt(t);else{let a=1,s=0,o=1,l=1,u=1,c=1e7;for(t>=1&&(a=10**Math.floor(1+Math.log10(t)),t/=a);o<=c&&u<=c;){let f=(s+l)/(o+u);if(t===f){o+u<=c?(r=s+l,n=o+u):u>o?(r=l,n=u):(r=s,n=o);break}else t>f?(s+=l,o+=u):(l+=s,u+=o),o>c?(r=l,n=u):(r=s,n=o)}r=BigInt(r)*BigInt(a),n=BigInt(n)}}else if(typeof t=="string"){let a=0,s=He,o=He,l=He,u=pt,c=pt,f=t.replace(/_/g,"").match(/\d+|./g);if(f===null)throw Ta();if(f[a]==="-"?(i=-pt,a++):f[a]==="+"&&a++,f.length===a+1?o=Xi(f[a++],i):f[a+1]==="."||f[a]==="."?(f[a]!=="."&&(s=Xi(f[a++],i)),a++,(a+1===f.length||f[a+1]==="("&&f[a+3]===")"||f[a+1]==="'"&&f[a+3]==="'")&&(o=Xi(f[a],i),u=xn**BigInt(f[a].length),a++),(f[a]==="("&&f[a+2]===")"||f[a]==="'"&&f[a+2]==="'")&&(l=Xi(f[a+1],i),c=xn**BigInt(f[a+1].length)-pt,a+=3)):f[a+1]==="/"||f[a+1]===":"?(o=Xi(f[a],i),u=Xi(f[a+2],pt),a+=3):f[a+3]==="/"&&f[a+1]===" "&&(s=Xi(f[a],i),o=Xi(f[a+2],i),u=Xi(f[a+4],pt),a+=5),f.length<=a)n=u*c,i=r=l+n*s+c*o;else throw Ta()}else if(typeof t=="bigint")r=t,i=t,n=pt;else throw Ta();if(n===He)throw Zv();Fe.s=i<He?-pt:pt,Fe.n=r<He?-r:r,Fe.d=n<He?-n:n};function d9(t,e,r){let n=pt;for(;e>He;t=t*t%r,e>>=pt)e&pt&&(n=n*t%r);return n}function p9(t,e){for(;e%Ru===He;e/=Ru);for(;e%Cg===He;e/=Cg);if(e===pt)return He;let r=xn%e,n=1;for(;r!==pt;n++)if(r=r*xn%e,n>f9)return He;return BigInt(n)}function h9(t,e,r){let n=pt,i=d9(xn,r,e);for(let a=0;a<300;a++){if(n===i)return BigInt(a);n=n*xn%e,i=i*xn%e}return 0}function Os(t,e){if(!t)return e;if(!e)return t;for(;;){if(t%=e,!t)return e;if(e%=t,!e)return t}}function qn(t,e){if(br(t,e),this instanceof qn)t=Os(Fe.d,Fe.n),this.s=Fe.s,this.n=Fe.n/t,this.d=Fe.d/t;else return Jt(Fe.s*Fe.n,Fe.d)}var Zv=function(){return new Error("Division by Zero")},Ta=function(){return new Error("Invalid argument")},Wb=function(){return new Error("Parameters must be integer")};qn.prototype={s:pt,n:He,d:pt,abs:function(){return Jt(this.n,this.d)},neg:function(){return Jt(-this.s*this.n,this.d)},add:function(t,e){return br(t,e),Jt(this.s*this.n*Fe.d+Fe.s*this.d*Fe.n,this.d*Fe.d)},sub:function(t,e){return br(t,e),Jt(this.s*this.n*Fe.d-Fe.s*this.d*Fe.n,this.d*Fe.d)},mul:function(t,e){return br(t,e),Jt(this.s*Fe.s*this.n*Fe.n,this.d*Fe.d)},div:function(t,e){return br(t,e),Jt(this.s*Fe.s*this.n*Fe.d,this.d*Fe.n)},clone:function(){return Jt(this.s*this.n,this.d)},mod:function(t,e){if(t===void 0)return Jt(this.s*this.n%this.d,pt);if(br(t,e),He===Fe.n*this.d)throw Zv();return Jt(this.s*(Fe.d*this.n)%(Fe.n*this.d),Fe.d*this.d)},gcd:function(t,e){return br(t,e),Jt(Os(Fe.n,this.n)*Os(Fe.d,this.d),Fe.d*this.d)},lcm:function(t,e){return br(t,e),Fe.n===He&&this.n===He?Jt(He,pt):Jt(Fe.n*this.n,Os(Fe.n,this.n)*Os(Fe.d,this.d))},inverse:function(){return Jt(this.s*this.d,this.n)},pow:function(t,e){if(br(t,e),Fe.d===pt)return Fe.s<He?Jt((this.s*this.d)**Fe.n,this.n**Fe.n):Jt((this.s*this.n)**Fe.n,this.d**Fe.n);if(this.s<He)return null;let r=So(this.n),n=So(this.d),i=pt,a=pt;for(let s in r)if(s!=="1"){if(s==="0"){i=He;break}if(r[s]*=Fe.n,r[s]%Fe.d===He)r[s]/=Fe.d;else return null;i*=BigInt(s)**r[s]}for(let s in n)if(s!=="1"){if(n[s]*=Fe.n,n[s]%Fe.d===He)n[s]/=Fe.d;else return null;a*=BigInt(s)**n[s]}return Fe.s<He?Jt(a,i):Jt(i,a)},log:function(t,e){if(br(t,e),this.s<=He||Fe.s<=He)return null;const r={},n=So(Fe.n),i=So(Fe.d),a=So(this.n),s=So(this.d);for(const u in i)n[u]=(n[u]||He)-i[u];for(const u in s)a[u]=(a[u]||He)-s[u];for(const u in n)u!=="1"&&(r[u]=!0);for(const u in a)u!=="1"&&(r[u]=!0);let o=null,l=null;for(const u in r){const c=n[u]||He,f=a[u]||He;if(c===He){if(f!==He)return null;continue}let d=f,p=c;const h=Os(d,p);if(d/=h,p/=h,o===null&&l===null)o=d,l=p;else if(d*l!==o*p)return null}return o!==null&&l!==null?Jt(o,l):null},equals:function(t,e){return br(t,e),this.s*this.n*Fe.d===Fe.s*Fe.n*this.d},lt:function(t,e){return br(t,e),this.s*this.n*Fe.d<Fe.s*Fe.n*this.d},lte:function(t,e){return br(t,e),this.s*this.n*Fe.d<=Fe.s*Fe.n*this.d},gt:function(t,e){return br(t,e),this.s*this.n*Fe.d>Fe.s*Fe.n*this.d},gte:function(t,e){return br(t,e),this.s*this.n*Fe.d>=Fe.s*Fe.n*this.d},compare:function(t,e){br(t,e);let r=this.s*this.n*Fe.d-Fe.s*Fe.n*this.d;return(He<r)-(r<He)},ceil:function(t){return t=xn**BigInt(t||0),Jt(ai(this.s*t*this.n/this.d)+(t*this.n%this.d>He&&this.s>=He?pt:He),t)},floor:function(t){return t=xn**BigInt(t||0),Jt(ai(this.s*t*this.n/this.d)-(t*this.n%this.d>He&&this.s<He?pt:He),t)},round:function(t){return t=xn**BigInt(t||0),Jt(ai(this.s*t*this.n/this.d)+this.s*((this.s>=He?pt:He)+Ru*(t*this.n%this.d)>this.d?pt:He),t)},roundTo:function(t,e){br(t,e);const r=this.n*Fe.d,n=this.d*Fe.n,i=r%n;let a=ai(r/n);return i+i>=n&&a++,Jt(this.s*a*Fe.n,Fe.d)},divisible:function(t,e){return br(t,e),!(!(Fe.n*this.d)||this.n*Fe.d%(Fe.n*this.d))},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(t){let e=this.n,r=this.d;t=t||15;let n=p9(e,r),i=h9(e,r,n),a=this.s<He?"-":"";if(a+=ai(e/r),e%=r,e*=xn,e&&(a+="."),n){for(let s=i;s--;)a+=ai(e/r),e%=r,e*=xn;a+="(";for(let s=n;s--;)a+=ai(e/r),e%=r,e*=xn;a+=")"}else for(let s=t;e&&s--;)a+=ai(e/r),e%=r,e*=xn;return a},toFraction:function(t){let e=this.n,r=this.d,n=this.s<He?"-":"";if(r===pt)n+=e;else{let i=ai(e/r);t&&i>He&&(n+=i,n+=" ",e%=r),n+=e,n+="/",n+=r}return n},toLatex:function(t){let e=this.n,r=this.d,n=this.s<He?"-":"";if(r===pt)n+=e;else{let i=ai(e/r);t&&i>He&&(n+=i,e%=r),n+="\\frac{",n+=e,n+="}{",n+=r,n+="}"}return n},toContinued:function(){let t=this.n,e=this.d,r=[];do{r.push(ai(t/e));let n=t%e;t=e,e=n}while(t!==pt);return r},simplify:function(t){const e=BigInt(1/(t||.001)|0),r=this.abs(),n=r.toContinued();for(let i=1;i<n.length;i++){let a=Jt(n[i-1],pt);for(let o=i-2;o>=0;o--)a=a.inverse().add(n[o]);let s=a.sub(r);if(s.n*e<s.d)return a.mul(this.s)}return this}};var m9="Fraction",g9=[],v9=V(m9,g9,()=>(Object.defineProperty(qn,"name",{value:"Fraction"}),qn.prototype.constructor=qn,qn.prototype.type="Fraction",qn.prototype.isFraction=!0,qn.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},qn.fromJSON=function(t){return new qn(t)},qn),{isClass:!0}),y9="Range",b9=[],x9=V(y9,b9,()=>{function t(e,r,n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");var i=e!=null,a=r!=null,s=n!=null;if(i){if(lt(e))e=e.toNumber();else if(typeof e!="number"&&!pu(e))throw new TypeError("Parameter start must be a number or bigint")}if(a){if(lt(r))r=r.toNumber();else if(typeof r!="number"&&!pu(r))throw new TypeError("Parameter end must be a number or bigint")}if(s){if(lt(n))n=n.toNumber();else if(typeof n!="number"&&!pu(n))throw new TypeError("Parameter step must be a number or bigint")}this.start=i?parseFloat(e):0,this.end=a?parseFloat(r):0,this.step=s?parseFloat(n):1}return t.prototype.type="Range",t.prototype.isRange=!0,t.parse=function(e){if(typeof e!="string")return null;var r=e.split(":"),n=r.map(function(a){return parseFloat(a)}),i=n.some(function(a){return isNaN(a)});if(i)return null;switch(n.length){case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[2],n[1]);default:return null}},t.prototype.clone=function(){return new t(this.start,this.end,this.step)},t.prototype.size=function(){var e=0,r=this.start,n=this.step,i=this.end,a=i-r;return Wa(n)===Wa(a)?e=Math.ceil(a/n):a===0&&(e=0),isNaN(e)&&(e=0),[e]},t.prototype.min=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start:this.start+(e-1)*this.step},t.prototype.max=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start+(e-1)*this.step:this.start},t.prototype.forEach=function(e){var r=this.start,n=this.step,i=this.end,a=0;if(n>0)for(;r<i;)e(r,[a],this),r+=n,a++;else if(n<0)for(;r>i;)e(r,[a],this),r+=n,a++},t.prototype.map=function(e){var r=[];return this.forEach(function(n,i,a){r[i[0]]=e(n,i,a)}),r},t.prototype.toArray=function(){var e=[];return this.forEach(function(r,n){e[n[0]]=r}),e},t.prototype.valueOf=function(){return this.toArray()},t.prototype.format=function(e){var r=Gs(this.start,e);return this.step!==1&&(r+=":"+Gs(this.step,e)),r+=":"+Gs(this.end,e),r},t.prototype.toString=function(){return this.format()},t.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},t.fromJSON=function(e){return new t(e.start,e.end,e.step)},t},{isClass:!0}),w9="Matrix",S9=[],E9=V(w9,S9,()=>{function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(e,r){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(e,r,n){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(e,r,n){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(e,r){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(e,r){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(e,r){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t},{isClass:!0});function um(t,e,r){var n=t.constructor,i=new n(2),a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Le(r))throw new Error("size must be an integer");if(t.greaterThan(i.pow(r-1).sub(1))||t.lessThan(i.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!t.isInteger())throw new Error("Value must be an integer");t.lessThan(0)&&(t=t.add(i.pow(r))),a="i".concat(r)}switch(e){case 2:return"".concat(t.toBinary()).concat(a);case 8:return"".concat(t.toOctal()).concat(a);case 16:return"".concat(t.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(e," not supported "))}}function A9(t,e){if(typeof e=="function")return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var{notation:r,precision:n,wordSize:i}=D2(e);switch(r){case"fixed":return D9(t,n);case"exponential":return Gb(t,n);case"engineering":return N9(t,n);case"bin":return um(t,2,i);case"oct":return um(t,8,i);case"hex":return um(t,16,i);case"auto":{var a=jb(e==null?void 0:e.lowerExp,-3),s=jb(e==null?void 0:e.upperExp,5);if(t.isZero())return"0";var o,l=t.toSignificantDigits(n),u=l.e;return u>=a&&u<s?o=l.toFixed():o=Gb(t,n),o.replace(/((\.\d*?)(0+))($|e)/,function(){var c=arguments[2],f=arguments[4];return c!=="."?c+f:f})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function N9(t,e){var r=t.e,n=r%3===0?r:r<0?r-3-r%3:r-r%3,i=t.mul(Math.pow(10,-n)),a=i.toPrecision(e);if(a.includes("e")){var s=t.constructor;a=new s(a).toFixed()}return a+"e"+(r>=0?"+":"")+n.toString()}function Gb(t,e){return e!==void 0?t.toExponential(e-1):t.toExponential()}function D9(t,e){return t.toFixed(e)}function jb(t,e){return at(t)?t:lt(t)?t.toNumber():e}function C9(t,e){var r=t.length-e.length,n=t.length;return t.substring(r,n)===e}function ht(t,e){var r=M9(t,e);return e&&typeof e=="object"&&"truncate"in e&&r.length>e.truncate?r.substring(0,e.truncate-3)+"...":r}function M9(t,e){if(typeof t=="number")return Gs(t,e);if(lt(t))return A9(t,e);if(T9(t))return!e||e.fraction!=="decimal"?"".concat(t.s*t.n,"/").concat(t.d):t.toString();if(Array.isArray(t))return q2(t,e);if(Gr(t))return Bo(t);if(typeof t=="function")return t.syntax?String(t.syntax):"function";if(t&&typeof t=="object"){if(typeof t.format=="function")return t.format(e);if(t&&t.toString(e)!=={}.toString())return t.toString(e);var r=Object.keys(t).map(n=>Bo(n)+": "+ht(t[n],e));return"{"+r.join(", ")+"}"}return String(t)}function Bo(t){for(var e=String(t),r="",n=0;n<e.length;){var i=e.charAt(n);r+=i in Kb?Kb[i]:i,n++}return'"'+r+'"'}var Kb={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function Gn(t){var e=String(t);return e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e}function q2(t,e){if(Array.isArray(t)){for(var r="[",n=t.length,i=0;i<n;i++)i!==0&&(r+=", "),r+=q2(t[i],e);return r+="]",r}else return ht(t,e)}function T9(t){return t&&typeof t=="object"&&typeof t.s=="bigint"&&typeof t.n=="bigint"&&typeof t.d=="bigint"||!1}function Mg(t,e){if(!Gr(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+It(t)+", index: 0)");if(!Gr(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+It(e)+", index: 1)");return t===e?0:t>e?1:-1}function mt(t,e,r){if(!(this instanceof mt))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}mt.prototype=new RangeError;mt.prototype.constructor=RangeError;mt.prototype.name="DimensionError";mt.prototype.isDimensionError=!0;function yi(t,e,r){if(!(this instanceof yi))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}yi.prototype=new RangeError;yi.prototype.constructor=RangeError;yi.prototype.name="IndexError";yi.prototype.isIndexError=!0;function Ze(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function U2(t,e,r){var n,i=t.length;if(i!==e[r])throw new mt(i,e[r]);if(r<e.length-1){var a=r+1;for(n=0;n<i;n++){var s=t[n];if(!Array.isArray(s))throw new mt(e.length-1,e.length,"<");U2(t[n],e,a)}}else for(n=0;n<i;n++)if(Array.isArray(t[n]))throw new mt(e.length+1,e.length,">")}function Jb(t,e){var r=e.length===0;if(r){if(Array.isArray(t))throw new mt(t.length,0)}else U2(t,e,0)}function Bd(t,e){var r=t.isMatrix?t._size:Ze(t),n=e._sourceSize;n.forEach((i,a)=>{if(i!==null&&i!==r[a])throw new mt(i,r[a])})}function Pt(t,e){if(t!==void 0){if(!at(t)||!Le(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||typeof e=="number"&&t>=e)throw new yi(t,e)}}function al(t){for(var e=0;e<t._dimensions.length;++e){var r=t._dimensions[e];if(r._data&&Bt(r._data)){if(r._size[0]===0)return!0}else if(r.isRange){if(r.start===r.end)return!0}else if(Gr(r)&&r.length===0)return!0}return!1}function sl(t,e,r){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(i){if(!at(i)||!Le(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+ht(e)+")")}),(at(t)||lt(t))&&(t=[t]);var n=r!==void 0?r:0;return Tg(t,e,0,n),t}function Tg(t,e,r,n){var i,a,s=t.length,o=e[r],l=Math.min(s,o);if(t.length=o,r<e.length-1){var u=r+1;for(i=0;i<l;i++)a=t[i],Array.isArray(a)||(a=[a],t[i]=a),Tg(a,e,u,n);for(i=l;i<o;i++)a=[],t[i]=a,Tg(a,e,u,n)}else{for(i=0;i<l;i++)for(;Array.isArray(t[i]);)t[i]=t[i][0];for(i=l;i<o;i++)t[i]=n}}function Qv(t,e){var r=Dt(t,!0),n=r.length;if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new mt(0,n,"!=");e=e0(e,n);var i=H2(e);if(n!==i)throw new mt(i,n,"!=");try{return _9(r,e)}catch(a){throw a instanceof mt?new mt(i,n,"!="):a}}function e0(t,e){var r=H2(t),n=t.slice(),i=-1,a=t.indexOf(i),s=t.indexOf(i,a+1)>=0;if(s)throw new Error("More than one wildcard in sizes");var o=a>=0,l=e%r===0;if(o)if(l)n[a]=-e/r;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-r);return n}function H2(t){return t.reduce((e,r)=>e*r,1)}function _9(t,e){for(var r=t,n,i=e.length-1;i>0;i--){var a=e[i];n=[];for(var s=r.length/a,o=0;o<s;o++)n.push(r.slice(o*a,(o+1)*a));r=n}return r}function kd(t,e){for(var r=Ze(t);Array.isArray(t)&&t.length===1;)t=t[0],r.shift();for(var n=r.length;r[n-1]===1;)n--;return n<r.length&&(t=V2(t,n,0),r.length=n),t}function V2(t,e,r){var n,i;if(r<e){var a=r+1;for(n=0,i=t.length;n<i;n++)t[n]=V2(t[n],e,a)}else for(;Array.isArray(t);)t=t[0];return t}function W2(t,e,r,n){var i=n||Ze(t);if(r)for(var a=0;a<r;a++)t=[t],i.unshift(1);for(t=G2(t,e,0);i.length<e;)i.push(1);return t}function G2(t,e,r){var n,i;if(Array.isArray(t)){var a=r+1;for(n=0,i=t.length;n<i;n++)t[n]=G2(t[n],e,a)}else for(var s=r;s<e;s++)t=[t];return t}function Dt(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!Array.isArray(t))return t;if(typeof e!="boolean")throw new TypeError("Boolean expected for second argument of flatten");var r=[];return e?i(t):n(t),r;function n(a){for(var s=0;s<a.length;s++){var o=a[s];Array.isArray(o)?n(o):r.push(o)}}function i(a){if(Array.isArray(a[0]))for(var s=0;s<a.length;s++)i(a[s]);else for(var o=0;o<a.length;o++)r.push(a[o])}}function Qa(t,e){return Array.prototype.map.call(t,e)}function j2(t,e){Array.prototype.forEach.call(t,e)}function Yb(t,e){if(Ze(t).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,e)}function Xb(t,e){if(Ze(t).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,r=>e.test(r))}function Zb(t,e){return Array.prototype.join.call(t,e)}function ol(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(t.length===0)return t;var e=[],r=0;e[0]={value:t[0],identifier:0};for(var n=1;n<t.length;n++)t[n]===t[n-1]?r++:r=0,e.push({value:t[n],identifier:r});return e}function Id(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(t.length===0)return t;for(var e=[],r=0;r<t.length;r++)e.push(t[r].value);return e}function Pp(t,e){for(var r,n=0,i=0;i<t.length;i++){var a=t[i],s=Array.isArray(a);if(i===0&&s&&(n=a.length),s&&a.length!==n)return;var o=s?Pp(a,e):e(a);if(r===void 0)r=o;else if(r!==o)return"mixed"}return r}function K2(t,e,r,n){if(n<r){if(t.length!==e.length)throw new mt(t.length,e.length);for(var i=[],a=0;a<t.length;a++)i[a]=K2(t[a],e[a],r,n+1);return i}else return t.concat(e)}function J2(){var t=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(t.length===1)return t[0];if(t.length>1)return t.slice(1).reduce(function(r,n){return K2(r,n,e,0)},t[0]);throw new Error("Wrong number of arguments in function concat")}function t0(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=e.map(d=>d.length),i=Math.max(...n),a=new Array(i).fill(null),s=0;s<e.length;s++)for(var o=e[s],l=n[s],u=0;u<l;u++){var c=i-l+u;o[u]>a[c]&&(a[c]=o[u])}for(var f=0;f<e.length;f++)Y2(e[f],a);return a}function Y2(t,e){for(var r=e.length,n=t.length,i=0;i<n;i++){var a=r-n+i;if(t[i]<e[a]&&t[i]>1||t[i]>e[a])throw new Error("shape mismatch: mismatch is found in arg with shape (".concat(t,") not possible to broadcast dimension ").concat(n," with size ").concat(t[i]," to size ").concat(e[a]))}}function $s(t,e){var r=Ze(t);if(ba(r,e))return t;Y2(r,e);var n=t0(r,e),i=n.length,a=[...Array(i-r.length).fill(1),...r],s=F9(t);r.length<i&&(s=Qv(s,a),r=Ze(s));for(var o=0;o<i;o++)r[o]<n[o]&&(s=O9(s,n[o],o),r=Ze(s));return s}function O9(t,e,r){return J2(...Array(e).fill(t),r)}function r0(t,e){if(!Array.isArray(t))throw new Error("Array expected");var r=Ze(t);if(e.length!==r.length)throw new mt(e.length,r.length);for(var n=0;n<e.length;n++)Pt(e[n],r[n]);return e.reduce((i,a)=>i[a],t)}function _g(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t.length===0)return[];if(r)return a(t);var n=[];return i(t,0);function i(s,o){if(Array.isArray(s)){for(var l=s.length,u=Array(l),c=0;c<l;c++)n[o]=c,u[c]=i(s[c],o+1);return u}else return e(s,n.slice(0,o),t)}function a(s){if(Array.isArray(s)){for(var o=s.length,l=Array(o),u=0;u<o;u++)l[u]=a(s[u]);return l}else return e(s)}}function X2(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t.length===0)return;if(r){a(t);return}var n=[];i(t,0);function i(s,o){if(Array.isArray(s))for(var l=s.length,u=0;u<l;u++)n[o]=u,i(s[u],o+1);else e(s,n.slice(0,o),t)}function a(s){if(Array.isArray(s))for(var o=s.length,l=0;l<o;l++)a(s[l]);else e(s)}}function F9(t){return pr([],t)}function eo(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Td.isTypedFunction(t)){var i;if(n)i=1;else{var a=(e.isMatrix?e.size():Ze(e)).map(()=>0),s=e.isMatrix?e.get(a):r0(e,a);i=I9(t,s,a,e)}var o;if(e.isMatrix&&e.dataType!=="mixed"&&e.dataType!==void 0){var l=B9(t,i);o=l!==void 0?l:t}else o=t;return i>=1&&i<=3?{isUnary:i===1,fn:function(){for(var c=arguments.length,f=new Array(c),d=0;d<c;d++)f[d]=arguments[d];return Qb(o,f.slice(0,i),r,t.name)}}:{isUnary:!1,fn:function(){for(var c=arguments.length,f=new Array(c),d=0;d<c;d++)f[d]=arguments[d];return Qb(o,f,r,t.name)}}}return n===void 0?{isUnary:k9(t),fn:t}:{isUnary:n,fn:t}}function B9(t,e){var r=[];if(Object.entries(t.signatures).forEach(n=>{var[i,a]=n;i.split(",").length===e&&r.push(a)}),r.length===1)return r[0]}function k9(t){if(t.length!==1)return!1;var e=t.toString();if(/arguments/.test(e))return!1;var r=e.match(/\(.*?\)/);return!/\.\.\./.test(r)}function I9(t,e,r,n){for(var i=[e,r,n],a=3;a>0;a--){var s=i.slice(0,a);if(Td.resolve(t,s)!==null)return a}}function Qb(t,e,r,n){try{return t(...e)}catch(i){R9(i,e,r,n)}}function R9(t,e,r,n){var i;if(t instanceof TypeError&&((i=t.data)===null||i===void 0?void 0:i.category)==="wrongType"){var a=[];throw a.push("value: ".concat(It(e[0]))),e.length>=2&&a.push("index: ".concat(It(e[1]))),e.length>=3&&a.push("array: ".concat(It(e[2]))),new TypeError("Function ".concat(r," cannot apply callback arguments ")+"".concat(n,"(").concat(a.join(", "),") at index ").concat(JSON.stringify(e[1])))}else throw new TypeError("Function ".concat(r," cannot apply callback arguments ")+"to function ".concat(n,": ").concat(t.message))}var P9="DenseMatrix",$9=["Matrix"],L9=V(P9,$9,t=>{var{Matrix:e}=t;function r(c,f){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(f&&!Gr(f))throw new Error("Invalid datatype: "+f);if(Ge(c))c.type==="DenseMatrix"?(this._data=tt(c._data),this._size=tt(c._size),this._datatype=f||c._datatype):(this._data=c.toArray(),this._size=c.size(),this._datatype=f||c._datatype);else if(c&&Bt(c.data)&&Bt(c.size))this._data=c.data,this._size=c.size,Jb(this._data,this._size),this._datatype=f||c.datatype;else if(Bt(c))this._data=u(c),this._size=Ze(this._data),Jb(this._data,this._size),this._datatype=f;else{if(c)throw new TypeError("Unsupported type of data ("+It(c)+")");this._data=[],this._size=[0],this._datatype=f}}r.prototype=new e,r.prototype.createDenseMatrix=function(c,f){return new r(c,f)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return Pp(this._data,It)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(c,f){return new r(c,f)},r.prototype.subset=function(c,f,d){switch(arguments.length){case 1:return n(this,c);case 2:case 3:return a(this,c,f,d);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(c){return r0(this._data,c)},r.prototype.set=function(c,f,d){if(!Bt(c))throw new TypeError("Array expected");if(c.length<this._size.length)throw new mt(c.length,this._size.length,"<");var p,h,m,v=c.map(function(S){return S+1});l(this,v,d);var y=this._data;for(p=0,h=c.length-1;p<h;p++)m=c[p],Pt(m,y.length),y=y[m];return m=c[c.length-1],Pt(m,y.length),y[m]=f,this};function n(c,f){if(!_p(f))throw new TypeError("Invalid index");var d=f.isScalar();if(d)return c.get(f.min());var p=f.size();if(p.length!==c._size.length)throw new mt(p.length,c._size.length);for(var h=f.min(),m=f.max(),v=0,y=c._size.length;v<y;v++)Pt(h[v],c._size[v]),Pt(m[v],c._size[v]);var S=new r([]),g=i(c._data,f);return S._size=g.size,S._datatype=c._datatype,S._data=g.data,S}function i(c,f){var d=f.size().length-1,p=Array(d);return{data:h(c),size:p};function h(m){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y=f.dimension(v);return p[v]=y.size()[0],v<d?y.map(S=>(Pt(S,m.length),h(m[S],v+1))).valueOf():y.map(S=>(Pt(S,m.length),m[S])).valueOf()}}function a(c,f,d,p){if(!f||f.isIndex!==!0)throw new TypeError("Invalid index");var h=f.size(),m=f.isScalar(),v;if(Ge(d)?(v=d.size(),d=d.valueOf()):v=Ze(d),m){if(v.length!==0)throw new TypeError("Scalar expected");c.set(f.min(),d,p)}else{if(!ba(v,h))try{v.length===0?d=$s([d],h):d=$s(d,h),v=Ze(d)}catch{}if(h.length<c._size.length)throw new mt(h.length,c._size.length,"<");if(v.length<h.length){for(var y=0,S=0;h[y]===1&&v[y]===1;)y++;for(;h[y]===1;)S++,y++;d=W2(d,h.length,S,v)}if(!ba(h,v))throw new mt(h,v,">");var g=f.max().map(function(w){return w+1});l(c,g,p),s(c._data,f,d)}return c}function s(c,f,d){var p=f.size().length-1;h(c,d);function h(m,v){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,S=f.dimension(y);y<p?S.forEach((g,w)=>{Pt(g,m.length),h(m[g],v[w[0]],y+1)}):S.forEach((g,w)=>{Pt(g,m.length),m[g]=v[w[0]]})}}r.prototype.resize=function(c,f,d){if(!Qn(c))throw new TypeError("Array or Matrix expected");var p=c.valueOf().map(m=>Array.isArray(m)&&m.length===1?m[0]:m),h=d?this.clone():this;return o(h,p,f)};function o(c,f,d){if(f.length===0){for(var p=c._data;Bt(p);)p=p[0];return p}return c._size=f.slice(0),c._data=sl(c._data,c._size,d),c}r.prototype.reshape=function(c,f){var d=f?this.clone():this;d._data=Qv(d._data,c);var p=d._size.reduce((h,m)=>h*m);return d._size=e0(c,p),d};function l(c,f,d){for(var p=c._size.slice(0),h=!1;p.length<f.length;)p.push(0),h=!0;for(var m=0,v=f.length;m<v;m++)f[m]>p[m]&&(p[m]=f[m],h=!0);h&&o(c,p,d)}r.prototype.clone=function(){var c=new r({data:tt(this._data),size:tt(this._size),datatype:this._datatype});return c},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(c){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=this,p=d._size.length-1;if(p<0)return d.clone();var h=eo(c,d,"map",f),m=h.fn,v=d.create(void 0,d._datatype);if(v._size=d._size,f||h.isUnary)return v._data=b(d._data),v;if(p===0){for(var y=d.valueOf(),S=Array(y.length),g=0;g<y.length;g++)S[g]=m(y[g],[g],d);return v._data=S,v}var w=[];return v._data=x(d._data),v;function x(A){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,E=Array(A.length);if(D<p)for(var N=0;N<A.length;N++)w[D]=N,E[N]=x(A[N],D+1);else for(var C=0;C<A.length;C++)w[D]=C,E[C]=m(A[C],w.slice(),d);return E}function b(A){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,E=Array(A.length);if(D<p)for(var N=0;N<A.length;N++)E[N]=b(A[N],D+1);else for(var C=0;C<A.length;C++)E[C]=m(A[C]);return E}},r.prototype.forEach=function(c){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=this,p=d._size.length-1;if(p<0)return;var h=eo(c,d,"map",f),m=h.fn;if(f||h.isUnary){g(d._data);return}if(p===0){for(var v=0;v<d._data.length;v++)m(d._data[v],[v],d);return}var y=[];S(d._data);function S(w){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(x<p)for(var b=0;b<w.length;b++)y[x]=b,S(w[b],x+1);else for(var A=0;A<w.length;A++)y[x]=A,m(w[A],y.slice(),d)}function g(w){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(x<p)for(var b=0;b<w.length;b++)g(w[b],x+1);else for(var A=0;A<w.length;A++)m(w[A])}},r.prototype[Symbol.iterator]=function*(){var c=this._size.length-1;if(!(c<0)){if(c===0){for(var f=0;f<this._data.length;f++)yield{value:this._data[f],index:[f]};return}var d=[],p=function*(m,v){if(v<c)for(var y=0;y<m.length;y++)d[v]=y,yield*p(m[y],v+1);else for(var S=0;S<m.length;S++)d[v]=S,yield{value:m[S],index:d.slice()}};yield*p(this._data,0)}},r.prototype.rows=function(){var c=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var d=this._data;for(var p of d)c.push(new r([p],this._datatype));return c},r.prototype.columns=function(){var c=this,f=[],d=this.size();if(d.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var p=this._data,h=function(y){var S=p.map(g=>[g[y]]);f.push(new r(S,c._datatype))},m=0;m<d[1];m++)h(m);return f},r.prototype.toArray=function(){return tt(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(c){return ht(this._data,c)},r.prototype.toString=function(){return ht(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(c){if(c){if(lt(c)&&(c=c.toNumber()),!at(c)||!Le(c))throw new TypeError("The parameter k must be an integer number")}else c=0;for(var f=c>0?c:0,d=c<0?-c:0,p=this._size[0],h=this._size[1],m=Math.min(p-d,h-f),v=[],y=0;y<m;y++)v[y]=this._data[y+d][y+f];return new r({data:v,size:[m],datatype:this._datatype})},r.diagonal=function(c,f,d,p){if(!Bt(c))throw new TypeError("Array expected, size parameter");if(c.length!==2)throw new Error("Only two dimensions matrix are supported");if(c=c.map(function(A){if(lt(A)&&(A=A.toNumber()),!at(A)||!Le(A)||A<1)throw new Error("Size values must be positive integers");return A}),d){if(lt(d)&&(d=d.toNumber()),!at(d)||!Le(d))throw new TypeError("The parameter k must be an integer number")}else d=0;var h=d>0?d:0,m=d<0?-d:0,v=c[0],y=c[1],S=Math.min(v-m,y-h),g;if(Bt(f)){if(f.length!==S)throw new Error("Invalid value array length");g=function(D){return f[D]}}else if(Ge(f)){var w=f.size();if(w.length!==1||w[0]!==S)throw new Error("Invalid matrix length");g=function(D){return f.get([D])}}else g=function(){return f};p||(p=lt(g(0))?g(0).mul(0):0);var x=[];if(c.length>0){x=sl(x,c,p);for(var b=0;b<S;b++)x[b+m][b+h]=g(b)}return new r({data:x,size:[v,y]})},r.fromJSON=function(c){return new r(c)},r.prototype.swapRows=function(c,f){if(!at(c)||!Le(c)||!at(f)||!Le(f))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Pt(c,this._size[0]),Pt(f,this._size[0]),r._swapRows(c,f,this._data),this},r._swapRows=function(c,f,d){var p=d[c];d[c]=d[f],d[f]=p};function u(c){return Ge(c)?u(c.valueOf()):Bt(c)?c.map(u):c}return r},{isClass:!0}),ex="clone",z9=["typed"],q9=V(ex,z9,t=>{var{typed:e}=t;return e(ex,{any:tt})});function Z2(t){var e=t.length,r=t[0].length,n,i,a=[];for(i=0;i<r;i++){var s=[];for(n=0;n<e;n++)s.push(t[n][i]);a.push(s)}return a}function hl(t){for(var e=0;e<t.length;e++)if(Qn(t[e]))return!0;return!1}function ss(t,e){Ge(t)?t.forEach(r=>e(r),!1,!0):X2(t,e,!0)}function ut(t,e,r){if(!r)return Ge(t)?t.map(i=>e(i),!1,!0):_g(t,e,!0);var n=i=>i===0?i:e(i);return Ge(t)?t.map(i=>n(i),!1,!0):_g(t,n,!0)}function $p(t,e,r){var n=Array.isArray(t)?Ze(t):t.size();if(e<0||e>=n.length)throw new yi(e,n.length);return Ge(t)?t.create(Rd(t.valueOf(),e,r),t.datatype()):Rd(t,e,r)}function Rd(t,e,r){var n,i,a,s;if(e<=0)if(Array.isArray(t[0])){for(s=Z2(t),i=[],n=0;n<s.length;n++)i[n]=Rd(s[n],e-1,r);return i}else{for(a=t[0],n=1;n<t.length;n++)a=r(a,t[n]);return a}else{for(i=[],n=0;n<t.length;n++)i[n]=Rd(t[n],e-1,r);return i}}function tx(t,e,r,n,i,a,s,o,l,u,c){var f=t._values,d=t._index,p=t._ptr,h,m,v,y;if(n)for(m=p[e],v=p[e+1],h=m;h<v;h++)y=d[h],r[y]!==a?(r[y]=a,s.push(y),n[y]=f[h]):(n[y]=o(n[y],f[h]),i[y]=a);else for(m=p[e],v=p[e+1],h=m;h<v;h++)y=d[h],r[y]!==a?(r[y]=a,s.push(y)):i[y]=a}var rx="isInteger",U9=["typed"],H9=V(rx,U9,t=>{var{typed:e}=t;return e(rx,{number:Le,BigNumber:function(n){return n.isInt()},bigint:function(n){return!0},Fraction:function(n){return n.d===1n},"Array | Matrix":e.referToSelf(r=>n=>ut(n,r))})}),bi="number",ml="number, number";function Q2(t){return Math.abs(t)}Q2.signature=bi;function eM(t,e){return t+e}eM.signature=ml;function tM(t,e){return t-e}tM.signature=ml;function rM(t,e){return t*e}rM.signature=ml;function nM(t){return-t}nM.signature=bi;function iM(t){return t}iM.signature=bi;function Gl(t){return Gz(t)}Gl.signature=bi;function aM(t){return t*t*t}aM.signature=bi;function sM(t){return Math.exp(t)}sM.signature=bi;function oM(t){return jz(t)}oM.signature=bi;function lM(t,e){if(!Le(t)||!Le(e))throw new Error("Parameters in function lcm must be integer numbers");if(t===0||e===0)return 0;for(var r,n=t*e;e!==0;)r=e,e=t%r,t=r;return Math.abs(n/t)}lM.signature=ml;function nx(t,e){return e?Math.log(t)/Math.log(e):Math.log(t)}function Pd(t){return Vz(t)}Pd.signature=bi;function Og(t){return Hz(t)}Og.signature=bi;function ix(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,r=e<0;if(r&&(e=-e),e===0)throw new Error("Root must be non-zero");if(t<0&&Math.abs(e)%2!==1)throw new Error("Root must be odd when a is negative.");if(t===0)return r?1/0:0;if(!isFinite(t))return r?0:t;var n=Math.pow(Math.abs(t),1/e);return n=t<0?-n:n,r?1/n:n}function Fg(t){return Wa(t)}Fg.signature=bi;function uM(t){return t*t}uM.signature=bi;function cM(t,e){var r,n,i,a=0,s=1,o=1,l=0;if(!Le(t)||!Le(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)n=Math.floor(t/e),i=t-n*e,r=a,a=s-n*a,s=r,r=o,o=l-n*o,l=r,t=e,e=i;var u;return t<0?u=[-t,-s,-l]:u=[t,t?s:0,l],u}cM.signature=ml;function fM(t,e){return t*t<1&&e===1/0||t*t>1&&e===-1/0?0:Math.pow(t,e)}fM.signature=ml;function $l(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!Le(e)||e<0||e>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(C2(t,e))}var V9="number",gl="number, number";function dM(t,e){if(!Le(t)||!Le(e))throw new Error("Integers expected in function bitAnd");return t&e}dM.signature=gl;function pM(t){if(!Le(t))throw new Error("Integer expected in function bitNot");return~t}pM.signature=V9;function hM(t,e){if(!Le(t)||!Le(e))throw new Error("Integers expected in function bitOr");return t|e}hM.signature=gl;function mM(t,e){if(!Le(t)||!Le(e))throw new Error("Integers expected in function bitXor");return t^e}mM.signature=gl;function gM(t,e){if(!Le(t)||!Le(e))throw new Error("Integers expected in function leftShift");return t<<e}gM.signature=gl;function vM(t,e){if(!Le(t)||!Le(e))throw new Error("Integers expected in function rightArithShift");return t>>e}vM.signature=gl;function yM(t,e){if(!Le(t)||!Le(e))throw new Error("Integers expected in function rightLogShift");return t>>>e}yM.signature=gl;function ua(t,e){if(e<t)return 1;if(e===t)return e;var r=e+t>>1;return ua(t,r)*ua(r+1,e)}function bM(t,e){if(!Le(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(!Le(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>t)throw new TypeError("k must be less than or equal to n");for(var r=t-e,n=1,i=e<r?r+1:e+1,a=2,s=e<r?e:r,o=i;o<=t;++o)for(n*=o;a<=s&&n%a===0;)n/=a,++a;return a<=s&&(n/=ua(a,s)),n}bM.signature="number, number";var W9=Math.PI,G9=2*Math.PI,j9=Math.E,K9=1.618033988749895,J9="number",n0="number, number";function xM(t){return!t}xM.signature=J9;function Bg(t,e){return!!(t||e)}Bg.signature=n0;function kg(t,e){return!!t!=!!e}kg.signature=n0;function Ig(t,e){return!!(t&&e)}Ig.signature=n0;function $d(t){var e;if(Le(t))return t<=0?isFinite(t)?1/0:NaN:t>171?1/0:ua(1,t-1);if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*$d(1-t));if(t>=171.35)return 1/0;if(t>85){var r=t*t,n=r*t,i=n*t,a=i*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*r)-139/(51840*n)-571/(2488320*i)+163879/(209018880*a)+5246819/(75246796800*a*t))}--t,e=Go[0];for(var s=1;s<Go.length;++s)e+=Go[s]/(t+s);var o=t+wM+.5;return Math.sqrt(2*Math.PI)*Math.pow(o,t+.5)*Math.exp(-o)*e}$d.signature="number";var wM=4.7421875,Go=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],SM=.9189385332046728,Y9=5,X9=7,ax=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function Ld(t){if(t<0)return NaN;if(t===0)return 1/0;if(!isFinite(t))return t;if(t<.5)return Math.log(Math.PI/Math.sin(Math.PI*t))-Ld(1-t);t=t-1;for(var e=t+Y9+.5,r=ax[0],n=X9-1;n>=1;n--)r+=ax[n]/(t+n);return SM+(t+.5)*Math.log(e)-e+Math.log(r)}Ld.signature="number";var Zr="number";function EM(t){return Xz(t)}EM.signature=Zr;function AM(t){return Math.atan(1/t)}AM.signature=Zr;function NM(t){return isFinite(t)?(Math.log((t+1)/t)+Math.log(t/(t-1)))/2:0}NM.signature=Zr;function DM(t){return Math.asin(1/t)}DM.signature=Zr;function CM(t){var e=1/t;return Math.log(e+Math.sqrt(e*e+1))}CM.signature=Zr;function MM(t){return Math.acos(1/t)}MM.signature=Zr;function TM(t){var e=1/t,r=Math.sqrt(e*e-1);return Math.log(r+e)}TM.signature=Zr;function _M(t){return Zz(t)}_M.signature=Zr;function OM(t){return Qz(t)}OM.signature=Zr;function FM(t){return 1/Math.tan(t)}FM.signature=Zr;function BM(t){var e=Math.exp(2*t);return(e+1)/(e-1)}BM.signature=Zr;function kM(t){return 1/Math.sin(t)}kM.signature=Zr;function IM(t){return t===0?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(t)-Math.exp(-t)))*Wa(t)}IM.signature=Zr;function RM(t){return 1/Math.cos(t)}RM.signature=Zr;function PM(t){return 2/(Math.exp(t)+Math.exp(-t))}PM.signature=Zr;function $M(t){return t6(t)}$M.signature=Zr;var i0="number";function LM(t){return t<0}LM.signature=i0;function zM(t){return t>0}zM.signature=i0;function qM(t){return Number.isNaN(t)}qM.signature=i0;function ei(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return t.isNaN()||e.isNaN()?!1:!t.isFinite()||!e.isFinite()?t.eq(e):t.eq(e)?!0:t.minus(e).abs().lte(t.constructor.max(t.constructor.max(t.abs(),e.abs()).mul(r),n))}var sx="isNegative",Z9=["typed","config"],Q9=V(sx,Z9,t=>{var{typed:e,config:r}=t;return e(sx,{number:n=>Lr(n,0,r.relTol,r.absTol)?!1:LM(n),BigNumber:n=>ei(n,new n.constructor(0),r.relTol,r.absTol)?!1:n.isNeg()&&!n.isZero()&&!n.isNaN(),bigint:n=>n<0n,Fraction:n=>n.s<0n,Unit:e.referToSelf(n=>i=>e.find(n,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(n=>i=>ut(i,n))})}),ox="isNumeric",e7=["typed"],t7=V(ox,e7,t=>{var{typed:e}=t;return e(ox,{"number | BigNumber | bigint | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":e.referToSelf(r=>n=>ut(n,r))})}),lx="hasNumericValue",r7=["typed","isNumeric"],n7=V(lx,r7,t=>{var{typed:e,isNumeric:r}=t;return e(lx,{boolean:()=>!0,string:function(i){return i.trim().length>0&&!isNaN(Number(i))},any:function(i){return r(i)}})}),ux="isPositive",i7=["typed","config"],a7=V(ux,i7,t=>{var{typed:e,config:r}=t;return e(ux,{number:n=>Lr(n,0,r.relTol,r.absTol)?!1:zM(n),BigNumber:n=>ei(n,new n.constructor(0),r.relTol,r.absTol)?!1:!n.isNeg()&&!n.isZero()&&!n.isNaN(),bigint:n=>n>0n,Fraction:n=>n.s>0n&&n.n>0n,Unit:e.referToSelf(n=>i=>e.find(n,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(n=>i=>ut(i,n))})}),cx="isZero",s7=["typed","equalScalar"],o7=V(cx,s7,t=>{var{typed:e,equalScalar:r}=t;return e(cx,{"number | BigNumber | Complex | Fraction":n=>r(n,0),bigint:n=>n===0n,Unit:e.referToSelf(n=>i=>e.find(n,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(n=>i=>ut(i,n))})}),fx="isNaN",l7=["typed"],u7=V(fx,l7,t=>{var{typed:e}=t;return e(fx,{number:qM,BigNumber:function(n){return n.isNaN()},bigint:function(n){return!1},Fraction:function(n){return!1},Complex:function(n){return n.isNaN()},Unit:function(n){return Number.isNaN(n.value)},"Array | Matrix":e.referToSelf(r=>n=>ut(n,r))})}),dx="typeOf",c7=["typed"],f7=V(dx,c7,t=>{var{typed:e}=t;return e(dx,{any:It})});function d7(t,e,r,n){return Lr(t.re,e.re,r,n)&&Lr(t.im,e.im,r,n)}var vl=V("compareUnits",["typed"],t=>{var{typed:e}=t;return{"Unit, Unit":e.referToSelf(r=>(n,i)=>{if(!n.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(r,[n.valueType(),i.valueType()])(n.value,i.value)})}}),zd="equalScalar",p7=["typed","config"],h7=V(zd,p7,t=>{var{typed:e,config:r}=t,n=vl({typed:e});return e(zd,{"boolean, boolean":function(a,s){return a===s},"number, number":function(a,s){return Lr(a,s,r.relTol,r.absTol)},"BigNumber, BigNumber":function(a,s){return a.eq(s)||ei(a,s,r.relTol,r.absTol)},"bigint, bigint":function(a,s){return a===s},"Fraction, Fraction":function(a,s){return a.equals(s)},"Complex, Complex":function(a,s){return d7(a,s,r.relTol,r.absTol)}},n)});V(zd,["typed","config"],t=>{var{typed:e,config:r}=t;return e(zd,{"number, number":function(i,a){return Lr(i,a,r.relTol,r.absTol)}})});var m7="SparseMatrix",g7=["typed","equalScalar","Matrix"],v7=V(m7,g7,t=>{var{typed:e,equalScalar:r,Matrix:n}=t;function i(m,v){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(v&&!Gr(v))throw new Error("Invalid datatype: "+v);if(Ge(m))a(this,m,v);else if(m&&Bt(m.index)&&Bt(m.ptr)&&Bt(m.size))this._values=m.values,this._index=m.index,this._ptr=m.ptr,this._size=m.size,this._datatype=v||m.datatype;else if(Bt(m))s(this,m,v);else{if(m)throw new TypeError("Unsupported type of data ("+It(m)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=v}}function a(m,v,y){v.type==="SparseMatrix"?(m._values=v._values?tt(v._values):void 0,m._index=tt(v._index),m._ptr=tt(v._ptr),m._size=tt(v._size),m._datatype=y||v._datatype):s(m,v.valueOf(),y||v._datatype)}function s(m,v,y){m._values=[],m._index=[],m._ptr=[],m._datatype=y;var S=v.length,g=0,w=r,x=0;if(Gr(y)&&(w=e.find(r,[y,y])||r,x=e.convert(0,y)),S>0){var b=0;do{m._ptr.push(m._index.length);for(var A=0;A<S;A++){var D=v[A];if(Bt(D)){if(b===0&&g<D.length&&(g=D.length),b<D.length){var E=D[b];w(E,x)||(m._values.push(E),m._index.push(A))}}else b===0&&g<1&&(g=1),w(D,x)||(m._values.push(D),m._index.push(A))}b++}while(b<g)}m._ptr.push(m._index.length),m._size=[S,g]}i.prototype=new n,i.prototype.createSparseMatrix=function(m,v){return new i(m,v)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return Pp(this._values,It)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(m,v){return new i(m,v)},i.prototype.density=function(){var m=this._size[0],v=this._size[1];return m!==0&&v!==0?this._index.length/(m*v):0},i.prototype.subset=function(m,v,y){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return o(this,m);case 2:case 3:return l(this,m,v,y);default:throw new SyntaxError("Wrong number of arguments")}};function o(m,v){if(!_p(v))throw new TypeError("Invalid index");var y=v.isScalar();if(y)return m.get(v.min());var S=v.size();if(S.length!==m._size.length)throw new mt(S.length,m._size.length);var g,w,x,b,A=v.min(),D=v.max();for(g=0,w=m._size.length;g<w;g++)Pt(A[g],m._size[g]),Pt(D[g],m._size[g]);var E=m._values,N=m._index,C=m._ptr,M=v.dimension(0),F=v.dimension(1),I=[],R=[];M.forEach(function(H,k){R[H]=k[0],I[H]=!0});var T=E?[]:void 0,L=[],_=[];return F.forEach(function(H){for(_.push(L.length),x=C[H],b=C[H+1];x<b;x++)g=N[x],I[g]===!0&&(L.push(R[g]),T&&T.push(E[x]))}),_.push(L.length),new i({values:T,index:L,ptr:_,size:S,datatype:m._datatype})}function l(m,v,y,S){if(!v||v.isIndex!==!0)throw new TypeError("Invalid index");var g=v.size(),w=v.isScalar(),x;if(Ge(y)?(x=y.size(),y=y.toArray()):x=Ze(y),w){if(x.length!==0)throw new TypeError("Scalar expected");m.set(v.min(),y,S)}else{if(g.length!==1&&g.length!==2)throw new mt(g.length,m._size.length,"<");if(x.length<g.length){for(var b=0,A=0;g[b]===1&&x[b]===1;)b++;for(;g[b]===1;)A++,b++;y=W2(y,g.length,A,x)}if(!ba(g,x))throw new mt(g,x,">");if(g.length===1){var D=v.dimension(0);D.forEach(function(C,M){Pt(C),m.set([C,0],y[M[0]],S)})}else{var E=v.dimension(0),N=v.dimension(1);E.forEach(function(C,M){Pt(C),N.forEach(function(F,I){Pt(F),m.set([C,F],y[M[0]][I[0]],S)})})}}return m}i.prototype.get=function(m){if(!Bt(m))throw new TypeError("Array expected");if(m.length!==this._size.length)throw new mt(m.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var v=m[0],y=m[1];Pt(v,this._size[0]),Pt(y,this._size[1]);var S=u(v,this._ptr[y],this._ptr[y+1],this._index);return S<this._ptr[y+1]&&this._index[S]===v?this._values[S]:0},i.prototype.set=function(m,v,y){if(!Bt(m))throw new TypeError("Array expected");if(m.length!==this._size.length)throw new mt(m.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var S=m[0],g=m[1],w=this._size[0],x=this._size[1],b=r,A=0;Gr(this._datatype)&&(b=e.find(r,[this._datatype,this._datatype])||r,A=e.convert(0,this._datatype)),(S>w-1||g>x-1)&&(d(this,Math.max(S+1,w),Math.max(g+1,x),y),w=this._size[0],x=this._size[1]),Pt(S,w),Pt(g,x);var D=u(S,this._ptr[g],this._ptr[g+1],this._index);return D<this._ptr[g+1]&&this._index[D]===S?b(v,A)?c(D,g,this._values,this._index,this._ptr):this._values[D]=v:b(v,A)||f(D,S,g,v,this._values,this._index,this._ptr),this};function u(m,v,y,S){if(y-v===0)return y;for(var g=v;g<y;g++)if(S[g]===m)return g;return v}function c(m,v,y,S,g){y.splice(m,1),S.splice(m,1);for(var w=v+1;w<g.length;w++)g[w]--}function f(m,v,y,S,g,w,x){g.splice(m,0,S),w.splice(m,0,v);for(var b=y+1;b<x.length;b++)x[b]++}i.prototype.resize=function(m,v,y){if(!Qn(m))throw new TypeError("Array or Matrix expected");var S=m.valueOf().map(w=>Array.isArray(w)&&w.length===1?w[0]:w);if(S.length!==2)throw new Error("Only two dimensions matrix are supported");S.forEach(function(w){if(!at(w)||!Le(w)||w<0)throw new TypeError("Invalid size, must contain positive integers (size: "+ht(S)+")")});var g=y?this.clone():this;return d(g,S[0],S[1],v)};function d(m,v,y,S){var g=S||0,w=r,x=0;Gr(m._datatype)&&(w=e.find(r,[m._datatype,m._datatype])||r,x=e.convert(0,m._datatype),g=e.convert(g,m._datatype));var b=!w(g,x),A=m._size[0],D=m._size[1],E,N,C;if(y>D){for(N=D;N<y;N++)if(m._ptr[N]=m._values.length,b)for(E=0;E<A;E++)m._values.push(g),m._index.push(E);m._ptr[y]=m._values.length}else y<D&&(m._ptr.splice(y+1,D-y),m._values.splice(m._ptr[y],m._values.length),m._index.splice(m._ptr[y],m._index.length));if(D=y,v>A){if(b){var M=0;for(N=0;N<D;N++){m._ptr[N]=m._ptr[N]+M,C=m._ptr[N+1]+M;var F=0;for(E=A;E<v;E++,F++)m._values.splice(C+F,0,g),m._index.splice(C+F,0,E),M++}m._ptr[D]=m._values.length}}else if(v<A){var I=0;for(N=0;N<D;N++){m._ptr[N]=m._ptr[N]-I;var R=m._ptr[N],T=m._ptr[N+1]-I;for(C=R;C<T;C++)E=m._index[C],E>v-1&&(m._values.splice(C,1),m._index.splice(C,1),I++)}m._ptr[N]=m._values.length}return m._size[0]=v,m._size[1]=y,m}i.prototype.reshape=function(m,v){if(!Bt(m))throw new TypeError("Array expected");if(m.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");m.forEach(function(H){if(!at(H)||!Le(H)||H<=-2||H===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+ht(m)+")")});var y=this._size[0]*this._size[1];m=e0(m,y);var S=m[0]*m[1];if(y!==S)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var g=v?this.clone():this;if(this._size[0]===m[0]&&this._size[1]===m[1])return g;for(var w=[],x=0;x<g._ptr.length;x++)for(var b=0;b<g._ptr[x+1]-g._ptr[x];b++)w.push(x);for(var A=g._values.slice(),D=g._index.slice(),E=0;E<g._index.length;E++){var N=D[E],C=w[E],M=N*g._size[1]+C;w[E]=M%m[1],D[E]=Math.floor(M/m[1])}g._values.length=0,g._index.length=0,g._ptr.length=m[1]+1,g._size=m.slice();for(var F=0;F<g._ptr.length;F++)g._ptr[F]=0;for(var I=0;I<A.length;I++){var R=D[I],T=w[I],L=A[I],_=u(R,g._ptr[T],g._ptr[T+1],g._index);f(_,R,T,L,g._values,g._index,g._ptr)}return g},i.prototype.clone=function(){var m=new i({values:this._values?tt(this._values):void 0,index:tt(this._index),ptr:tt(this._ptr),size:tt(this._size),datatype:this._datatype});return m},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(m,v){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var y=this,S=this._size[0],g=this._size[1],w=eo(m,y,"map"),x=function(A,D,E){return w.fn(A,[D,E],y)};return p(this,0,S-1,0,g-1,x,v)};function p(m,v,y,S,g,w,x){var b=[],A=[],D=[],E=r,N=0;Gr(m._datatype)&&(E=e.find(r,[m._datatype,m._datatype])||r,N=e.convert(0,m._datatype));for(var C=function(X,Z,pe){var de=w(X,Z,pe);E(de,N)||(b.push(de),A.push(Z))},M=S;M<=g;M++){D.push(b.length);var F=m._ptr[M],I=m._ptr[M+1];if(x)for(var R=F;R<I;R++){var T=m._index[R];T>=v&&T<=y&&C(m._values[R],T-v,M-S)}else{for(var L={},_=F;_<I;_++){var H=m._index[_];L[H]=m._values[_]}for(var k=v;k<=y;k++){var ie=k in L?L[k]:0;C(ie,k-v,M-S)}}}return D.push(b.length),new i({values:b,index:A,ptr:D,size:[y-v+1,g-S+1]})}i.prototype.forEach=function(m,v){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var y=this,S=this._size[0],g=this._size[1],w=eo(m,y,"forEach"),x=0;x<g;x++){var b=this._ptr[x],A=this._ptr[x+1];if(v)for(var D=b;D<A;D++){var E=this._index[D];w.fn(this._values[D],[E,x],y)}else{for(var N={},C=b;C<A;C++){var M=this._index[C];N[M]=this._values[C]}for(var F=0;F<S;F++){var I=F in N?N[F]:0;w.fn(I,[F,x],y)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var m=this._size[1],v=0;v<m;v++)for(var y=this._ptr[v],S=this._ptr[v+1],g=y;g<S;g++){var w=this._index[g];yield{value:this._values[g],index:[w,v]}}},i.prototype.toArray=function(){return h(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return h(this._values,this._index,this._ptr,this._size,!1)};function h(m,v,y,S,g){var w=S[0],x=S[1],b=[],A,D;for(A=0;A<w;A++)for(b[A]=[],D=0;D<x;D++)b[A][D]=0;for(D=0;D<x;D++)for(var E=y[D],N=y[D+1],C=E;C<N;C++)A=v[C],b[A][D]=m?g?tt(m[C]):m[C]:1;return b}return i.prototype.format=function(m){for(var v=this._size[0],y=this._size[1],S=this.density(),g="Sparse Matrix ["+ht(v,m)+" x "+ht(y,m)+"] density: "+ht(S,m)+`
`,w=0;w<y;w++)for(var x=this._ptr[w],b=this._ptr[w+1],A=x;A<b;A++){var D=this._index[A];g+=`
    (`+ht(D,m)+", "+ht(w,m)+") ==> "+(this._values?ht(this._values[A],m):"X")}return g},i.prototype.toString=function(){return ht(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(m){if(m){if(lt(m)&&(m=m.toNumber()),!at(m)||!Le(m))throw new TypeError("The parameter k must be an integer number")}else m=0;var v=m>0?m:0,y=m<0?-m:0,S=this._size[0],g=this._size[1],w=Math.min(S-y,g-v),x=[],b=[],A=[];A[0]=0;for(var D=v;D<g&&x.length<w;D++)for(var E=this._ptr[D],N=this._ptr[D+1],C=E;C<N;C++){var M=this._index[C];if(M===D-v+y){x.push(this._values[C]),b[x.length-1]=M-y;break}}return A.push(x.length),new i({values:x,index:b,ptr:A,size:[w,1]})},i.fromJSON=function(m){return new i(m)},i.diagonal=function(m,v,y,S,g){if(!Bt(m))throw new TypeError("Array expected, size parameter");if(m.length!==2)throw new Error("Only two dimensions matrix are supported");if(m=m.map(function(H){if(lt(H)&&(H=H.toNumber()),!at(H)||!Le(H)||H<1)throw new Error("Size values must be positive integers");return H}),y){if(lt(y)&&(y=y.toNumber()),!at(y)||!Le(y))throw new TypeError("The parameter k must be an integer number")}else y=0;var w=r,x=0;Gr(g)&&(w=e.find(r,[g,g])||r,x=e.convert(0,g));var b=y>0?y:0,A=y<0?-y:0,D=m[0],E=m[1],N=Math.min(D-A,E-b),C;if(Bt(v)){if(v.length!==N)throw new Error("Invalid value array length");C=function(k){return v[k]}}else if(Ge(v)){var M=v.size();if(M.length!==1||M[0]!==N)throw new Error("Invalid matrix length");C=function(k){return v.get([k])}}else C=function(){return v};for(var F=[],I=[],R=[],T=0;T<E;T++){R.push(F.length);var L=T-b;if(L>=0&&L<N){var _=C(L);w(_,x)||(I.push(L+A),F.push(_))}}return R.push(F.length),new i({values:F,index:I,ptr:R,size:[D,E]})},i.prototype.swapRows=function(m,v){if(!at(m)||!Le(m)||!at(v)||!Le(v))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Pt(m,this._size[0]),Pt(v,this._size[0]),i._swapRows(m,v,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(m,v,y,S,g){for(var w=S[m],x=S[m+1],b=w;b<x;b++)g(y[b],v[b])},i._swapRows=function(m,v,y,S,g,w){for(var x=0;x<y;x++){var b=w[x],A=w[x+1],D=u(m,b,A,g),E=u(v,b,A,g);if(D<A&&E<A&&g[D]===m&&g[E]===v){if(S){var N=S[D];S[D]=S[E],S[E]=N}continue}if(D<A&&g[D]===m&&(E>=A||g[E]!==v)){var C=S?S[D]:void 0;g.splice(E,0,v),S&&S.splice(E,0,C),g.splice(E<=D?D+1:D,1),S&&S.splice(E<=D?D+1:D,1);continue}if(E<A&&g[E]===v&&(D>=A||g[D]!==m)){var M=S?S[E]:void 0;g.splice(D,0,m),S&&S.splice(D,0,M),g.splice(D<=E?E+1:E,1),S&&S.splice(D<=E?E+1:E,1)}}},i},{isClass:!0}),y7="number",b7=["typed"];function x7(t){var e=t.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var r={"0b":2,"0o":8,"0x":16}[e[1]],n=e[2],i=e[3];return{input:t,radix:r,integerPart:n,fractionalPart:i}}else return null}function w7(t){for(var e=parseInt(t.integerPart,t.radix),r=0,n=0;n<t.fractionalPart.length;n++){var i=parseInt(t.fractionalPart[n],t.radix);r+=i/Math.pow(t.radix,n+1)}var a=e+r;if(isNaN(a))throw new SyntaxError('String "'+t.input+'" is not a valid number');return a}var S7=V(y7,b7,t=>{var{typed:e}=t,r=e("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var a=x7(i);if(a)return w7(a);var s=0,o=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);o&&(s=Number(o[2]),i=o[1]);var l=Number(i);if(isNaN(l))throw new SyntaxError('String "'+i+'" is not a valid number');if(o){if(l>2**s-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));l>=2**(s-1)&&(l=l-2**s)}return l},BigNumber:function(i){return i.toNumber()},bigint:function(i){return Number(i)},Fraction:function(i){return i.valueOf()},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),null:function(i){return 0},"Unit, string | Unit":function(i,a){return i.toNumber(a)},"Array | Matrix":e.referToSelf(n=>i=>ut(i,n))});return r.fromJSON=function(n){return parseFloat(n.value)},r}),E7="bigint",A7=["typed"],N7=V(E7,A7,t=>{var{typed:e}=t,r=e("bigint",{"":function(){return 0n},bigint:function(i){return i},number:function(i){return BigInt(i.toFixed())},BigNumber:function(i){return BigInt(i.round().toString())},Fraction:function(i){return BigInt(i.valueOf().toFixed())},"string | boolean":function(i){return BigInt(i)},null:function(i){return 0n},"Array | Matrix":e.referToSelf(n=>i=>ut(i,n))});return r.fromJSON=function(n){return BigInt(n.value)},r}),px="string",D7=["typed"],C7=V(px,D7,t=>{var{typed:e}=t;return e(px,{"":function(){return""},number:Gs,null:function(n){return"null"},boolean:function(n){return n+""},string:function(n){return n},"Array | Matrix":e.referToSelf(r=>n=>ut(n,r)),any:function(n){return String(n)}})}),hx="boolean",M7=["typed"],T7=V(hx,M7,t=>{var{typed:e}=t;return e(hx,{"":function(){return!1},boolean:function(n){return n},number:function(n){return!!n},null:function(n){return!1},BigNumber:function(n){return!n.isZero()},string:function(n){var i=n.toLowerCase();if(i==="true")return!0;if(i==="false")return!1;var a=Number(n);if(n!==""&&!isNaN(a))return!!a;throw new Error('Cannot convert "'+n+'" to a boolean')},"Array | Matrix":e.referToSelf(r=>n=>ut(n,r))})}),_7="bignumber",O7=["typed","BigNumber"],F7=V(_7,O7,t=>{var{typed:e,BigNumber:r}=t;return e("bignumber",{"":function(){return new r(0)},number:function(i){return new r(i+"")},string:function(i){var a=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(a){var s=a[2],o=r(a[1]),l=new r(2).pow(Number(s));if(o.gt(l.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var u=new r(2).pow(Number(s)-1);return o.gte(u)?o.sub(l):o}return new r(i)},BigNumber:function(i){return i},bigint:function(i){return new r(i.toString())},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Fraction:function(i){return new r(String(i.n)).div(String(i.d)).times(String(i.s))},null:function(i){return new r(0)},"Array | Matrix":e.referToSelf(n=>i=>ut(i,n))})}),B7="complex",k7=["typed","Complex"],I7=V(B7,k7,t=>{var{typed:e,Complex:r}=t;return e("complex",{"":function(){return r.ZERO},number:function(i){return new r(i,0)},"number, number":function(i,a){return new r(i,a)},"BigNumber, BigNumber":function(i,a){return new r(i.toNumber(),a.toNumber())},Fraction:function(i){return new r(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return r(i)},null:function(i){return r(0)},Object:function(i){if("re"in i&&"im"in i)return new r(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new r(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(n=>i=>ut(i,n))})}),R7="fraction",P7=["typed","Fraction"],$7=V(R7,P7,t=>{var{typed:e,Fraction:r}=t;return e("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new r(i)},string:function(i){return new r(i)},"number, number":function(i,a){return new r(i,a)},"bigint, bigint":function(i,a){return new r(i,a)},null:function(i){return new r(0)},BigNumber:function(i){return new r(i.toString())},bigint:function(i){return new r(i.toString())},Fraction:function(i){return i},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Object:function(i){return new r(i)},"Array | Matrix":e.referToSelf(n=>i=>ut(i,n))})}),mx="matrix",L7=["typed","Matrix","DenseMatrix","SparseMatrix"],z7=V(mx,L7,t=>{var{typed:e,Matrix:r,DenseMatrix:n,SparseMatrix:i}=t;return e(mx,{"":function(){return a([])},string:function(o){return a([],o)},"string, string":function(o,l){return a([],o,l)},Array:function(o){return a(o)},Matrix:function(o){return a(o,o.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(s,o,l){if(o==="dense"||o==="default"||o===void 0)return new n(s,l);if(o==="sparse")return new i(s,l);throw new TypeError("Unknown matrix type "+JSON.stringify(o)+".")}}),gx="matrixFromFunction",q7=["typed","matrix","isZero"],U7=V(gx,q7,t=>{var{typed:e,matrix:r,isZero:n}=t;return e(gx,{"Array | Matrix, function, string, string":function(s,o,l,u){return i(s,o,l,u)},"Array | Matrix, function, string":function(s,o,l){return i(s,o,l)},"Matrix, function":function(s,o){return i(s,o,"dense")},"Array, function":function(s,o){return i(s,o,"dense").toArray()},"Array | Matrix, string, function":function(s,o,l){return i(s,l,o)},"Array | Matrix, string, string, function":function(s,o,l,u){return i(s,u,o,l)}});function i(a,s,o,l){var u;return l!==void 0?u=r(o,l):u=r(o),u.resize(a),u.forEach(function(c,f){var d=s(f);n(d)||u.set(f,d)}),u}}),vx="matrixFromRows",H7=["typed","matrix","flatten","size"],V7=V(vx,H7,t=>{var{typed:e,matrix:r,flatten:n,size:i}=t;return e(vx,{"...Array":function(l){return a(l)},"...Matrix":function(l){return r(a(l.map(u=>u.toArray())))}});function a(o){if(o.length===0)throw new TypeError("At least one row is needed to construct a matrix.");var l=s(o[0]),u=[];for(var c of o){var f=s(c);if(f!==l)throw new TypeError("The vectors had different length: "+(l|0)+"  "+(f|0));u.push(n(c))}return u}function s(o){var l=i(o);if(l.length===1)return l[0];if(l.length===2){if(l[0]===1)return l[1];if(l[1]===1)return l[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),yx="matrixFromColumns",W7=["typed","matrix","flatten","size"],G7=V(yx,W7,t=>{var{typed:e,matrix:r,flatten:n,size:i}=t;return e(yx,{"...Array":function(l){return a(l)},"...Matrix":function(l){return r(a(l.map(u=>u.toArray())))}});function a(o){if(o.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var l=s(o[0]),u=[],c=0;c<l;c++)u[c]=[];for(var f of o){var d=s(f);if(d!==l)throw new TypeError("The vectors had different length: "+(l|0)+"  "+(d|0));for(var p=n(f),h=0;h<l;h++)u[h].push(p[h])}return u}function s(o){var l=i(o);if(l.length===1)return l[0];if(l.length===2){if(l[0]===1)return l[1];if(l[1]===1)return l[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),bx="splitUnit",j7=["typed"],K7=V(bx,j7,t=>{var{typed:e}=t;return e(bx,{"Unit, Array":function(n,i){return n.splitUnit(i)}})}),xx="unaryMinus",J7=["typed"],Y7=V(xx,J7,t=>{var{typed:e}=t;return e(xx,{number:nM,"Complex | BigNumber | Fraction":r=>r.neg(),bigint:r=>-r,Unit:e.referToSelf(r=>n=>{var i=n.clone();return i.value=e.find(r,i.valueType())(n.value),i}),"Array | Matrix":e.referToSelf(r=>n=>ut(n,r,!0))})}),wx="unaryPlus",X7=["typed","config","numeric"],Z7=V(wx,X7,t=>{var{typed:e,config:r,numeric:n}=t;return e(wx,{number:iM,Complex:function(a){return a},BigNumber:function(a){return a},bigint:function(a){return a},Fraction:function(a){return a},Unit:function(a){return a.clone()},"Array | Matrix":e.referToSelf(i=>a=>ut(a,i,!0)),boolean:function(a){return n(a?1:0,r.number)},string:function(a){return n(a,fs(a,r))}})}),Sx="abs",Q7=["typed"],eq=V(Sx,Q7,t=>{var{typed:e}=t;return e(Sx,{number:Q2,"Complex | BigNumber | Fraction | Unit":r=>r.abs(),bigint:r=>r<0n?-r:r,"Array | Matrix":e.referToSelf(r=>n=>ut(n,r,!0))})}),Ex="mapSlices",tq=["typed","isInteger"],Rg=V(Ex,tq,t=>{var{typed:e,isInteger:r}=t;return e(Ex,{"Array | Matrix, number | BigNumber, function":function(i,a,s){if(!r(a))throw new TypeError("Integer number expected for dimension");var o=Array.isArray(i)?Ze(i):i.size();if(a<0||a>=o.length)throw new yi(a,o.length);return Ge(i)?i.create(qd(i.valueOf(),a,s),i.datatype()):qd(i,a,s)}})},{formerly:"apply"});function qd(t,e,r){var n,i,a;if(e<=0)if(Array.isArray(t[0])){for(a=rq(t),i=[],n=0;n<a.length;n++)i[n]=qd(a[n],e-1,r);return i}else return r(t);else{for(i=[],n=0;n<t.length;n++)i[n]=qd(t[n],e-1,r);return i}}function rq(t){var e=t.length,r=t[0].length,n,i,a=[];for(i=0;i<r;i++){var s=[];for(n=0;n<e;n++)s.push(t[n][i]);a.push(s)}return a}var Ax="addScalar",nq=["typed"],iq=V(Ax,nq,t=>{var{typed:e}=t;return e(Ax,{"number, number":eM,"Complex, Complex":function(n,i){return n.add(i)},"BigNumber, BigNumber":function(n,i){return n.plus(i)},"bigint, bigint":function(n,i){return n+i},"Fraction, Fraction":function(n,i){return n.add(i)},"Unit, Unit":e.referToSelf(r=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=e.find(r,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})}),Nx="subtractScalar",aq=["typed"],sq=V(Nx,aq,t=>{var{typed:e}=t;return e(Nx,{"number, number":tM,"Complex, Complex":function(n,i){return n.sub(i)},"BigNumber, BigNumber":function(n,i){return n.minus(i)},"bigint, bigint":function(n,i){return n-i},"Fraction, Fraction":function(n,i){return n.sub(i)},"Unit, Unit":e.referToSelf(r=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=e.find(r,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})}),Dx="cbrt",oq=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],lq=V(Dx,oq,t=>{var{config:e,typed:r,isNegative:n,unaryMinus:i,matrix:a,Complex:s,BigNumber:o,Fraction:l}=t;return r(Dx,{number:Gl,Complex:u,"Complex, boolean":u,BigNumber:function(d){return d.cbrt()},Unit:c});function u(f,d){var p=f.arg()/3,h=f.abs(),m=new s(Gl(h),0).mul(new s(0,p).exp());if(d){var v=[m,new s(Gl(h),0).mul(new s(0,p+Math.PI*2/3).exp()),new s(Gl(h),0).mul(new s(0,p-Math.PI*2/3).exp())];return e.matrix==="Array"?v:a(v)}else return m}function c(f){if(f.value&&ha(f.value)){var d=f.clone();return d.value=1,d=d.pow(1/3),d.value=u(f.value),d}else{var p=n(f.value);p&&(f.value=i(f.value));var h;lt(f.value)?h=new o(1).div(3):Yu(f.value)?h=new l(1,3):h=1/3;var m=f.pow(h);return p&&(m.value=i(m.value)),m}}}),uq="matAlgo11xS0s",cq=["typed","equalScalar"],zr=V(uq,cq,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,s,o){var l=i._values,u=i._index,c=i._ptr,f=i._size,d=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=f[0],h=f[1],m,v=r,y=0,S=s;typeof d=="string"&&(m=d,v=e.find(r,[m,m]),y=e.convert(0,m),a=e.convert(a,m),S=e.find(s,[m,m]));for(var g=[],w=[],x=[],b=0;b<h;b++){x[b]=w.length;for(var A=c[b],D=c[b+1],E=A;E<D;E++){var N=u[E],C=o?S(a,l[E]):S(l[E],a);v(C,y)||(w.push(N),g.push(C))}}return x[h]=w.length,i.createSparseMatrix({values:g,index:w,ptr:x,size:[p,h],datatype:m})}}),fq="matAlgo12xSfs",dq=["typed","DenseMatrix"],hr=V(fq,dq,t=>{var{typed:e,DenseMatrix:r}=t;return function(i,a,s,o){var l=i._values,u=i._index,c=i._ptr,f=i._size,d=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=f[0],h=f[1],m,v=s;typeof d=="string"&&(m=d,a=e.convert(a,m),v=e.find(s,[m,m]));for(var y=[],S=[],g=[],w=0;w<h;w++){for(var x=w+1,b=c[w],A=c[w+1],D=b;D<A;D++){var E=u[D];S[E]=l[D],g[E]=x}for(var N=0;N<p;N++)w===0&&(y[N]=[]),g[N]===x?y[N][w]=o?v(a,S[N]):v(S[N],a):y[N][w]=o?v(a,0):v(0,a)}return new r({data:y,size:[p,h],datatype:m})}}),pq="matAlgo14xDs",hq=["typed"],xi=V(pq,hq,t=>{var{typed:e}=t;return function(i,a,s,o){var l=i._data,u=i._size,c=i._datatype,f,d=s;typeof c=="string"&&(f=c,a=e.convert(a,f),d=e.find(s,[f,f]));var p=u.length>0?r(d,0,u,u[0],l,a,o):[];return i.createDenseMatrix({data:p,size:tt(u),datatype:f})};function r(n,i,a,s,o,l,u){var c=[];if(i===a.length-1)for(var f=0;f<s;f++)c[f]=u?n(l,o[f]):n(o[f],l);else for(var d=0;d<s;d++)c[d]=r(n,i+1,a,a[i+1],o[d],l,u);return c}}),Pg="ceil",mq=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],gq=new as(10),vq=V(Pg,["typed","config","round"],t=>{var{typed:e,config:r,round:n}=t;function i(a){var s=Math.ceil(a),o=n(a);return s===o?s:Lr(a,o,r.relTol,r.absTol)&&!Lr(a,s,r.relTol,r.absTol)?o:s}return e(Pg,{number:i,"number, number":function(s,o){if(!Le(o))throw new RangeError("number of decimals in function ceil must be an integer");if(o<0||o>15)throw new RangeError("number of decimals in ceil number must be in range 0-15");var l=10**o;return i(s*l)/l}})}),yq=V(Pg,mq,t=>{var{typed:e,config:r,round:n,matrix:i,equalScalar:a,zeros:s,DenseMatrix:o}=t,l=zr({typed:e,equalScalar:a}),u=hr({typed:e,DenseMatrix:o}),c=xi({typed:e}),f=vq({typed:e,config:r,round:n});function d(p){var h=(y,S)=>ei(y,S,r.relTol,r.absTol),m=p.ceil(),v=n(p);return m.eq(v)?m:h(p,v)&&!h(p,m)?v:m}return e("ceil",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(h){return h.ceil()},"Complex, number":function(h,m){return h.ceil(m)},"Complex, BigNumber":function(h,m){return h.ceil(m.toNumber())},BigNumber:d,"BigNumber, BigNumber":function(h,m){var v=gq.pow(m);return d(h.mul(v)).div(v)},bigint:p=>p,"bigint, number":(p,h)=>p,"bigint, BigNumber":(p,h)=>p,Fraction:function(h){return h.ceil()},"Fraction, number":function(h,m){return h.ceil(m)},"Fraction, BigNumber":function(h,m){return h.ceil(m.toNumber())},"Unit, number, Unit":e.referToSelf(p=>function(h,m,v){var y=h.toNumeric(v);return v.multiply(p(y,m))}),"Unit, BigNumber, Unit":e.referToSelf(p=>(h,m,v)=>p(h,m.toNumber(),v)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(p=>(h,m,v)=>ut(h,y=>p(y,m,v),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(p=>(h,m)=>p(h,0,m)),"Array | Matrix":e.referToSelf(p=>h=>ut(h,p,!0)),"Array, number | BigNumber":e.referToSelf(p=>(h,m)=>ut(h,v=>p(v,m),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(p=>(h,m)=>l(h,m,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(h,m)=>c(h,m,p,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(p=>(h,m)=>c(i(m),h,p,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(p=>(h,m)=>a(h,0)?s(m.size(),m.storage()):m.storage()==="dense"?c(m,h,p,!0):u(m,h,p,!0))})}),Cx="cube",bq=["typed"],xq=V(Cx,bq,t=>{var{typed:e}=t;return e(Cx,{number:aM,Complex:function(n){return n.mul(n).mul(n)},BigNumber:function(n){return n.times(n).times(n)},bigint:function(n){return n*n*n},Fraction:function(n){return n.pow(3)},Unit:function(n){return n.pow(3)}})}),Mx="exp",wq=["typed"],Sq=V(Mx,wq,t=>{var{typed:e}=t;return e(Mx,{number:sM,Complex:function(n){return n.exp()},BigNumber:function(n){return n.exp()}})}),Tx="expm1",Eq=["typed","Complex"],Aq=V(Tx,Eq,t=>{var{typed:e,Complex:r}=t;return e(Tx,{number:oM,Complex:function(i){var a=Math.exp(i.re);return new r(a*Math.cos(i.im)-1,a*Math.sin(i.im))},BigNumber:function(i){return i.exp().minus(1)}})}),$g="fix",Nq=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],Dq=V($g,["typed","ceil","floor"],t=>{var{typed:e,ceil:r,floor:n}=t;return e($g,{number:function(a){return a>0?n(a):r(a)},"number, number":function(a,s){return a>0?n(a,s):r(a,s)}})}),Cq=V($g,Nq,t=>{var{typed:e,Complex:r,matrix:n,ceil:i,floor:a,equalScalar:s,zeros:o,DenseMatrix:l}=t,u=hr({typed:e,DenseMatrix:l}),c=xi({typed:e}),f=Dq({typed:e,ceil:i,floor:a});return e("fix",{number:f.signatures.number,"number, number | BigNumber":f.signatures["number,number"],Complex:function(p){return new r(p.re>0?Math.floor(p.re):Math.ceil(p.re),p.im>0?Math.floor(p.im):Math.ceil(p.im))},"Complex, number":function(p,h){return new r(p.re>0?a(p.re,h):i(p.re,h),p.im>0?a(p.im,h):i(p.im,h))},"Complex, BigNumber":function(p,h){var m=h.toNumber();return new r(p.re>0?a(p.re,m):i(p.re,m),p.im>0?a(p.im,m):i(p.im,m))},BigNumber:function(p){return p.isNegative()?i(p):a(p)},"BigNumber, number | BigNumber":function(p,h){return p.isNegative()?i(p,h):a(p,h)},bigint:d=>d,"bigint, number":(d,p)=>d,"bigint, BigNumber":(d,p)=>d,Fraction:function(p){return p.s<0n?p.ceil():p.floor()},"Fraction, number | BigNumber":function(p,h){return p.s<0n?i(p,h):a(p,h)},"Unit, number, Unit":e.referToSelf(d=>function(p,h,m){var v=p.toNumeric(m);return m.multiply(d(v,h))}),"Unit, BigNumber, Unit":e.referToSelf(d=>(p,h,m)=>d(p,h.toNumber(),m)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(d=>(p,h,m)=>ut(p,v=>d(v,h,m),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(d=>(p,h)=>d(p,0,h)),"Array | Matrix":e.referToSelf(d=>p=>ut(p,d,!0)),"Array | Matrix, number | BigNumber":e.referToSelf(d=>(p,h)=>ut(p,m=>d(m,h),!0)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(d=>(p,h)=>c(n(h),p,d,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(d=>(p,h)=>s(p,0)?o(h.size(),h.storage()):h.storage()==="dense"?c(h,p,d,!0):u(h,p,d,!0))})}),Lg="floor",Mq=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],Tq=new as(10),_q=V(Lg,["typed","config","round"],t=>{var{typed:e,config:r,round:n}=t;function i(a){var s=Math.floor(a),o=n(a);return s===o?s:Lr(a,o,r.relTol,r.absTol)&&!Lr(a,s,r.relTol,r.absTol)?o:s}return e(Lg,{number:i,"number, number":function(s,o){if(!Le(o))throw new RangeError("number of decimals in function floor must be an integer");if(o<0||o>15)throw new RangeError("number of decimals in floor number must be in range 0 - 15");var l=10**o;return i(s*l)/l}})}),UM=V(Lg,Mq,t=>{var{typed:e,config:r,round:n,matrix:i,equalScalar:a,zeros:s,DenseMatrix:o}=t,l=zr({typed:e,equalScalar:a}),u=hr({typed:e,DenseMatrix:o}),c=xi({typed:e}),f=_q({typed:e,config:r,round:n});function d(p){var h=(y,S)=>ei(y,S,r.relTol,r.absTol),m=p.floor(),v=n(p);return m.eq(v)?m:h(p,v)&&!h(p,m)?v:m}return e("floor",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(h){return h.floor()},"Complex, number":function(h,m){return h.floor(m)},"Complex, BigNumber":function(h,m){return h.floor(m.toNumber())},BigNumber:d,"BigNumber, BigNumber":function(h,m){var v=Tq.pow(m);return d(h.mul(v)).div(v)},bigint:p=>p,"bigint, number":(p,h)=>p,"bigint, BigNumber":(p,h)=>p,Fraction:function(h){return h.floor()},"Fraction, number":function(h,m){return h.floor(m)},"Fraction, BigNumber":function(h,m){return h.floor(m.toNumber())},"Unit, number, Unit":e.referToSelf(p=>function(h,m,v){var y=h.toNumeric(v);return v.multiply(p(y,m))}),"Unit, BigNumber, Unit":e.referToSelf(p=>(h,m,v)=>p(h,m.toNumber(),v)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(p=>(h,m,v)=>ut(h,y=>p(y,m,v),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(p=>(h,m)=>p(h,0,m)),"Array | Matrix":e.referToSelf(p=>h=>ut(h,p,!0)),"Array, number | BigNumber":e.referToSelf(p=>(h,m)=>ut(h,v=>p(v,m),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(p=>(h,m)=>l(h,m,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(h,m)=>c(h,m,p,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(p=>(h,m)=>c(i(m),h,p,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(p=>(h,m)=>a(h,0)?s(m.size(),m.storage()):m.storage()==="dense"?c(m,h,p,!0):u(m,h,p,!0))})}),Oq="matAlgo02xDS0",Fq=["typed","equalScalar"],wi=V(Oq,Fq,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,s,o){var l=i._data,u=i._size,c=i._datatype||i.getDataType(),f=a._values,d=a._index,p=a._ptr,h=a._size,m=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(u.length!==h.length)throw new mt(u.length,h.length);if(u[0]!==h[0]||u[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+h+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var v=u[0],y=u[1],S,g=r,w=0,x=s;typeof c=="string"&&c===m&&c!=="mixed"&&(S=c,g=e.find(r,[S,S]),w=e.convert(0,S),x=e.find(s,[S,S]));for(var b=[],A=[],D=[],E=0;E<y;E++){D[E]=A.length;for(var N=p[E],C=p[E+1],M=N;M<C;M++){var F=d[M],I=o?x(f[M],l[F][E]):x(l[F][E],f[M]);g(I,w)||(A.push(F),b.push(I))}}return D[y]=A.length,a.createSparseMatrix({values:b,index:A,ptr:D,size:[v,y],datatype:c===i._datatype&&m===a._datatype?S:void 0})}}),Bq="matAlgo03xDSf",kq=["typed"],gn=V(Bq,kq,t=>{var{typed:e}=t;return function(n,i,a,s){var o=n._data,l=n._size,u=n._datatype||n.getDataType(),c=i._values,f=i._index,d=i._ptr,p=i._size,h=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(l.length!==p.length)throw new mt(l.length,p.length);if(l[0]!==p[0]||l[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+p+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m=l[0],v=l[1],y,S=0,g=a;typeof u=="string"&&u===h&&u!=="mixed"&&(y=u,S=e.convert(0,y),g=e.find(a,[y,y]));for(var w=[],x=0;x<m;x++)w[x]=[];for(var b=[],A=[],D=0;D<v;D++){for(var E=D+1,N=d[D],C=d[D+1],M=N;M<C;M++){var F=f[M];b[F]=s?g(c[M],o[F][D]):g(o[F][D],c[M]),A[F]=E}for(var I=0;I<m;I++)A[I]===E?w[I][D]=b[I]:w[I][D]=s?g(S,o[I][D]):g(o[I][D],S)}return n.createDenseMatrix({data:w,size:[m,v],datatype:u===n._datatype&&h===i._datatype?y:void 0})}}),Iq="matAlgo05xSfSf",Rq=["typed","equalScalar"],Lp=V(Iq,Rq,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,s){var o=i._values,l=i._index,u=i._ptr,c=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),d=a._values,p=a._index,h=a._ptr,m=a._size,v=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==m.length)throw new mt(c.length,m.length);if(c[0]!==m[0]||c[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+m+")");var y=c[0],S=c[1],g,w=r,x=0,b=s;typeof f=="string"&&f===v&&f!=="mixed"&&(g=f,w=e.find(r,[g,g]),x=e.convert(0,g),b=e.find(s,[g,g]));var A=o&&d?[]:void 0,D=[],E=[],N=A?[]:void 0,C=A?[]:void 0,M=[],F=[],I,R,T,L;for(R=0;R<S;R++){E[R]=D.length;var _=R+1;for(T=u[R],L=u[R+1];T<L;T++)I=l[T],D.push(I),M[I]=_,N&&(N[I]=o[T]);for(T=h[R],L=h[R+1];T<L;T++)I=p[T],M[I]!==_&&D.push(I),F[I]=_,C&&(C[I]=d[T]);if(A)for(T=E[R];T<D.length;){I=D[T];var H=M[I],k=F[I];if(H===_||k===_){var ie=H===_?N[I]:x,ee=k===_?C[I]:x,X=b(ie,ee);w(X,x)?D.splice(T,1):(A.push(X),T++)}}}return E[S]=D.length,i.createSparseMatrix({values:A,index:D,ptr:E,size:[y,S],datatype:f===i._datatype&&v===a._datatype?g:void 0})}}),Pq="matAlgo13xDD",$q=["typed"],Lq=V(Pq,$q,t=>{var{typed:e}=t;return function(i,a,s){var o=i._data,l=i._size,u=i._datatype,c=a._data,f=a._size,d=a._datatype,p=[];if(l.length!==f.length)throw new mt(l.length,f.length);for(var h=0;h<l.length;h++){if(l[h]!==f[h])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+f+")");p[h]=l[h]}var m,v=s;typeof u=="string"&&u===d&&(m=u,v=e.find(s,[m,m]));var y=p.length>0?r(v,0,p,p[0],o,c):[];return i.createDenseMatrix({data:y,size:p,datatype:m})};function r(n,i,a,s,o,l){var u=[];if(i===a.length-1)for(var c=0;c<s;c++)u[c]=n(o[c],l[c]);else for(var f=0;f<s;f++)u[f]=r(n,i+1,a,a[i+1],o[f],l[f]);return u}});function yr(t,e){if(ba(t.size(),e.size()))return[t,e];var r=t0(t.size(),e.size());return[t,e].map(n=>zq(n,r))}function zq(t,e){return ba(t.size(),e)?t:t.create($s(t.valueOf(),e),t.datatype())}var qq="matrixAlgorithmSuite",Uq=["typed","matrix"],$t=V(qq,Uq,t=>{var{typed:e,matrix:r}=t,n=Lq({typed:e}),i=xi({typed:e});return function(s){var o=s.elop,l=s.SD||s.DS,u;o?(u={"DenseMatrix, DenseMatrix":(p,h)=>n(...yr(p,h),o),"Array, Array":(p,h)=>n(...yr(r(p),r(h)),o).valueOf(),"Array, DenseMatrix":(p,h)=>n(...yr(r(p),h),o),"DenseMatrix, Array":(p,h)=>n(...yr(p,r(h)),o)},s.SS&&(u["SparseMatrix, SparseMatrix"]=(p,h)=>s.SS(...yr(p,h),o,!1)),s.DS&&(u["DenseMatrix, SparseMatrix"]=(p,h)=>s.DS(...yr(p,h),o,!1),u["Array, SparseMatrix"]=(p,h)=>s.DS(...yr(r(p),h),o,!1)),l&&(u["SparseMatrix, DenseMatrix"]=(p,h)=>l(...yr(h,p),o,!0),u["SparseMatrix, Array"]=(p,h)=>l(...yr(r(h),p),o,!0))):(u={"DenseMatrix, DenseMatrix":e.referToSelf(p=>(h,m)=>n(...yr(h,m),p)),"Array, Array":e.referToSelf(p=>(h,m)=>n(...yr(r(h),r(m)),p).valueOf()),"Array, DenseMatrix":e.referToSelf(p=>(h,m)=>n(...yr(r(h),m),p)),"DenseMatrix, Array":e.referToSelf(p=>(h,m)=>n(...yr(h,r(m)),p))},s.SS&&(u["SparseMatrix, SparseMatrix"]=e.referToSelf(p=>(h,m)=>s.SS(...yr(h,m),p,!1))),s.DS&&(u["DenseMatrix, SparseMatrix"]=e.referToSelf(p=>(h,m)=>s.DS(...yr(h,m),p,!1)),u["Array, SparseMatrix"]=e.referToSelf(p=>(h,m)=>s.DS(...yr(r(h),m),p,!1))),l&&(u["SparseMatrix, DenseMatrix"]=e.referToSelf(p=>(h,m)=>l(...yr(m,h),p,!0)),u["SparseMatrix, Array"]=e.referToSelf(p=>(h,m)=>l(...yr(r(m),h),p,!0))));var c=s.scalar||"any",f=s.Ds||s.Ss;f&&(o?(u["DenseMatrix,"+c]=(p,h)=>i(p,h,o,!1),u[c+", DenseMatrix"]=(p,h)=>i(h,p,o,!0),u["Array,"+c]=(p,h)=>i(r(p),h,o,!1).valueOf(),u[c+", Array"]=(p,h)=>i(r(h),p,o,!0).valueOf()):(u["DenseMatrix,"+c]=e.referToSelf(p=>(h,m)=>i(h,m,p,!1)),u[c+", DenseMatrix"]=e.referToSelf(p=>(h,m)=>i(m,h,p,!0)),u["Array,"+c]=e.referToSelf(p=>(h,m)=>i(r(h),m,p,!1).valueOf()),u[c+", Array"]=e.referToSelf(p=>(h,m)=>i(r(m),h,p,!0).valueOf())));var d=s.sS!==void 0?s.sS:s.Ss;return o?(s.Ss&&(u["SparseMatrix,"+c]=(p,h)=>s.Ss(p,h,o,!1)),d&&(u[c+", SparseMatrix"]=(p,h)=>d(h,p,o,!0))):(s.Ss&&(u["SparseMatrix,"+c]=e.referToSelf(p=>(h,m)=>s.Ss(h,m,p,!1))),d&&(u[c+", SparseMatrix"]=e.referToSelf(p=>(h,m)=>d(m,h,p,!0)))),o&&o.signatures&&A2(u,o.signatures),u}}),_x="mod",Hq=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],HM=V(_x,Hq,t=>{var{typed:e,config:r,round:n,matrix:i,equalScalar:a,zeros:s,DenseMatrix:o,concat:l}=t,u=UM({typed:e,config:r,round:n,matrix:i,equalScalar:a,zeros:s,DenseMatrix:o}),c=wi({typed:e,equalScalar:a}),f=gn({typed:e}),d=Lp({typed:e,equalScalar:a}),p=zr({typed:e,equalScalar:a}),h=hr({typed:e,DenseMatrix:o}),m=$t({typed:e,matrix:i,concat:l});return e(_x,{"number, number":v,"BigNumber, BigNumber":function(S,g){return g.isZero()?S:S.sub(g.mul(u(S.div(g))))},"bigint, bigint":function(S,g){if(g===0n)return S;if(S<0){var w=S%g;return w===0n?w:w+g}return S%g},"Fraction, Fraction":function(S,g){return g.equals(0)?S:S.sub(g.mul(u(S.div(g))))}},m({SS:d,DS:f,SD:c,Ss:p,sS:h}));function v(y,S){return S===0?y:y-S*u(y/S)}}),Vq="matAlgo01xDSid",Wq=["typed"],ps=V(Vq,Wq,t=>{var{typed:e}=t;return function(n,i,a,s){var o=n._data,l=n._size,u=n._datatype||n.getDataType(),c=i._values,f=i._index,d=i._ptr,p=i._size,h=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(l.length!==p.length)throw new mt(l.length,p.length);if(l[0]!==p[0]||l[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+p+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m=l[0],v=l[1],y=typeof u=="string"&&u!=="mixed"&&u===h?u:void 0,S=y?e.find(a,[y,y]):a,g,w,x=[];for(g=0;g<m;g++)x[g]=[];var b=[],A=[];for(w=0;w<v;w++){for(var D=w+1,E=d[w],N=d[w+1],C=E;C<N;C++)g=f[C],b[g]=s?S(c[C],o[g][w]):S(o[g][w],c[C]),A[g]=D;for(g=0;g<m;g++)A[g]===D?x[g][w]=b[g]:x[g][w]=o[g][w]}return n.createDenseMatrix({data:x,size:[m,v],datatype:u===n._datatype&&h===i._datatype?y:void 0})}}),Gq="matAlgo04xSidSid",jq=["typed","equalScalar"],a0=V(Gq,jq,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,s){var o=i._values,l=i._index,u=i._ptr,c=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),d=a._values,p=a._index,h=a._ptr,m=a._size,v=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==m.length)throw new mt(c.length,m.length);if(c[0]!==m[0]||c[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+m+")");var y=c[0],S=c[1],g,w=r,x=0,b=s;typeof f=="string"&&f===v&&f!=="mixed"&&(g=f,w=e.find(r,[g,g]),x=e.convert(0,g),b=e.find(s,[g,g]));var A=o&&d?[]:void 0,D=[],E=[],N=o&&d?[]:void 0,C=o&&d?[]:void 0,M=[],F=[],I,R,T,L,_;for(R=0;R<S;R++){E[R]=D.length;var H=R+1;for(L=u[R],_=u[R+1],T=L;T<_;T++)I=l[T],D.push(I),M[I]=H,N&&(N[I]=o[T]);for(L=h[R],_=h[R+1],T=L;T<_;T++)if(I=p[T],M[I]===H){if(N){var k=b(N[I],d[T]);w(k,x)?M[I]=null:N[I]=k}}else D.push(I),F[I]=H,C&&(C[I]=d[T]);if(N&&C)for(T=E[R];T<D.length;)I=D[T],M[I]===H?(A[T]=N[I],T++):F[I]===H?(A[T]=C[I],T++):D.splice(T,1)}return E[S]=D.length,i.createSparseMatrix({values:A,index:D,ptr:E,size:[y,S],datatype:f===i._datatype&&v===a._datatype?g:void 0})}}),Kq="matAlgo10xSids",Jq=["typed","DenseMatrix"],so=V(Kq,Jq,t=>{var{typed:e,DenseMatrix:r}=t;return function(i,a,s,o){var l=i._values,u=i._index,c=i._ptr,f=i._size,d=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=f[0],h=f[1],m,v=s;typeof d=="string"&&(m=d,a=e.convert(a,m),v=e.find(s,[m,m]));for(var y=[],S=[],g=[],w=0;w<h;w++){for(var x=w+1,b=c[w],A=c[w+1],D=b;D<A;D++){var E=u[D];S[E]=l[D],g[E]=x}for(var N=0;N<p;N++)w===0&&(y[N]=[]),g[N]===x?y[N][w]=o?v(a,S[N]):v(S[N],a):y[N][w]=a}return new r({data:y,size:[p,h],datatype:m})}});function oo(t,e,r,n){if(!(this instanceof oo))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=r,this.max=n,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+r+(n!=null?"-"+n:"")+" expected)",this.stack=new Error().stack}oo.prototype=new Error;oo.prototype.constructor=Error;oo.prototype.name="ArgumentsError";oo.prototype.isArgumentsError=!0;var Ox="gcd",Yq=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],cm="number | BigNumber | Fraction | Matrix | Array",Xq="".concat(cm,", ").concat(cm,", ...").concat(cm);function Fx(t){return!t.some(e=>Array.isArray(e))}var Zq=V(Ox,Yq,t=>{var{typed:e,matrix:r,config:n,round:i,equalScalar:a,zeros:s,BigNumber:o,DenseMatrix:l,concat:u}=t,c=HM({typed:e,config:n,round:i,matrix:r,equalScalar:a,zeros:s,DenseMatrix:l,concat:u}),f=ps({typed:e}),d=a0({typed:e,equalScalar:a}),p=so({typed:e,DenseMatrix:l}),h=$t({typed:e,matrix:r,concat:u});return e(Ox,{"number, number":m,"BigNumber, BigNumber":v,"Fraction, Fraction":(y,S)=>y.gcd(S)},h({SS:d,DS:f,Ss:p}),{[Xq]:e.referToSelf(y=>(S,g,w)=>{for(var x=y(S,g),b=0;b<w.length;b++)x=y(x,w[b]);return x}),Array:e.referToSelf(y=>S=>{if(S.length===1&&Array.isArray(S[0])&&Fx(S[0]))return y(...S[0]);if(Fx(S))return y(...S);throw new oo("gcd() supports only 1d matrices!")}),Matrix:e.referToSelf(y=>S=>y(S.toArray()))});function m(y,S){if(!Le(y)||!Le(S))throw new Error("Parameters in function gcd must be integer numbers");for(var g;S!==0;)g=c(y,S),y=S,S=g;return y<0?-y:y}function v(y,S){if(!y.isInt()||!S.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var g=new o(0);!S.isZero();){var w=c(y,S);y=S,S=w}return y.lt(g)?y.neg():y}}),Qq="matAlgo06xS0S0",eU=["typed","equalScalar"],zp=V(Qq,eU,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,s){var o=i._values,l=i._size,u=i._datatype||i._data===void 0?i._datatype:i.getDataType(),c=a._values,f=a._size,d=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(l.length!==f.length)throw new mt(l.length,f.length);if(l[0]!==f[0]||l[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+f+")");var p=l[0],h=l[1],m,v=r,y=0,S=s;typeof u=="string"&&u===d&&u!=="mixed"&&(m=u,v=e.find(r,[m,m]),y=e.convert(0,m),S=e.find(s,[m,m]));for(var g=o&&c?[]:void 0,w=[],x=[],b=g?[]:void 0,A=[],D=[],E=0;E<h;E++){x[E]=w.length;var N=E+1;if(tx(i,E,A,b,D,N,w,S),tx(a,E,A,b,D,N,w,S),b)for(var C=x[E];C<w.length;){var M=w[C];if(D[M]===N){var F=b[M];v(F,y)?w.splice(C,1):(g.push(F),C++)}else w.splice(C,1)}else for(var I=x[E];I<w.length;){var R=w[I];D[R]!==N?w.splice(I,1):I++}}return x[h]=w.length,i.createSparseMatrix({values:g,index:w,ptr:x,size:[p,h],datatype:u===i._datatype&&d===a._datatype?m:void 0})}}),Bx="lcm",tU=["typed","matrix","equalScalar","concat"],rU=V(Bx,tU,t=>{var{typed:e,matrix:r,equalScalar:n,concat:i}=t,a=wi({typed:e,equalScalar:n}),s=zp({typed:e,equalScalar:n}),o=zr({typed:e,equalScalar:n}),l=$t({typed:e,matrix:r,concat:i}),u="number | BigNumber | Fraction | Matrix | Array",c={};return c["".concat(u,", ").concat(u,", ...").concat(u)]=e.referToSelf(d=>(p,h,m)=>{for(var v=d(p,h),y=0;y<m.length;y++)v=d(v,m[y]);return v}),e(Bx,{"number, number":lM,"BigNumber, BigNumber":f,"Fraction, Fraction":(d,p)=>d.lcm(p)},l({SS:s,DS:a,Ss:o}),c);function f(d,p){if(!d.isInt()||!p.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(d.isZero())return d;if(p.isZero())return p;for(var h=d.times(p);!p.isZero();){var m=p;p=d.mod(m),d=m}return h.div(d).abs()}});function s0(t,e,r,n){return function(i){if(i>0||r.predictable){if(i<=0)return NaN;var a=i.toString(16),s=a.substring(0,15);return t*(a.length-s.length)+e(+("0x"+s))}return n(i.toNumber())}}var kx="log10",nU=["typed","config","Complex"],iU=Pd(16),aU=V(kx,nU,t=>{var{typed:e,config:r,Complex:n}=t;function i(s){return s.log().div(Math.LN10)}function a(s){return i(new n(s,0))}return e(kx,{number:function(o){return o>=0||r.predictable?Pd(o):a(o)},bigint:s0(iU,Pd,r,a),Complex:i,BigNumber:function(o){return!o.isNegative()||r.predictable?o.log():a(o.toNumber())},"Array | Matrix":e.referToSelf(s=>o=>ut(o,s))})}),Ix="log2",sU=["typed","config","Complex"],oU=V(Ix,sU,t=>{var{typed:e,config:r,Complex:n}=t;function i(s){return a(new n(s,0))}return e(Ix,{number:function(o){return o>=0||r.predictable?Og(o):i(o)},bigint:s0(4,Og,r,i),Complex:a,BigNumber:function(o){return!o.isNegative()||r.predictable?o.log(2):i(o.toNumber())},"Array | Matrix":e.referToSelf(s=>o=>ut(o,s))});function a(s){var o=Math.sqrt(s.re*s.re+s.im*s.im);return new n(Math.log2?Math.log2(o):Math.log(o)/Math.LN2,Math.atan2(s.im,s.re)/Math.LN2)}}),lU="multiplyScalar",uU=["typed"],cU=V(lU,uU,t=>{var{typed:e}=t;return e("multiplyScalar",{"number, number":rM,"Complex, Complex":function(n,i){return n.mul(i)},"BigNumber, BigNumber":function(n,i){return n.times(i)},"bigint, bigint":function(n,i){return n*i},"Fraction, Fraction":function(n,i){return n.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(r,n)=>n.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,n)=>r.multiply(n)})}),Rx="multiply",fU=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],dU=V(Rx,fU,t=>{var{typed:e,matrix:r,addScalar:n,multiplyScalar:i,equalScalar:a,dot:s}=t,o=zr({typed:e,equalScalar:a}),l=xi({typed:e});function u(x,b){switch(x.length){case 1:switch(b.length){case 1:if(x[0]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(x[0]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+x[0]+") must match Matrix rows ("+b[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+b.length+" dimensions)")}break;case 2:switch(b.length){case 1:if(x[1]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+x[1]+") must match Vector length ("+b[0]+")");break;case 2:if(x[1]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+x[1]+") must match Matrix B rows ("+b[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+b.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+x.length+" dimensions)")}}function c(x,b,A){if(A===0)throw new Error("Cannot multiply two empty vectors");return s(x,b)}function f(x,b){if(b.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return d(x,b)}function d(x,b){var A=x._data,D=x._size,E=x._datatype||x.getDataType(),N=b._data,C=b._size,M=b._datatype||b.getDataType(),F=D[0],I=C[1],R,T=n,L=i;E&&M&&E===M&&typeof E=="string"&&E!=="mixed"&&(R=E,T=e.find(n,[R,R]),L=e.find(i,[R,R]));for(var _=[],H=0;H<I;H++){for(var k=L(A[0],N[0][H]),ie=1;ie<F;ie++)k=T(k,L(A[ie],N[ie][H]));_[H]=k}return x.createDenseMatrix({data:_,size:[I],datatype:E===x._datatype&&M===b._datatype?R:void 0})}var p=e("_multiplyMatrixVector",{"DenseMatrix, any":m,"SparseMatrix, any":S}),h=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":v,"DenseMatrix, SparseMatrix":y,"SparseMatrix, DenseMatrix":g,"SparseMatrix, SparseMatrix":w});function m(x,b){var A=x._data,D=x._size,E=x._datatype||x.getDataType(),N=b._data,C=b._datatype||b.getDataType(),M=D[0],F=D[1],I,R=n,T=i;E&&C&&E===C&&typeof E=="string"&&E!=="mixed"&&(I=E,R=e.find(n,[I,I]),T=e.find(i,[I,I]));for(var L=[],_=0;_<M;_++){for(var H=A[_],k=T(H[0],N[0]),ie=1;ie<F;ie++)k=R(k,T(H[ie],N[ie]));L[_]=k}return x.createDenseMatrix({data:L,size:[M],datatype:E===x._datatype&&C===b._datatype?I:void 0})}function v(x,b){var A=x._data,D=x._size,E=x._datatype||x.getDataType(),N=b._data,C=b._size,M=b._datatype||b.getDataType(),F=D[0],I=D[1],R=C[1],T,L=n,_=i;E&&M&&E===M&&typeof E=="string"&&E!=="mixed"&&E!=="mixed"&&(T=E,L=e.find(n,[T,T]),_=e.find(i,[T,T]));for(var H=[],k=0;k<F;k++){var ie=A[k];H[k]=[];for(var ee=0;ee<R;ee++){for(var X=_(ie[0],N[0][ee]),Z=1;Z<I;Z++)X=L(X,_(ie[Z],N[Z][ee]));H[k][ee]=X}}return x.createDenseMatrix({data:H,size:[F,R],datatype:E===x._datatype&&M===b._datatype?T:void 0})}function y(x,b){var A=x._data,D=x._size,E=x._datatype||x.getDataType(),N=b._values,C=b._index,M=b._ptr,F=b._size,I=b._datatype||b._data===void 0?b._datatype:b.getDataType();if(!N)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var R=D[0],T=F[1],L,_=n,H=i,k=a,ie=0;E&&I&&E===I&&typeof E=="string"&&E!=="mixed"&&(L=E,_=e.find(n,[L,L]),H=e.find(i,[L,L]),k=e.find(a,[L,L]),ie=e.convert(0,L));for(var ee=[],X=[],Z=[],pe=b.createSparseMatrix({values:ee,index:X,ptr:Z,size:[R,T],datatype:E===x._datatype&&I===b._datatype?L:void 0}),de=0;de<T;de++){Z[de]=X.length;var j=M[de],W=M[de+1];if(W>j)for(var U=0,K=0;K<R;K++){for(var ae=K+1,B=void 0,q=j;q<W;q++){var G=C[q];U!==ae?(B=H(A[K][G],N[q]),U=ae):B=_(B,H(A[K][G],N[q]))}U===ae&&!k(B,ie)&&(X.push(K),ee.push(B))}}return Z[T]=X.length,pe}function S(x,b){var A=x._values,D=x._index,E=x._ptr,N=x._datatype||x._data===void 0?x._datatype:x.getDataType();if(!A)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var C=b._data,M=b._datatype||b.getDataType(),F=x._size[0],I=b._size[0],R=[],T=[],L=[],_,H=n,k=i,ie=a,ee=0;N&&M&&N===M&&typeof N=="string"&&N!=="mixed"&&(_=N,H=e.find(n,[_,_]),k=e.find(i,[_,_]),ie=e.find(a,[_,_]),ee=e.convert(0,_));var X=[],Z=[];L[0]=0;for(var pe=0;pe<I;pe++){var de=C[pe];if(!ie(de,ee))for(var j=E[pe],W=E[pe+1],U=j;U<W;U++){var K=D[U];Z[K]?X[K]=H(X[K],k(de,A[U])):(Z[K]=!0,T.push(K),X[K]=k(de,A[U]))}}for(var ae=T.length,B=0;B<ae;B++){var q=T[B];R[B]=X[q]}return L[1]=T.length,x.createSparseMatrix({values:R,index:T,ptr:L,size:[F,1],datatype:N===x._datatype&&M===b._datatype?_:void 0})}function g(x,b){var A=x._values,D=x._index,E=x._ptr,N=x._datatype||x._data===void 0?x._datatype:x.getDataType();if(!A)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var C=b._data,M=b._datatype||b.getDataType(),F=x._size[0],I=b._size[0],R=b._size[1],T,L=n,_=i,H=a,k=0;N&&M&&N===M&&typeof N=="string"&&N!=="mixed"&&(T=N,L=e.find(n,[T,T]),_=e.find(i,[T,T]),H=e.find(a,[T,T]),k=e.convert(0,T));for(var ie=[],ee=[],X=[],Z=x.createSparseMatrix({values:ie,index:ee,ptr:X,size:[F,R],datatype:N===x._datatype&&M===b._datatype?T:void 0}),pe=[],de=[],j=0;j<R;j++){X[j]=ee.length;for(var W=j+1,U=0;U<I;U++){var K=C[U][j];if(!H(K,k))for(var ae=E[U],B=E[U+1],q=ae;q<B;q++){var G=D[q];de[G]!==W?(de[G]=W,ee.push(G),pe[G]=_(K,A[q])):pe[G]=L(pe[G],_(K,A[q]))}}for(var se=X[j],P=ee.length,z=se;z<P;z++){var Y=ee[z];ie[z]=pe[Y]}}return X[R]=ee.length,Z}function w(x,b){var A=x._values,D=x._index,E=x._ptr,N=x._datatype||x._data===void 0?x._datatype:x.getDataType(),C=b._values,M=b._index,F=b._ptr,I=b._datatype||b._data===void 0?b._datatype:b.getDataType(),R=x._size[0],T=b._size[1],L=A&&C,_,H=n,k=i;N&&I&&N===I&&typeof N=="string"&&N!=="mixed"&&(_=N,H=e.find(n,[_,_]),k=e.find(i,[_,_]));for(var ie=L?[]:void 0,ee=[],X=[],Z=x.createSparseMatrix({values:ie,index:ee,ptr:X,size:[R,T],datatype:N===x._datatype&&I===b._datatype?_:void 0}),pe=L?[]:void 0,de=[],j,W,U,K,ae,B,q,G,se=0;se<T;se++){X[se]=ee.length;var P=se+1;for(ae=F[se],B=F[se+1],K=ae;K<B;K++)if(G=M[K],L)for(W=E[G],U=E[G+1],j=W;j<U;j++)q=D[j],de[q]!==P?(de[q]=P,ee.push(q),pe[q]=k(C[K],A[j])):pe[q]=H(pe[q],k(C[K],A[j]));else for(W=E[G],U=E[G+1],j=W;j<U;j++)q=D[j],de[q]!==P&&(de[q]=P,ee.push(q));if(L)for(var z=X[se],Y=ee.length,ne=z;ne<Y;ne++){var oe=ee[ne];ie[ne]=pe[oe]}}return X[T]=ee.length,Z}return e(Rx,i,{"Array, Array":e.referTo("Matrix, Matrix",x=>(b,A)=>{u(Ze(b),Ze(A));var D=x(r(b),r(A));return Ge(D)?D.valueOf():D}),"Matrix, Matrix":function(b,A){var D=b.size(),E=A.size();return u(D,E),D.length===1?E.length===1?c(b,A,D[0]):f(b,A):E.length===1?p(b,A):h(b,A)},"Matrix, Array":e.referTo("Matrix,Matrix",x=>(b,A)=>x(b,r(A))),"Array, Matrix":e.referToSelf(x=>(b,A)=>x(r(b,A.storage()),A)),"SparseMatrix, any":function(b,A){return o(b,A,i,!1)},"DenseMatrix, any":function(b,A){return l(b,A,i,!1)},"any, SparseMatrix":function(b,A){return o(A,b,i,!0)},"any, DenseMatrix":function(b,A){return l(A,b,i,!0)},"Array, any":function(b,A){return l(r(b),A,i,!1).valueOf()},"any, Array":function(b,A){return l(r(A),b,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf(x=>(b,A,D)=>{for(var E=x(b,A),N=0;N<D.length;N++)E=x(E,D[N]);return E})})}),Px="nthRoot",pU=["typed","matrix","equalScalar","BigNumber","concat"],hU=V(Px,pU,t=>{var{typed:e,matrix:r,equalScalar:n,BigNumber:i,concat:a}=t,s=ps({typed:e}),o=wi({typed:e,equalScalar:n}),l=zp({typed:e,equalScalar:n}),u=zr({typed:e,equalScalar:n}),c=$t({typed:e,matrix:r,concat:a});function f(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return e(Px,{number:ix,"number, number":ix,BigNumber:p=>d(p,new i(2)),"BigNumber, BigNumber":d,Complex:f,"Complex, number":f,Array:e.referTo("DenseMatrix,number",p=>h=>p(r(h),2).valueOf()),DenseMatrix:e.referTo("DenseMatrix,number",p=>h=>p(h,2)),SparseMatrix:e.referTo("SparseMatrix,number",p=>h=>p(h,2)),"SparseMatrix, SparseMatrix":e.referToSelf(p=>(h,m)=>{if(m.density()===1)return l(h,m,p);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":e.referToSelf(p=>(h,m)=>{if(m.density()===1)return s(h,m,p,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":e.referTo("DenseMatrix,SparseMatrix",p=>(h,m)=>p(r(h),m)),"number | BigNumber, SparseMatrix":e.referToSelf(p=>(h,m)=>{if(m.density()===1)return u(m,h,p,!0);throw new Error("Root must be non-zero")})},c({scalar:"number | BigNumber",SD:o,Ss:u,sS:!1}));function d(p,h){var m=i.precision,v=i.clone({precision:m+2}),y=new i(0),S=new v(1),g=h.isNegative();if(g&&(h=h.neg()),h.isZero())throw new Error("Root must be non-zero");if(p.isNegative()&&!h.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(p.isZero())return g?new v(1/0):0;if(!p.isFinite())return g?y:p;var w=p.abs().pow(S.div(h));return w=p.isNeg()?w.neg():w,new i((g?S.div(w):w).toPrecision(m))}}),$x="sign",mU=["typed","BigNumber","Fraction","complex"],gU=V($x,mU,t=>{var{typed:e,BigNumber:r,complex:n,Fraction:i}=t;return e($x,{number:Fg,Complex:function(s){return s.im===0?n(Fg(s.re)):s.sign()},BigNumber:function(s){return new r(s.cmp(0))},bigint:function(s){return s>0n?1n:s<0n?-1n:0n},Fraction:function(s){return new i(s.s)},"Array | Matrix":e.referToSelf(a=>s=>ut(s,a,!0)),Unit:e.referToSelf(a=>s=>{if(!s._isDerived()&&s.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return e.find(a,s.valueType())(s.value)})})}),vU="sqrt",yU=["config","typed","Complex"],bU=V(vU,yU,t=>{var{config:e,typed:r,Complex:n}=t;return r("sqrt",{number:i,Complex:function(s){return s.sqrt()},BigNumber:function(s){return!s.isNegative()||e.predictable?s.sqrt():i(s.toNumber())},Unit:function(s){return s.pow(.5)}});function i(a){return isNaN(a)?NaN:a>=0||e.predictable?Math.sqrt(a):new n(a,0).sqrt()}}),Lx="square",xU=["typed"],wU=V(Lx,xU,t=>{var{typed:e}=t;return e(Lx,{number:uM,Complex:function(n){return n.mul(n)},BigNumber:function(n){return n.times(n)},bigint:function(n){return n*n},Fraction:function(n){return n.mul(n)},Unit:function(n){return n.pow(2)}})}),zx="subtract",SU=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],EU=V(zx,SU,t=>{var{typed:e,matrix:r,equalScalar:n,subtractScalar:i,unaryMinus:a,DenseMatrix:s,concat:o}=t,l=ps({typed:e}),u=gn({typed:e}),c=Lp({typed:e,equalScalar:n}),f=so({typed:e,DenseMatrix:s}),d=hr({typed:e,DenseMatrix:s}),p=$t({typed:e,matrix:r,concat:o});return e(zx,{"any, any":i},p({elop:i,SS:c,DS:l,SD:u,Ss:d,sS:f}))}),qx="xgcd",AU=["typed","config","matrix","BigNumber"],NU=V(qx,AU,t=>{var{typed:e,config:r,matrix:n,BigNumber:i}=t;return e(qx,{"number, number":function(o,l){var u=cM(o,l);return r.matrix==="Array"?u:n(u)},"BigNumber, BigNumber":a});function a(s,o){var l,u,c,f=new i(0),d=new i(1),p=f,h=d,m=d,v=f;if(!s.isInt()||!o.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!o.isZero();)u=s.div(o).floor(),c=s.mod(o),l=p,p=h.minus(u.times(p)),h=l,l=m,m=v.minus(u.times(m)),v=l,s=o,o=c;var y;return s.lt(f)?y=[s.neg(),h.neg(),v.neg()]:y=[s,s.isZero()?0:h,v],r.matrix==="Array"?y:n(y)}}),Ux="invmod",DU=["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],CU=V(Ux,DU,t=>{var{typed:e,config:r,BigNumber:n,xgcd:i,equal:a,smaller:s,mod:o,add:l,isInteger:u}=t;return e(Ux,{"number, number":c,"BigNumber, BigNumber":c});function c(f,d){if(!u(f)||!u(d))throw new Error("Parameters in function invmod must be integer numbers");if(f=o(f,d),a(d,0))throw new Error("Divisor must be non zero");var p=i(f,d);p=p.valueOf();var[h,m]=p;return a(h,n(1))?(m=o(m,d),s(m,n(0))&&(m=l(m,d)),m):NaN}}),MU="matAlgo09xS0Sf",TU=["typed","equalScalar"],VM=V(MU,TU,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,s){var o=i._values,l=i._index,u=i._ptr,c=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),d=a._values,p=a._index,h=a._ptr,m=a._size,v=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==m.length)throw new mt(c.length,m.length);if(c[0]!==m[0]||c[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+m+")");var y=c[0],S=c[1],g,w=r,x=0,b=s;typeof f=="string"&&f===v&&f!=="mixed"&&(g=f,w=e.find(r,[g,g]),x=e.convert(0,g),b=e.find(s,[g,g]));var A=o&&d?[]:void 0,D=[],E=[],N=A?[]:void 0,C=[],M,F,I,R,T;for(F=0;F<S;F++){E[F]=D.length;var L=F+1;if(N)for(R=h[F],T=h[F+1],I=R;I<T;I++)M=p[I],C[M]=L,N[M]=d[I];for(R=u[F],T=u[F+1],I=R;I<T;I++)if(M=l[I],N){var _=C[M]===L?N[M]:x,H=b(o[I],_);w(H,x)||(D.push(M),A.push(H))}else D.push(M)}return E[S]=D.length,i.createSparseMatrix({values:A,index:D,ptr:E,size:[y,S],datatype:f===i._datatype&&v===a._datatype?g:void 0})}}),Hx="dotMultiply",_U=["typed","matrix","equalScalar","multiplyScalar","concat"],OU=V(Hx,_U,t=>{var{typed:e,matrix:r,equalScalar:n,multiplyScalar:i,concat:a}=t,s=wi({typed:e,equalScalar:n}),o=VM({typed:e,equalScalar:n}),l=zr({typed:e,equalScalar:n}),u=$t({typed:e,matrix:r,concat:a});return e(Hx,u({elop:i,SS:o,DS:s,Ss:l}))});function FU(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var r=t.constructor;if(t.isNaN()||e.isNaN())return new r(NaN);if(t.isZero()||e.eq(-1)||t.eq(e))return t;if(e.isZero()||t.eq(-1))return e;if(!t.isFinite()||!e.isFinite()){if(!t.isFinite()&&!e.isFinite())return t.isNegative()===e.isNegative()?t:new r(0);if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new r(0):e;if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new r(0):t}return o0(t,e,function(n,i){return n&i})}function Pu(t){if(t.isFinite()&&!t.isInteger())throw new Error("Integer expected in function bitNot");var e=t.constructor,r=e.precision;e.config({precision:1e9});var n=t.plus(new e(1));return n.s=-n.s||null,e.config({precision:r}),n}function BU(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var r=t.constructor;if(t.isNaN()||e.isNaN())return new r(NaN);var n=new r(-1);return t.isZero()||e.eq(n)||t.eq(e)?e:e.isZero()||t.eq(n)?t:!t.isFinite()||!e.isFinite()?!t.isFinite()&&!t.isNegative()&&e.isNegative()||t.isNegative()&&!e.isNegative()&&!e.isFinite()?n:t.isNegative()&&e.isNegative()?t.isFinite()?t:e:t.isFinite()?e:t:o0(t,e,function(i,a){return i|a})}function o0(t,e,r){var n=t.constructor,i,a,s=+(t.s<0),o=+(e.s<0);if(s){i=Uc(Pu(t));for(var l=0;l<i.length;++l)i[l]^=1}else i=Uc(t);if(o){a=Uc(Pu(e));for(var u=0;u<a.length;++u)a[u]^=1}else a=Uc(e);var c,f,d;i.length<=a.length?(c=i,f=a,d=s):(c=a,f=i,d=o);var p=c.length,h=f.length,m=r(s,o)^1,v=new n(m^1),y=new n(1),S=new n(2),g=n.precision;for(n.config({precision:1e9});p>0;)r(c[--p],f[--h])===m&&(v=v.plus(y)),y=y.times(S);for(;h>0;)r(d,f[--h])===m&&(v=v.plus(y)),y=y.times(S);return n.config({precision:g}),m===0&&(v.s=-v.s),v}function Uc(t){for(var e=t.d,r=e[0]+"",n=1;n<e.length;++n){for(var i=e[n]+"",a=7-i.length;a--;)i="0"+i;r+=i}for(var s=r.length;r.charAt(s)==="0";)s--;var o=t.e,l=r.slice(0,s+1||1),u=l.length;if(o>0)if(++o>u)for(o-=u;o--;)l+="0";else o<u&&(l=l.slice(0,o)+"."+l.slice(o));for(var c=[0],f=0;f<l.length;){for(var d=c.length;d--;)c[d]*=10;c[0]+=parseInt(l.charAt(f++));for(var p=0;p<c.length;++p)c[p]>1&&((c[p+1]===null||c[p+1]===void 0)&&(c[p+1]=0),c[p+1]+=c[p]>>1,c[p]&=1)}return c.reverse()}function kU(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var r=t.constructor;if(t.isNaN()||e.isNaN())return new r(NaN);if(t.isZero())return e;if(e.isZero())return t;if(t.eq(e))return new r(0);var n=new r(-1);return t.eq(n)?Pu(e):e.eq(n)?Pu(t):!t.isFinite()||!e.isFinite()?!t.isFinite()&&!e.isFinite()?n:new r(t.isNegative()===e.isNegative()?1/0:-1/0):o0(t,e,function(i,a){return i^a})}function IU(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var r=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new r(NaN):t.isZero()||e.isZero()?t:!t.isFinite()&&!e.isFinite()?new r(NaN):e.lt(55)?t.times(Math.pow(2,e.toNumber())+""):t.times(new r(2).pow(e))}function RU(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var r=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new r(NaN):t.isZero()||e.isZero()?t:e.isFinite()?e.lt(55)?t.div(Math.pow(2,e.toNumber())+"").floor():t.div(new r(2).pow(e)).floor():t.isNegative()?new r(-1):t.isFinite()?new r(0):new r(NaN)}var Vx="bitAnd",PU=["typed","matrix","equalScalar","concat"],WM=V(Vx,PU,t=>{var{typed:e,matrix:r,equalScalar:n,concat:i}=t,a=wi({typed:e,equalScalar:n}),s=zp({typed:e,equalScalar:n}),o=zr({typed:e,equalScalar:n}),l=$t({typed:e,matrix:r,concat:i});return e(Vx,{"number, number":dM,"BigNumber, BigNumber":FU,"bigint, bigint":(u,c)=>u&c},l({SS:s,DS:a,Ss:o}))}),Wx="bitNot",$U=["typed"],LU=V(Wx,$U,t=>{var{typed:e}=t;return e(Wx,{number:pM,BigNumber:Pu,bigint:r=>~r,"Array | Matrix":e.referToSelf(r=>n=>ut(n,r))})}),Gx="bitOr",zU=["typed","matrix","equalScalar","DenseMatrix","concat"],GM=V(Gx,zU,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=t,s=ps({typed:e}),o=a0({typed:e,equalScalar:n}),l=so({typed:e,DenseMatrix:i}),u=$t({typed:e,matrix:r,concat:a});return e(Gx,{"number, number":hM,"BigNumber, BigNumber":BU,"bigint, bigint":(c,f)=>c|f},u({SS:o,DS:s,Ss:l}))}),qU="matAlgo07xSSf",UU=["typed","SparseMatrix"],zi=V(qU,UU,t=>{var{typed:e,SparseMatrix:r}=t;return function(a,s,o){var l=a._size,u=a._datatype||a._data===void 0?a._datatype:a.getDataType(),c=s._size,f=s._datatype||s._data===void 0?s._datatype:s.getDataType();if(l.length!==c.length)throw new mt(l.length,c.length);if(l[0]!==c[0]||l[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+c+")");var d=l[0],p=l[1],h,m=0,v=o;typeof u=="string"&&u===f&&u!=="mixed"&&(h=u,m=e.convert(0,h),v=e.find(o,[h,h]));for(var y=[],S=[],g=new Array(p+1).fill(0),w=[],x=[],b=[],A=[],D=0;D<p;D++){var E=D+1,N=0;n(a,D,b,w,E),n(s,D,A,x,E);for(var C=0;C<d;C++){var M=b[C]===E?w[C]:m,F=A[C]===E?x[C]:m,I=v(M,F);I!==0&&I!==!1&&(S.push(C),y.push(I),N++)}g[D+1]=g[D]+N}return new r({values:y,index:S,ptr:g,size:[d,p],datatype:u===a._datatype&&f===s._datatype?h:void 0})};function n(i,a,s,o,l){for(var u=i._values,c=i._index,f=i._ptr,d=f[a],p=f[a+1];d<p;d++){var h=c[d];s[h]=l,o[h]=u[d]}}}),jx="bitXor",HU=["typed","matrix","DenseMatrix","concat","SparseMatrix"],VU=V(jx,HU,t=>{var{typed:e,matrix:r,DenseMatrix:n,concat:i,SparseMatrix:a}=t,s=gn({typed:e}),o=zi({typed:e,SparseMatrix:a}),l=hr({typed:e,DenseMatrix:n}),u=$t({typed:e,matrix:r,concat:i});return e(jx,{"number, number":mM,"BigNumber, BigNumber":kU,"bigint, bigint":(c,f)=>c^f},u({SS:o,DS:s,Ss:l}))}),Kx="arg",WU=["typed"],GU=V(Kx,WU,t=>{var{typed:e}=t;return e(Kx,{number:function(n){return Math.atan2(0,n)},BigNumber:function(n){return n.constructor.atan2(0,n)},Complex:function(n){return n.arg()},"Array | Matrix":e.referToSelf(r=>n=>ut(n,r))})}),Jx="conj",jU=["typed"],KU=V(Jx,jU,t=>{var{typed:e}=t;return e(Jx,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),"Array | Matrix":e.referToSelf(r=>n=>ut(n,r))})}),Yx="im",JU=["typed"],YU=V(Yx,JU,t=>{var{typed:e}=t;return e(Yx,{number:()=>0,"BigNumber | Fraction":r=>r.mul(0),Complex:r=>r.im,"Array | Matrix":e.referToSelf(r=>n=>ut(n,r))})}),Xx="re",XU=["typed"],ZU=V(Xx,XU,t=>{var{typed:e}=t;return e(Xx,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.re,"Array | Matrix":e.referToSelf(r=>n=>ut(n,r))})}),Zx="not",QU=["typed"],eH=V(Zx,QU,t=>{var{typed:e}=t;return e(Zx,{"null | undefined":()=>!0,number:xM,Complex:function(n){return n.re===0&&n.im===0},BigNumber:function(n){return n.isZero()||n.isNaN()},bigint:r=>!r,Unit:e.referToSelf(r=>n=>e.find(r,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(r=>n=>ut(n,r))})}),Qx="or",tH=["typed","matrix","equalScalar","DenseMatrix","concat"],jM=V(Qx,tH,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=t,s=gn({typed:e}),o=Lp({typed:e,equalScalar:n}),l=hr({typed:e,DenseMatrix:i}),u=$t({typed:e,matrix:r,concat:a});return e(Qx,{"number, number":Bg,"Complex, Complex":function(f,d){return f.re!==0||f.im!==0||d.re!==0||d.im!==0},"BigNumber, BigNumber":function(f,d){return!f.isZero()&&!f.isNaN()||!d.isZero()&&!d.isNaN()},"bigint, bigint":Bg,"Unit, Unit":e.referToSelf(c=>(f,d)=>c(f.value||0,d.value||0))},u({SS:o,DS:s,Ss:l}))}),ew="xor",rH=["typed","matrix","DenseMatrix","concat","SparseMatrix"],nH=V(ew,rH,t=>{var{typed:e,matrix:r,DenseMatrix:n,concat:i,SparseMatrix:a}=t,s=gn({typed:e}),o=zi({typed:e,SparseMatrix:a}),l=hr({typed:e,DenseMatrix:n}),u=$t({typed:e,matrix:r,concat:i});return e(ew,{"number, number":kg,"Complex, Complex":function(f,d){return(f.re!==0||f.im!==0)!=(d.re!==0||d.im!==0)},"bigint, bigint":kg,"BigNumber, BigNumber":function(f,d){return(!f.isZero()&&!f.isNaN())!=(!d.isZero()&&!d.isNaN())},"Unit, Unit":e.referToSelf(c=>(f,d)=>c(f.value||0,d.value||0))},u({SS:o,DS:s,Ss:l}))}),tw="concat",iH=["typed","matrix","isInteger"],KM=V(tw,iH,t=>{var{typed:e,matrix:r,isInteger:n}=t;return e(tw,{"...Array | Matrix | number | BigNumber":function(a){var s,o=a.length,l=-1,u,c=!1,f=[];for(s=0;s<o;s++){var d=a[s];if(Ge(d)&&(c=!0),at(d)||lt(d)){if(s!==o-1)throw new Error("Dimension must be specified as last argument");if(u=l,l=d.valueOf(),!n(l))throw new TypeError("Integer number expected for dimension");if(l<0||s>0&&l>u)throw new yi(l,u+1)}else{var p=tt(d).valueOf(),h=Ze(p);if(f[s]=p,u=l,l=h.length-1,s>0&&l!==u)throw new mt(u+1,l+1)}}if(f.length===0)throw new SyntaxError("At least one matrix expected");for(var m=f.shift();f.length;)m=J2(m,f.shift(),l);return c?r(m):m},"...string":function(a){return a.join("")}})}),rw="column",aH=["typed","Index","matrix","range"],JM=V(rw,aH,t=>{var{typed:e,Index:r,matrix:n,range:i}=t;return e(rw,{"Matrix, number":a,"Array, number":function(o,l){return a(n(tt(o)),l).valueOf()}});function a(s,o){if(s.size().length!==2)throw new Error("Only two dimensional matrix is supported");Pt(o,s.size()[1]);var l=i(0,s.size()[0]),u=new r(l,o),c=s.subset(u);return Ge(c)?c:n([[c]])}}),nw="count",sH=["typed","size","prod"],oH=V(nw,sH,t=>{var{typed:e,size:r,prod:n}=t;return e(nw,{string:function(a){return a.length},"Matrix | Array":function(a){return n(r(a))}})}),iw="cross",lH=["typed","matrix","subtract","multiply"],uH=V(iw,lH,t=>{var{typed:e,matrix:r,subtract:n,multiply:i}=t;return e(iw,{"Matrix, Matrix":function(o,l){return r(a(o.toArray(),l.toArray()))},"Matrix, Array":function(o,l){return r(a(o.toArray(),l))},"Array, Matrix":function(o,l){return r(a(o,l.toArray()))},"Array, Array":a});function a(s,o){var l=Math.max(Ze(s).length,Ze(o).length);s=kd(s),o=kd(o);var u=Ze(s),c=Ze(o);if(u.length!==1||c.length!==1||u[0]!==3||c[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+u.join(", ")+"], B = ["+c.join(", ")+"])");var f=[n(i(s[1],o[2]),i(s[2],o[1])),n(i(s[2],o[0]),i(s[0],o[2])),n(i(s[0],o[1]),i(s[1],o[0]))];return l>1?[f]:f}}),aw="diag",cH=["typed","matrix","DenseMatrix","SparseMatrix"],fH=V(aw,cH,t=>{var{typed:e,matrix:r,DenseMatrix:n,SparseMatrix:i}=t;return e(aw,{Array:function(u){return a(u,0,Ze(u),null)},"Array, number":function(u,c){return a(u,c,Ze(u),null)},"Array, BigNumber":function(u,c){return a(u,c.toNumber(),Ze(u),null)},"Array, string":function(u,c){return a(u,0,Ze(u),c)},"Array, number, string":function(u,c,f){return a(u,c,Ze(u),f)},"Array, BigNumber, string":function(u,c,f){return a(u,c.toNumber(),Ze(u),f)},Matrix:function(u){return a(u,0,u.size(),u.storage())},"Matrix, number":function(u,c){return a(u,c,u.size(),u.storage())},"Matrix, BigNumber":function(u,c){return a(u,c.toNumber(),u.size(),u.storage())},"Matrix, string":function(u,c){return a(u,0,u.size(),c)},"Matrix, number, string":function(u,c,f){return a(u,c,u.size(),f)},"Matrix, BigNumber, string":function(u,c,f){return a(u,c.toNumber(),u.size(),f)}});function a(l,u,c,f){if(!Le(u))throw new TypeError("Second parameter in function diag must be an integer");var d=u>0?u:0,p=u<0?-u:0;switch(c.length){case 1:return s(l,u,f,c[0],p,d);case 2:return o(l,u,f,c,p,d)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function s(l,u,c,f,d,p){var h=[f+d,f+p];if(c&&c!=="sparse"&&c!=="dense")throw new TypeError("Unknown matrix type ".concat(c,'"'));var m=c==="sparse"?i.diagonal(h,l,u):n.diagonal(h,l,u);return c!==null?m:m.valueOf()}function o(l,u,c,f,d,p){if(Ge(l)){var h=l.diagonal(u);return c!==null?c!==h.storage()?r(h,c):h:h.valueOf()}for(var m=Math.min(f[0]-d,f[1]-p),v=[],y=0;y<m;y++)v[y]=l[y+d][y+p];return c!==null?r(v):v}}),dH="filter",pH=["typed"],YM=V(dH,pH,t=>{var{typed:e}=t;return e("filter",{"Array, function":sw,"Matrix, function":function(n,i){return n.create(sw(n.valueOf(),i),n.datatype())},"Array, RegExp":Xb,"Matrix, RegExp":function(n,i){return n.create(Xb(n.valueOf(),i),n.datatype())}})});function sw(t,e){var r=eo(e,t,"filter");return r.isUnary?Yb(t,r.fn):Yb(t,function(n,i,a){return r.fn(n,[i],a)})}var ow="flatten",hH=["typed"],mH=V(ow,hH,t=>{var{typed:e}=t;return e(ow,{Array:function(n){return Dt(n)},Matrix:function(n){return n.create(Dt(n.valueOf(),!0),n.datatype())}})}),zg="forEach",gH=["typed"],XM=V(zg,gH,t=>{var{typed:e}=t;return e(zg,{"Array, function":vH,"Matrix, function":function(n,i){n.forEach(i)}})});function vH(t,e){var r=eo(e,t,zg);X2(t,r.fn,r.isUnary)}var lw="getMatrixDataType",yH=["typed"],bH=V(lw,yH,t=>{var{typed:e}=t;return e(lw,{Array:function(n){return Pp(n,It)},Matrix:function(n){return n.getDataType()}})}),uw="identity",xH=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],wH=V(uw,xH,t=>{var{typed:e,config:r,matrix:n,BigNumber:i,DenseMatrix:a,SparseMatrix:s}=t;return e(uw,{"":function(){return r.matrix==="Matrix"?n([]):[]},string:function(c){return n(c)},"number | BigNumber":function(c){return l(c,c,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(c,f){return l(c,c,f)},"number | BigNumber, number | BigNumber":function(c,f){return l(c,f,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(c,f,d){return l(c,f,d)},Array:function(c){return o(c)},"Array, string":function(c,f){return o(c,f)},Matrix:function(c){return o(c.valueOf(),c.storage())},"Matrix, string":function(c,f){return o(c.valueOf(),f)}});function o(u,c){switch(u.length){case 0:return c?n(c):[];case 1:return l(u[0],u[0],c);case 2:return l(u[0],u[1],c);default:throw new Error("Vector containing two values expected")}}function l(u,c,f){var d=lt(u)||lt(c)?i:null;if(lt(u)&&(u=u.toNumber()),lt(c)&&(c=c.toNumber()),!Le(u)||u<1)throw new Error("Parameters in function identity must be positive integers");if(!Le(c)||c<1)throw new Error("Parameters in function identity must be positive integers");var p=d?new i(1):1,h=d?new d(0):0,m=[u,c];if(f){if(f==="sparse")return s.diagonal(m,p,0,h);if(f==="dense")return a.diagonal(m,p,0,h);throw new TypeError('Unknown matrix type "'.concat(f,'"'))}for(var v=sl([],m,h),y=u<c?u:c,S=0;S<y;S++)v[S][S]=p;return v}}),cw="kron",SH=["typed","matrix","multiplyScalar"],EH=V(cw,SH,t=>{var{typed:e,matrix:r,multiplyScalar:n}=t;return e(cw,{"Matrix, Matrix":function(s,o){return r(i(s.toArray(),o.toArray()))},"Matrix, Array":function(s,o){return r(i(s.toArray(),o))},"Array, Matrix":function(s,o){return r(i(s,o.toArray()))},"Array, Array":i});function i(a,s){if(Ze(a).length===1&&(a=[a]),Ze(s).length===1&&(s=[s]),Ze(a).length>2||Ze(s).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(a.length)+", y = "+JSON.stringify(s.length)+")");var o=[],l=[];return a.map(function(u){return s.map(function(c){return l=[],o.push(l),u.map(function(f){return c.map(function(d){return l.push(n(f,d))})})})})&&o}}),fm="map",AH=["typed"],ZM=V(fm,AH,t=>{var{typed:e}=t;return e(fm,{"Array, function":n,"Matrix, function":function(a,s){return a.map(s)},"Array|Matrix, Array|Matrix, ...Array|Matrix|function":(i,a,s)=>r([i,a,...s.slice(0,s.length-1)],s[s.length-1])});function r(i,a){if(typeof a!="function")throw new Error("Last argument must be a callback function");var s=i[0].isMatrix,o=t0(...i.map(w=>w.isMatrix?w.size():Ze(w))),l=s?(w,x)=>w.get(x):r0,u=s?i.map(w=>w.isMatrix?w.create($s(w.toArray(),o),w.datatype()):i[0].create($s(w.valueOf(),o))):i.map(w=>w.isMatrix?$s(w.toArray(),o):$s(w,o)),c;if(e.isTypedFunction(a)){var f=o.map(()=>0),d=u.map(w=>l(w,f)),p=g(a,d,f,u);c=y(p)}else{var h=i.length,m=S(a,h);c=y(m)}var v=(w,x)=>c([w,...u.slice(1).map(b=>l(b,x))],x);if(s)return u[0].map(v);return n(u[0],v);function y(w){switch(w){case 0:return x=>a(...x);case 1:return(x,b)=>a(...x,b);case 2:return(x,b)=>a(...x,b,...u)}}function S(w,x){return w.length>x+1?2:w.length===x+1?1:0}function g(w,x,b,A){return e.resolve(w,[...x,b,...A])!==null?2:e.resolve(w,[...x,b])!==null?1:(e.resolve(w,x)!==null,0)}}function n(i,a){var s=eo(a,i,fm);return _g(i,s.fn,s.isUnary)}}),fw="diff",NH=["typed","matrix","subtract","number"],QM=V(fw,NH,t=>{var{typed:e,matrix:r,subtract:n,number:i}=t;return e(fw,{"Array | Matrix":function(c){return Ge(c)?r(s(c.toArray())):s(c)},"Array | Matrix, number":function(c,f){if(!Le(f))throw new RangeError("Dimension must be a whole number");return Ge(c)?r(a(c.toArray(),f)):a(c,f)},"Array, BigNumber":e.referTo("Array,number",u=>(c,f)=>u(c,i(f))),"Matrix, BigNumber":e.referTo("Matrix,number",u=>(c,f)=>u(c,i(f)))});function a(u,c){if(Ge(u)&&(u=u.toArray()),!Array.isArray(u))throw RangeError("Array/Matrix does not have that many dimensions");if(c>0){var f=[];return u.forEach(d=>{f.push(a(d,c-1))}),f}else{if(c===0)return s(u);throw RangeError("Cannot have negative dimension")}}function s(u){for(var c=[],f=u.length,d=1;d<f;d++)c.push(o(u[d-1],u[d]));return c}function o(u,c){Ge(u)&&(u=u.toArray()),Ge(c)&&(c=c.toArray());var f=Array.isArray(u),d=Array.isArray(c);if(f&&d)return l(u,c);if(!f&&!d)return n(c,u);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}function l(u,c){if(u.length!==c.length)throw RangeError("Not all sub-arrays have the same length");for(var f=[],d=u.length,p=0;p<d;p++)f.push(o(u[p],c[p]));return f}}),DH="ones",CH=["typed","config","matrix","BigNumber"],MH=V(DH,CH,t=>{var{typed:e,config:r,matrix:n,BigNumber:i}=t;return e("ones",{"":function(){return r.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(u){var c=u[u.length-1];if(typeof c=="string"){var f=u.pop();return a(u,f)}else return r.matrix==="Array"?a(u):a(u,"default")},Array:a,Matrix:function(u){var c=u.storage();return a(u.valueOf(),c)},"Array | Matrix, string":function(u,c){return a(u.valueOf(),c)}});function a(l,u){var c=s(l),f=c?new i(1):1;if(o(l),u){var d=n(u);return l.length>0?d.resize(l,f):d}else{var p=[];return l.length>0?sl(p,l,f):p}}function s(l){var u=!1;return l.forEach(function(c,f,d){lt(c)&&(u=!0,d[f]=c.toNumber())}),u}function o(l){l.forEach(function(u){if(typeof u!="number"||!Le(u)||u<0)throw new Error("Parameters in function ones must be positive integers")})}});function l0(){throw new Error('No "bignumber" implementation available')}function eT(){throw new Error('No "fraction" implementation available')}function tT(){throw new Error('No "matrix" implementation available')}var dw="range",TH=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],rT=V(dw,TH,t=>{var{typed:e,config:r,matrix:n,bignumber:i,smaller:a,smallerEq:s,larger:o,largerEq:l,add:u,isPositive:c}=t;return e(dw,{string:d,"string, boolean":d,number:function(v){throw new TypeError("Too few arguments to function range(): ".concat(v))},boolean:function(v){throw new TypeError("Unexpected type of argument 1 to function range(): ".concat(v,", number|bigint|BigNumber|Fraction"))},"number, number":function(v,y){return f(p(v,y,1,!1))},"number, number, number":function(v,y,S){return f(p(v,y,S,!1))},"number, number, boolean":function(v,y,S){return f(p(v,y,1,S))},"number, number, number, boolean":function(v,y,S,g){return f(p(v,y,S,g))},"bigint, bigint|number":function(v,y){return f(p(v,y,1n,!1))},"number, bigint":function(v,y){return f(p(BigInt(v),y,1n,!1))},"bigint, bigint|number, bigint|number":function(v,y,S){return f(p(v,y,BigInt(S),!1))},"number, bigint, bigint|number":function(v,y,S){return f(p(BigInt(v),y,BigInt(S),!1))},"bigint, bigint|number, boolean":function(v,y,S){return f(p(v,y,1n,S))},"number, bigint, boolean":function(v,y,S){return f(p(BigInt(v),y,1n,S))},"bigint, bigint|number, bigint|number, boolean":function(v,y,S,g){return f(p(v,y,BigInt(S),g))},"number, bigint, bigint|number, boolean":function(v,y,S,g){return f(p(BigInt(v),y,BigInt(S),g))},"BigNumber, BigNumber":function(v,y){var S=v.constructor;return f(p(v,y,new S(1),!1))},"BigNumber, BigNumber, BigNumber":function(v,y,S){return f(p(v,y,S,!1))},"BigNumber, BigNumber, boolean":function(v,y,S){var g=v.constructor;return f(p(v,y,new g(1),S))},"BigNumber, BigNumber, BigNumber, boolean":function(v,y,S,g){return f(p(v,y,S,g))},"Fraction, Fraction":function(v,y){return f(p(v,y,1,!1))},"Fraction, Fraction, Fraction":function(v,y,S){return f(p(v,y,S,!1))},"Fraction, Fraction, boolean":function(v,y,S){return f(p(v,y,1,S))},"Fraction, Fraction, Fraction, boolean":function(v,y,S,g){return f(p(v,y,S,g))},"Unit, Unit, Unit":function(v,y,S){return f(p(v,y,S,!1))},"Unit, Unit, Unit, boolean":function(v,y,S,g){return f(p(v,y,S,g))}});function f(m){return r.matrix==="Matrix"?n?n(m):tT():m}function d(m,v){var y=h(m);if(!y)throw new SyntaxError('String "'+m+'" is no valid range');return r.number==="BigNumber"?(i===void 0&&l0(),f(p(i(y.start),i(y.end),i(y.step)))):f(p(y.start,y.end,y.step,v))}function p(m,v,y,S){for(var g=[],w=c(y)?S?s:a:S?l:o,x=m;w(x,v);)g.push(x),x=u(x,y);return g}function h(m){var v=m.split(":"),y=v.map(function(g){return Number(g)}),S=y.some(function(g){return isNaN(g)});if(S)return null;switch(y.length){case 2:return{start:y[0],end:y[1],step:1};case 3:return{start:y[0],end:y[2],step:y[1]};default:return null}}}),pw="reshape",_H=["typed","isInteger","matrix"],OH=V(pw,_H,t=>{var{typed:e,isInteger:r}=t;return e(pw,{"Matrix, Array":function(i,a){return i.reshape(a,!0)},"Array, Array":function(i,a){return a.forEach(function(s){if(!r(s))throw new TypeError("Invalid size for dimension: "+s)}),Qv(i,a)}})}),FH="resize",BH=["config","matrix"],kH=V(FH,BH,t=>{var{config:e,matrix:r}=t;return function(a,s,o){if(arguments.length!==2&&arguments.length!==3)throw new oo("resize",arguments.length,2,3);if(Ge(s)&&(s=s.valueOf()),lt(s[0])&&(s=s.map(function(c){return lt(c)?c.toNumber():c})),Ge(a))return a.resize(s,o,!0);if(typeof a=="string")return n(a,s,o);var l=Array.isArray(a)?!1:e.matrix!=="Array";if(s.length===0){for(;Array.isArray(a);)a=a[0];return tt(a)}else{Array.isArray(a)||(a=[a]),a=tt(a);var u=sl(a,s,o);return l?r(u):u}};function n(i,a,s){if(s!==void 0){if(typeof s!="string"||s.length!==1)throw new TypeError("Single character expected as defaultValue")}else s=" ";if(a.length!==1)throw new mt(a.length,1);var o=a[0];if(typeof o!="number"||!Le(o))throw new TypeError("Invalid size, must contain positive integers (size: "+ht(a)+")");if(i.length>o)return i.substring(0,o);if(i.length<o){for(var l=i,u=0,c=o-i.length;u<c;u++)l+=s;return l}else return i}}),hw="rotate",IH=["typed","multiply","rotationMatrix"],RH=V(hw,IH,t=>{var{typed:e,multiply:r,rotationMatrix:n}=t;return e(hw,{"Array , number | BigNumber | Complex | Unit":function(s,o){i(s,2);var l=r(n(o),s);return l.toArray()},"Matrix , number | BigNumber | Complex | Unit":function(s,o){return i(s,2),r(n(o),s)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(s,o,l){i(s,3);var u=r(n(o,l),s);return u},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(s,o,l){return i(s,3),r(n(o,l),s)}});function i(a,s){var o=Array.isArray(a)?Ze(a):a.size();if(o.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(s));if(o.length===2&&o[1]!==1)throw new RangeError("Vector must be of dimensions 1x".concat(s));if(o[0]!==s)throw new RangeError("Vector must be of dimensions 1x".concat(s))}}),mw="rotationMatrix",PH=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],$H=V(mw,PH,t=>{var{typed:e,config:r,multiplyScalar:n,addScalar:i,unaryMinus:a,norm:s,BigNumber:o,matrix:l,DenseMatrix:u,SparseMatrix:c,cos:f,sin:d}=t;return e(mw,{"":function(){return r.matrix==="Matrix"?l([]):[]},string:function(g){return l(g)},"number | BigNumber | Complex | Unit":function(g){return p(g,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(g,w){return p(g,w)},"number | BigNumber | Complex | Unit, Array":function(g,w){var x=l(w);return h(x),y(g,x,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(g,w){h(w);var x=w.storage()||(r.matrix==="Matrix"?"dense":void 0);return y(g,w,x)},"number | BigNumber | Complex | Unit, Array, string":function(g,w,x){var b=l(w);return h(b),y(g,b,x)},"number | BigNumber | Complex | Unit, Matrix, string":function(g,w,x){return h(w),y(g,w,x)}});function p(S,g){var w=lt(S),x=w?new o(-1):-1,b=f(S),A=d(S),D=[[b,n(x,A)],[A,b]];return v(D,g)}function h(S){var g=S.size();if(g.length<1||g[0]!==3)throw new RangeError("Vector must be of dimensions 1x3")}function m(S){return S.reduce((g,w)=>n(g,w))}function v(S,g){if(g){if(g==="sparse")return new c(S);if(g==="dense")return new u(S);throw new TypeError('Unknown matrix type "'.concat(g,'"'))}return S}function y(S,g,w){var x=s(g);if(x===0)throw new RangeError("Rotation around zero vector");var b=lt(S)?o:null,A=b?new b(1):1,D=b?new b(-1):-1,E=b?new b(g.get([0])/x):g.get([0])/x,N=b?new b(g.get([1])/x):g.get([1])/x,C=b?new b(g.get([2])/x):g.get([2])/x,M=f(S),F=i(A,a(M)),I=d(S),R=i(M,m([E,E,F])),T=i(m([E,N,F]),m([D,C,I])),L=i(m([E,C,F]),m([N,I])),_=i(m([E,N,F]),m([C,I])),H=i(M,m([N,N,F])),k=i(m([N,C,F]),m([D,E,I])),ie=i(m([E,C,F]),m([D,N,I])),ee=i(m([N,C,F]),m([E,I])),X=i(M,m([C,C,F])),Z=[[R,T,L],[_,H,k],[ie,ee,X]];return v(Z,w)}}),gw="row",LH=["typed","Index","matrix","range"],nT=V(gw,LH,t=>{var{typed:e,Index:r,matrix:n,range:i}=t;return e(gw,{"Matrix, number":a,"Array, number":function(o,l){return a(n(tt(o)),l).valueOf()}});function a(s,o){if(s.size().length!==2)throw new Error("Only two dimensional matrix is supported");Pt(o,s.size()[0]);var l=i(0,s.size()[1]),u=new r(o,l),c=s.subset(u);return Ge(c)?c:n([[c]])}}),vw="size",zH=["typed","config","?matrix"],qH=V(vw,zH,t=>{var{typed:e,config:r,matrix:n}=t;return e(vw,{Matrix:function(a){return a.create(a.size(),"number")},Array:Ze,string:function(a){return r.matrix==="Array"?[a.length]:n([a.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(a){return r.matrix==="Array"?[]:n?n([],"dense","number"):tT()}})}),yw="squeeze",UH=["typed"],HH=V(yw,UH,t=>{var{typed:e}=t;return e(yw,{Array:function(n){return kd(tt(n))},Matrix:function(n){var i=kd(n.toArray());return Array.isArray(i)?n.create(i,n.datatype()):i},any:function(n){return tt(n)}})}),bw="subset",VH=["typed","matrix","zeros","add"],iT=V(bw,VH,t=>{var{typed:e,matrix:r,zeros:n,add:i}=t;return e(bw,{"Matrix, Index":function(o,l){return al(l)?r():(Bd(o,l),o.subset(l))},"Array, Index":e.referTo("Matrix, Index",function(s){return function(o,l){var u=s(r(o),l);return l.isScalar()?u:u.valueOf()}}),"Object, Index":GH,"string, Index":WH,"Matrix, Index, any, any":function(o,l,u,c){return al(l)?o:(Bd(o,l),o.clone().subset(l,a(u,l),c))},"Array, Index, any, any":e.referTo("Matrix, Index, any, any",function(s){return function(o,l,u,c){var f=s(r(o),l,u,c);return f.isMatrix?f.valueOf():f}}),"Array, Index, any":e.referTo("Matrix, Index, any, any",function(s){return function(o,l,u){return s(r(o),l,u,void 0).valueOf()}}),"Matrix, Index, any":e.referTo("Matrix, Index, any, any",function(s){return function(o,l,u){return s(o,l,u,void 0)}}),"string, Index, string":xw,"string, Index, string, string":xw,"Object, Index, any":jH});function a(s,o){if(typeof s=="string")throw new Error("can't boradcast a string");if(o._isScalar)return s;var l=o.size();if(l.every(u=>u>0))try{return i(s,n(l))}catch{return s}else return s}});function WH(t,e){if(!_p(e))throw new TypeError("Index expected");if(al(e))return"";if(Bd(Array.from(t),e),e.size().length!==1)throw new mt(e.size().length,1);var r=t.length;Pt(e.min()[0],r),Pt(e.max()[0],r);var n=e.dimension(0),i="";return n.forEach(function(a){i+=t.charAt(a)}),i}function xw(t,e,r,n){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if(al(e))return t;if(Bd(Array.from(t),e),e.size().length!==1)throw new mt(e.size().length,1);if(n!==void 0){if(typeof n!="string"||n.length!==1)throw new TypeError("Single character expected as defaultValue")}else n=" ";var i=e.dimension(0),a=i.size()[0];if(a!==r.length)throw new mt(i.size()[0],r.length);var s=t.length;Pt(e.min()[0]),Pt(e.max()[0]);for(var o=[],l=0;l<s;l++)o[l]=t.charAt(l);if(i.forEach(function(f,d){o[f]=r.charAt(d[0])}),o.length>s)for(var u=s-1,c=o.length;u<c;u++)o[u]||(o[u]=n);return o.join("")}function GH(t,e){if(!al(e)){if(e.size().length!==1)throw new mt(e.size(),1);var r=e.dimension(0);if(typeof r!="string")throw new TypeError("String expected as index to retrieve an object property");return sn(t,r)}}function jH(t,e,r){if(al(e))return t;if(e.size().length!==1)throw new mt(e.size(),1);var n=e.dimension(0);if(typeof n!="string")throw new TypeError("String expected as index to retrieve an object property");var i=tt(t);return nl(i,n,r),i}var ww="transpose",KH=["typed","matrix"],JH=V(ww,KH,t=>{var{typed:e,matrix:r}=t;return e(ww,{Array:s=>n(r(s)).valueOf(),Matrix:n,any:tt});function n(s){var o=s.size(),l;switch(o.length){case 1:l=s.clone();break;case 2:{var u=o[0],c=o[1];if(c===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+ht(o)+")");switch(s.storage()){case"dense":l=i(s,u,c);break;case"sparse":l=a(s,u,c);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+ht(o)+")")}return l}function i(s,o,l){for(var u=s._data,c=[],f,d=0;d<l;d++){f=c[d]=[];for(var p=0;p<o;p++)f[p]=tt(u[p][d])}return s.createDenseMatrix({data:c,size:[l,o],datatype:s._datatype})}function a(s,o,l){for(var u=s._values,c=s._index,f=s._ptr,d=u?[]:void 0,p=[],h=[],m=[],v=0;v<o;v++)m[v]=0;var y,S,g;for(y=0,S=c.length;y<S;y++)m[c[y]]++;for(var w=0,x=0;x<o;x++)h.push(w),w+=m[x],m[x]=h[x];for(h.push(w),g=0;g<l;g++)for(var b=f[g],A=f[g+1],D=b;D<A;D++){var E=m[c[D]]++;p[E]=g,u&&(d[E]=tt(u[D]))}return s.createSparseMatrix({values:d,index:p,ptr:h,size:[l,o],datatype:s._datatype})}}),Sw="ctranspose",YH=["typed","transpose","conj"],XH=V(Sw,YH,t=>{var{typed:e,transpose:r,conj:n}=t;return e(Sw,{any:function(a){return n(r(a))}})}),Ew="zeros",ZH=["typed","config","matrix","BigNumber"],QH=V(Ew,ZH,t=>{var{typed:e,config:r,matrix:n,BigNumber:i}=t;return e(Ew,{"":function(){return r.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(u){var c=u[u.length-1];if(typeof c=="string"){var f=u.pop();return a(u,f)}else return r.matrix==="Array"?a(u):a(u,"default")},Array:a,Matrix:function(u){var c=u.storage();return a(u.valueOf(),c)},"Array | Matrix, string":function(u,c){return a(u.valueOf(),c)}});function a(l,u){var c=s(l),f=c?new i(0):0;if(o(l),u){var d=n(u);return l.length>0?d.resize(l,f):d}else{var p=[];return l.length>0?sl(p,l,f):p}}function s(l){var u=!1;return l.forEach(function(c,f,d){lt(c)&&(u=!0,d[f]=c.toNumber())}),u}function o(l){l.forEach(function(u){if(typeof u!="number"||!Le(u)||u<0)throw new Error("Parameters in function zeros must be positive integers")})}}),Aw="fft",eV=["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],tV=V(Aw,eV,t=>{var{typed:e,matrix:r,addScalar:n,multiplyScalar:i,divideScalar:a,exp:s,tau:o,i:l,dotDivide:u,conj:c,pow:f,ceil:d,log2:p}=t;return e(Aw,{Array:h,Matrix:function(g){return g.create(h(g.valueOf()),g.datatype())}});function h(S){var g=Ze(S);return g.length===1?y(S,g[0]):m(S.map(w=>h(w,g.slice(1))),0)}function m(S,g){var w=Ze(S);if(g!==0)return new Array(w[0]).fill(0).map((b,A)=>m(S[A],g-1));if(w.length===1)return y(S);function x(b){var A=Ze(b);return new Array(A[1]).fill(0).map((D,E)=>new Array(A[0]).fill(0).map((N,C)=>b[C][E]))}return x(m(x(S),1))}function v(S){for(var g=S.length,w=s(a(i(-1,i(l,o)),g)),x=[],b=1-g;b<g;b++)x.push(f(w,a(f(b,2),2)));for(var A=f(2,d(p(g+g-1))),D=[...new Array(g).fill(0).map((T,L)=>i(S[L],x[g-1+L])),...new Array(A-g).fill(0)],E=[...new Array(g+g-1).fill(0).map((T,L)=>a(1,x[L])),...new Array(A-(g+g-1)).fill(0)],N=y(D),C=y(E),M=new Array(A).fill(0).map((T,L)=>i(N[L],C[L])),F=u(c(h(c(M))),A),I=[],R=g-1;R<g+g-1;R++)I.push(i(F[R],x[R]));return I}function y(S){var g=S.length;if(g===1)return[S[0]];if(g%2===0){for(var w=[...y(S.filter((D,E)=>E%2===0)),...y(S.filter((D,E)=>E%2===1))],x=0;x<g/2;x++){var b=w[x],A=i(w[x+g/2],s(i(i(o,l),a(-x,g))));w[x]=n(b,A),w[x+g/2]=n(b,i(-1,A))}return w}else return v(S)}}),Nw="ifft",rV=["typed","fft","dotDivide","conj"],nV=V(Nw,rV,t=>{var{typed:e,fft:r,dotDivide:n,conj:i}=t;return e(Nw,{"Array | Matrix":function(s){var o=Ge(s)?s.size():Ze(s);return n(i(r(i(s))),o.reduce((l,u)=>l*u,1))}})});function $u(t){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$u(t)}function iV(t,e){if($u(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aV(t){var e=iV(t,"string");return $u(e)=="symbol"?e:e+""}function cr(t,e,r){return(e=aV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Dw(Object(r),!0).forEach(function(n){cr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var oV="solveODE",lV=["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],uV=V(oV,lV,t=>{var{typed:e,add:r,subtract:n,multiply:i,divide:a,max:s,map:o,abs:l,isPositive:u,isNegative:c,larger:f,smaller:d,matrix:p,bignumber:h,unaryMinus:m}=t;function v(D){return function(E,N,C,M){var F=!(N.length===2&&(N.every(b)||N.every(Vn)));if(F)throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var I=N[0],R=N[1],T=f(R,I),L=M.firstStep;if(L!==void 0&&!u(L))throw new Error('"firstStep" must be positive');var _=M.maxStep;if(_!==void 0&&!u(_))throw new Error('"maxStep" must be positive');var H=M.minStep;if(H&&c(H))throw new Error('"minStep" must be positive or zero');var k=[I,R,L,H,_].filter($=>$!==void 0);if(!(k.every(b)||k.every(Vn)))throw new Error('Inconsistent type of "t" dependant variables');for(var ie=1,ee=M.tol?M.tol:1e-4,X=M.minDelta?M.minDelta:.2,Z=M.maxDelta?M.maxDelta:5,pe=M.maxIter?M.maxIter:1e4,de=[I,R,...C,_,H].some(lt),[j,W,U,K]=de?[h(D.a),h(D.c),h(D.b),h(D.bp)]:[D.a,D.c,D.b,D.bp],ae=L?T?L:m(L):a(n(R,I),ie),B=[I],q=[C],G=n(U,K),se=0,P=0,z=w(T),Y=x(T);z(B[se],R);){var ne=[];ae=Y(B[se],R,ae),ne.push(E(B[se],q[se]));for(var oe=1;oe<W.length;++oe)ne.push(E(r(B[se],i(W[oe],ae)),r(q[se],i(ae,j[oe],ne))));var le=s(l(o(i(G,ne),$=>Vn($)?$.value:$)));le<ee&&ee/le>1/4&&(B.push(r(B[se],ae)),q.push(r(q[se],i(ae,U,ne))),se++);var ve=.84*(ee/le)**(1/5);if(d(ve,X)?ve=X:f(ve,Z)&&(ve=Z),ve=de?h(ve):ve,ae=i(ae,ve),_&&f(l(ae),_)?ae=T?_:m(_):H&&d(l(ae),H)&&(ae=T?H:m(H)),P++,P>pe)throw new Error("Maximum number of iterations reached, try changing options")}return{t:B,y:q}}}function y(D,E,N,C){var M=[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],F=[null,1/2,3/4,1],I=[2/9,1/3,4/9,0],R=[7/24,1/4,1/3,1/8],T={a:M,c:F,b:I,bp:R};return v(T)(D,E,N,C)}function S(D,E,N,C){var M=[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],F=[null,1/5,3/10,4/5,8/9,1,1],I=[35/384,0,500/1113,125/192,-2187/6784,11/84,0],R=[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40],T={a:M,c:F,b:I,bp:R};return v(T)(D,E,N,C)}function g(D,E,N,C){var M=C.method?C.method:"RK45",F={RK23:y,RK45:S};if(M.toUpperCase()in F){var I=sV({},C);return delete I.method,F[M.toUpperCase()](D,E,N,I)}else{var R=Object.keys(F).map(L=>'"'.concat(L,'"')),T="".concat(R.slice(0,-1).join(", ")," and ").concat(R.slice(-1));throw new Error('Unavailable method "'.concat(M,'". Available methods are ').concat(T))}}function w(D){return D?d:f}function x(D){var E=D?f:d;return function(N,C,M){var F=r(N,M);return E(F,C)?n(C,N):M}}function b(D){return lt(D)||at(D)}function A(D,E,N,C){var M=g(D,E.toArray(),N.toArray(),C);return{t:p(M.t),y:p(M.y)}}return e("solveODE",{"function, Array, Array, Object":g,"function, Matrix, Matrix, Object":A,"function, Array, Array":(D,E,N)=>g(D,E,N,{}),"function, Matrix, Matrix":(D,E,N)=>A(D,E,N,{}),"function, Array, number | BigNumber | Unit":(D,E,N)=>{var C=g(D,E,[N],{});return{t:C.t,y:C.y.map(M=>M[0])}},"function, Matrix, number | BigNumber | Unit":(D,E,N)=>{var C=g(D,E.toArray(),[N],{});return{t:p(C.t),y:p(C.y.map(M=>M[0]))}},"function, Array, number | BigNumber | Unit, Object":(D,E,N,C)=>{var M=g(D,E,[N],C);return{t:M.t,y:M.y.map(F=>F[0])}},"function, Matrix, number | BigNumber | Unit, Object":(D,E,N,C)=>{var M=g(D,E.toArray(),[N],C);return{t:p(M.t),y:p(M.y.map(F=>F[0]))}}})}),cV="erf",fV=["typed"],dV=V(cV,fV,t=>{var{typed:e}=t;return e("name",{number:function(s){var o=Math.abs(s);return o>=mV?Wa(s):o<=pV?Wa(s)*r(o):o<=4?Wa(s)*(1-n(o)):Wa(s)*(1-i(o))},"Array | Matrix":e.referToSelf(a=>s=>ut(s,a))});function r(a){var s=a*a,o=Zi[0][4]*s,l=s,u;for(u=0;u<3;u+=1)o=(o+Zi[0][u])*s,l=(l+Eo[0][u])*s;return a*(o+Zi[0][3])/(l+Eo[0][3])}function n(a){var s=Zi[1][8]*a,o=a,l;for(l=0;l<7;l+=1)s=(s+Zi[1][l])*a,o=(o+Eo[1][l])*a;var u=(s+Zi[1][7])/(o+Eo[1][7]),c=parseInt(a*16)/16,f=(a-c)*(a+c);return Math.exp(-c*c)*Math.exp(-f)*u}function i(a){var s=1/(a*a),o=Zi[2][5]*s,l=s,u;for(u=0;u<4;u+=1)o=(o+Zi[2][u])*s,l=(l+Eo[2][u])*s;var c=s*(o+Zi[2][4])/(l+Eo[2][4]);c=(hV-c)/a,s=parseInt(a*16)/16;var f=(a-s)*(a+s);return Math.exp(-s*s)*Math.exp(-f)*c}}),pV=.46875,hV=.5641895835477563,Zi=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],Eo=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],mV=Math.pow(2,53),Cw="zeta",gV=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],vV=V(Cw,gV,t=>{var{typed:e,config:r,multiply:n,pow:i,divide:a,factorial:s,equal:o,smallerEq:l,isNegative:u,gamma:c,sin:f,subtract:d,add:p,Complex:h,BigNumber:m,pi:v}=t;return e(Cw,{number:b=>y(b,A=>A,()=>20),BigNumber:b=>y(b,A=>new m(A),()=>Math.abs(Math.log10(r.relTol))),Complex:S});function y(b,A,D){return o(b,0)?A(-.5):o(b,1)?A(NaN):isFinite(b)?g(b,A,D,E=>E):u(b)?A(NaN):A(1)}function S(b){return b.re===0&&b.im===0?new h(-.5):b.re===1?new h(NaN,NaN):b.re===1/0&&b.im===0?new h(1):b.im===1/0||b.re===-1/0?new h(NaN,NaN):g(b,A=>A,A=>Math.round(1.3*15+.9*Math.abs(A.im)),A=>A.re)}function g(b,A,D,E){var N=D(b);if(E(b)>-(N-1)/2)return x(b,A(N),A);var C=n(i(2,b),i(A(v),d(b,1)));return C=n(C,f(n(a(A(v),2),b))),C=n(C,c(d(1,b))),n(C,g(d(1,b),A,D,E))}function w(b,A){for(var D=b,E=b;l(E,A);E=p(E,1)){var N=a(n(s(p(A,d(E,1))),i(4,E)),n(s(d(A,E)),s(n(2,E))));D=p(D,N)}return n(A,D)}function x(b,A,D){for(var E=a(1,n(w(D(0),A),d(1,i(2,d(1,b))))),N=D(0),C=D(1);l(C,A);C=p(C,1))N=p(N,a(n((-1)**(C-1),w(C,A)),i(C,b)));return n(E,N)}}),Mw="mode",yV=["typed","isNaN","isNumeric"],bV=V(Mw,yV,t=>{var{typed:e,isNaN:r,isNumeric:n}=t;return e(Mw,{"Array | Matrix":i,"...":function(s){return i(s)}});function i(a){a=Dt(a.valueOf());var s=a.length;if(s===0)throw new Error("Cannot calculate mode of an empty array");for(var o={},l=[],u=0,c=0;c<a.length;c++){var f=a[c];if(n(f)&&r(f))throw new Error("Cannot calculate mode of an array containing NaN values");f in o||(o[f]=0),o[f]++,o[f]===u?l.push(f):o[f]>u&&(u=o[f],l=[f])}return l}});function hn(t,e,r){var n;return String(t).includes("Unexpected type")?(n=arguments.length>2?" (type: "+It(r)+", value: "+JSON.stringify(r)+")":" (type: "+t.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+n)):String(t).includes("complex numbers")?(n=arguments.length>2?" (type: "+It(r)+", value: "+JSON.stringify(r)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+n)):t}var Tw="prod",xV=["typed","config","multiplyScalar","numeric"],wV=V(Tw,xV,t=>{var{typed:e,config:r,multiplyScalar:n,numeric:i}=t;return e(Tw,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(o,l){throw new Error("prod(A, dim) is not yet supported")},"...":function(o){return a(o)}});function a(s){var o;if(ss(s,function(l){try{o=o===void 0?l:n(o,l)}catch(u){throw hn(u,"prod",l)}}),typeof o=="string"&&(o=i(o,fs(o,r))),o===void 0)throw new Error("Cannot calculate prod of an empty array");return o}}),_w="format",SV=["typed"],EV=V(_w,SV,t=>{var{typed:e}=t;return e(_w,{any:ht,"any, Object | function | number | BigNumber":ht})}),Ow="bin",AV=["typed","format"],NV=V(Ow,AV,t=>{var{typed:e,format:r}=t;return e(Ow,{"number | BigNumber":function(i){return r(i,{notation:"bin"})},"number | BigNumber, number | BigNumber":function(i,a){return r(i,{notation:"bin",wordSize:a})}})}),Fw="oct",DV=["typed","format"],CV=V(Fw,DV,t=>{var{typed:e,format:r}=t;return e(Fw,{"number | BigNumber":function(i){return r(i,{notation:"oct"})},"number | BigNumber, number | BigNumber":function(i,a){return r(i,{notation:"oct",wordSize:a})}})}),Bw="hex",MV=["typed","format"],TV=V(Bw,MV,t=>{var{typed:e,format:r}=t;return e(Bw,{"number | BigNumber":function(i){return r(i,{notation:"hex"})},"number | BigNumber, number | BigNumber":function(i,a){return r(i,{notation:"hex",wordSize:a})}})}),aT=/\$([\w.]+)/g,kw="print",_V=["typed"],sT=V(kw,_V,t=>{var{typed:e}=t;return e(kw,{"string, Object | Array":Iw,"string, Object | Array, number | Object":Iw})});function Iw(t,e,r){return t.replace(aT,function(n,i){var a=i.split("."),s=e[a.shift()];for(s!==void 0&&s.isMatrix&&(s=s.toArray());a.length&&s!==void 0;){var o=a.shift();s=o?s[o]:s+"."}return s!==void 0?Gr(s)?s:ht(s,r):n})}var Rw="to",OV=["typed","matrix","concat"],FV=V(Rw,OV,t=>{var{typed:e,matrix:r,concat:n}=t,i=$t({typed:e,matrix:r,concat:n});return e(Rw,{"Unit, Unit | string":(a,s)=>a.to(s)},i({Ds:!0}))}),Pw="isPrime",BV=["typed"],kV=V(Pw,BV,t=>{var{typed:e}=t;return e(Pw,{number:function(n){if(n<=3)return n>1;if(n%2===0||n%3===0)return!1;for(var i=5;i*i<=n;i+=6)if(n%i===0||n%(i+2)===0)return!1;return!0},bigint:function(n){if(n<=3n)return n>1n;if(n%2n===0n||n%3n===0n)return!1;for(var i=5n;i*i<=n;i+=6n)if(n%i===0n||n%(i+2n)===0n)return!1;return!0},BigNumber:function(n){if(n.lte(3))return n.gt(1);if(n.mod(2).eq(0)||n.mod(3).eq(0))return!1;if(n.lt(Math.pow(2,32))){for(var i=n.toNumber(),a=5;a*a<=i;a+=6)if(i%a===0||i%(a+2)===0)return!1;return!0}function s(S,g,w){for(var x=1;!g.eq(0);)g.mod(2).eq(0)?(g=g.div(2),S=S.mul(S).mod(w)):(g=g.sub(1),x=S.mul(x).mod(w));return x}var o=n.constructor.clone({precision:n.toFixed(0).length*2});n=new o(n);for(var l=0,u=n.sub(1);u.mod(2).eq(0);)u=u.div(2),l+=1;var c=null;if(n.lt("3317044064679887385961981"))c=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(S=>S<n);else{var f=Math.min(n.toNumber()-2,Math.floor(2*Math.pow(n.toFixed(0).length*Math.log(10),2)));c=[];for(var d=2;d<=f;d+=1)c.push(f)}for(var p=0;p<c.length;p+=1){var h=c[p],m=s(n.sub(n).add(h),u,n);if(!m.eq(1)){for(var v=0,y=m;!y.eq(n.sub(1));v+=1,y=y.mul(y).mod(n))if(v===l-1)return!1}}return!0},"Array | Matrix":e.referToSelf(r=>n=>ut(n,r))})}),IV="numeric",RV=["number","?bignumber","?fraction"],PV=V(IV,RV,t=>{var{number:e,bignumber:r,fraction:n}=t,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:s=>e(s),BigNumber:r?s=>r(s):l0,bigint:s=>BigInt(s),Fraction:n?s=>n(s):eT};return function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",u=arguments.length>2?arguments[2]:void 0;if(u!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var c=It(o);if(!(c in i))throw new TypeError("Cannot convert "+o+' of type "'+c+'"; valid input types are '+Object.keys(i).join(", "));if(!(l in a))throw new TypeError("Cannot convert "+o+' to type "'+l+'"; valid output types are '+Object.keys(a).join(", "));return l===c?o:a[l](o)}}),$w="divideScalar",$V=["typed","numeric"],LV=V($w,$V,t=>{var{typed:e,numeric:r}=t;return e($w,{"number, number":function(i,a){return i/a},"Complex, Complex":function(i,a){return i.div(a)},"BigNumber, BigNumber":function(i,a){return i.div(a)},"bigint, bigint":function(i,a){return i/a},"Fraction, Fraction":function(i,a){return i.div(a)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,i)=>n.divide(i),"number | Fraction | Complex | BigNumber, Unit":(n,i)=>i.divideInto(n)})}),Lw="pow",zV=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],qV=V(Lw,zV,t=>{var{typed:e,config:r,identity:n,multiply:i,matrix:a,inv:s,number:o,fraction:l,Complex:u}=t;return e(Lw,{"number, number":c,"Complex, Complex":function(h,m){return h.pow(m)},"BigNumber, BigNumber":function(h,m){return m.isInteger()||h>=0||r.predictable?h.pow(m):new u(h.toNumber(),0).pow(m.toNumber(),0)},"bigint, bigint":(p,h)=>p**h,"Fraction, Fraction":function(h,m){var v=h.pow(m);if(v!=null)return v;if(r.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return c(h.valueOf(),m.valueOf())},"Array, number":f,"Array, BigNumber":function(h,m){return f(h,m.toNumber())},"Matrix, number":d,"Matrix, BigNumber":function(h,m){return d(h,m.toNumber())},"Unit, number | BigNumber":function(h,m){return h.pow(m)}});function c(p,h){if(r.predictable&&!Le(h)&&p<0)try{var m=l(h),v=o(m);if((h===v||Math.abs((h-v)/h)<1e-14)&&m.d%2n===1n)return(m.n%2n===0n?1:-1)*Math.pow(-p,h)}catch{}return r.predictable&&(p<-1&&h===1/0||p>-1&&p<0&&h===-1/0)?NaN:Le(h)||p>=0||r.predictable?fM(p,h):p*p<1&&h===1/0||p*p>1&&h===-1/0?0:new u(p,0).pow(h,0)}function f(p,h){if(!Le(h))throw new TypeError("For A^b, b must be an integer (value is "+h+")");var m=Ze(p);if(m.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+m.length+" dimensions)");if(m[0]!==m[1])throw new Error("For A^b, A must be square (size is "+m[0]+"x"+m[1]+")");if(h<0)try{return f(s(p),-h)}catch(S){throw S.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+h+")"):S}for(var v=n(m[0]).valueOf(),y=p;h>=1;)(h&1)===1&&(v=i(y,v)),h>>=1,y=i(y,y);return v}function d(p,h){return a(f(p.valueOf(),h))}}),Ao="Number of decimals in function round must be an integer",zw="round",UV=["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],HV=V(zw,UV,t=>{var{typed:e,config:r,matrix:n,equalScalar:i,zeros:a,BigNumber:s,DenseMatrix:o}=t,l=zr({typed:e,equalScalar:i}),u=hr({typed:e,DenseMatrix:o}),c=xi({typed:e});function f(d){return Math.abs(Zu(d).exponent)}return e(zw,{number:function(p){var h=$l(p,f(r.relTol)),m=Lr(p,h,r.relTol,r.absTol)?h:p;return $l(m)},"number, number":function(p,h){var m=f(r.relTol);if(h>=m)return $l(p,h);var v=$l(p,m),y=Lr(p,v,r.relTol,r.absTol)?v:p;return $l(y,h)},"number, BigNumber":function(p,h){if(!h.isInteger())throw new TypeError(Ao);return new s(p).toDecimalPlaces(h.toNumber())},Complex:function(p){return p.round()},"Complex, number":function(p,h){if(h%1)throw new TypeError(Ao);return p.round(h)},"Complex, BigNumber":function(p,h){if(!h.isInteger())throw new TypeError(Ao);var m=h.toNumber();return p.round(m)},BigNumber:function(p){var h=new s(p).toDecimalPlaces(f(r.relTol)),m=ei(p,h,r.relTol,r.absTol)?h:p;return m.toDecimalPlaces(0)},"BigNumber, BigNumber":function(p,h){if(!h.isInteger())throw new TypeError(Ao);var m=f(r.relTol);if(h>=m)return p.toDecimalPlaces(h.toNumber());var v=p.toDecimalPlaces(m),y=ei(p,v,r.relTol,r.absTol)?v:p;return y.toDecimalPlaces(h.toNumber())},bigint:d=>d,"bigint, number":(d,p)=>d,"bigint, BigNumber":(d,p)=>d,Fraction:function(p){return p.round()},"Fraction, number":function(p,h){if(h%1)throw new TypeError(Ao);return p.round(h)},"Fraction, BigNumber":function(p,h){if(!h.isInteger())throw new TypeError(Ao);return p.round(h.toNumber())},"Unit, number, Unit":e.referToSelf(d=>function(p,h,m){var v=p.toNumeric(m);return m.multiply(d(v,h))}),"Unit, BigNumber, Unit":e.referToSelf(d=>(p,h,m)=>d(p,h.toNumber(),m)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(d=>(p,h,m)=>ut(p,v=>d(v,h,m),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(d=>(p,h)=>d(p,0,h)),"Array | Matrix":e.referToSelf(d=>p=>ut(p,d,!0)),"SparseMatrix, number | BigNumber":e.referToSelf(d=>(p,h)=>l(p,h,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(p,h)=>c(p,h,d,!1)),"Array, number | BigNumber":e.referToSelf(d=>(p,h)=>c(n(p),h,d,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":e.referToSelf(d=>(p,h)=>i(p,0)?a(h.size(),h.storage()):u(h,p,d,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":e.referToSelf(d=>(p,h)=>i(p,0)?a(h.size(),h.storage()):c(h,p,d,!0)),"number | Complex | BigNumber | Fraction, Array":e.referToSelf(d=>(p,h)=>c(n(h),p,d,!0).valueOf())})}),qw="log",VV=["config","typed","typeOf","divideScalar","Complex"],WV=Math.log(16),GV=V(qw,VV,t=>{var{typed:e,typeOf:r,config:n,divideScalar:i,Complex:a}=t;function s(l){return l.log()}function o(l){return s(new a(l,0))}return e(qw,{number:function(u){return u>=0||n.predictable?nx(u):o(u)},bigint:s0(WV,nx,n,o),Complex:s,BigNumber:function(u){return!u.isNegative()||n.predictable?u.ln():o(u.toNumber())},"any, any":e.referToSelf(l=>(u,c)=>{if(r(u)==="Fraction"&&r(c)==="Fraction"){var f=u.log(c);if(f!==null)return f}return i(l(u),l(c))})})}),Uw="log1p",jV=["typed","config","divideScalar","log","Complex"],KV=V(Uw,jV,t=>{var{typed:e,config:r,divideScalar:n,log:i,Complex:a}=t;return e(Uw,{number:function(l){return l>=-1||r.predictable?Wz(l):s(new a(l,0))},Complex:s,BigNumber:function(l){var u=l.plus(1);return!u.isNegative()||r.predictable?u.ln():s(new a(l.toNumber(),0))},"Array | Matrix":e.referToSelf(o=>l=>ut(l,o)),"any, any":e.referToSelf(o=>(l,u)=>n(o(l),i(u)))});function s(o){var l=o.re+1;return new a(Math.log(Math.sqrt(l*l+o.im*o.im)),Math.atan2(o.im,l))}}),Hw="nthRoots",JV=["config","typed","divideScalar","Complex"],YV=V(Hw,JV,t=>{var{typed:e,config:r,divideScalar:n,Complex:i}=t,a=[function(l){return new i(l,0)},function(l){return new i(0,l)},function(l){return new i(-l,0)},function(l){return new i(0,-l)}];function s(o,l){if(l<0)throw new Error("Root must be greater than zero");if(l===0)throw new Error("Root must be non-zero");if(l%1!==0)throw new Error("Root must be an integer");if(o===0||o.abs()===0)return[new i(0,0)];var u=typeof o=="number",c;(u||o.re===0||o.im===0)&&(u?c=2*+(o<0):o.im===0?c=2*+(o.re<0):c=2*+(o.im<0)+1);for(var f=o.arg(),d=o.abs(),p=[],h=Math.pow(d,1/l),m=0;m<l;m++){var v=(c+4*m)/l;if(v===Math.round(v)){p.push(a[v%4](h));continue}p.push(new i({r:h,phi:(f+2*Math.PI*m)/l}))}return p}return e(Hw,{Complex:function(l){return s(l,2)},"Complex, number":s})}),Vw="dotPow",XV=["typed","equalScalar","matrix","pow","DenseMatrix","concat","SparseMatrix"],ZV=V(Vw,XV,t=>{var{typed:e,equalScalar:r,matrix:n,pow:i,DenseMatrix:a,concat:s,SparseMatrix:o}=t,l=gn({typed:e}),u=zi({typed:e,SparseMatrix:o}),c=zr({typed:e,equalScalar:r}),f=hr({typed:e,DenseMatrix:a}),d=$t({typed:e,matrix:n,concat:s}),p={};for(var h in i.signatures)Object.prototype.hasOwnProperty.call(i.signatures,h)&&!h.includes("Matrix")&&!h.includes("Array")&&(p[h]=i.signatures[h]);var m=e(p);return e(Vw,d({elop:m,SS:u,DS:l,Ss:c,sS:f}))}),Ww="dotDivide",QV=["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat","SparseMatrix"],eW=V(Ww,QV,t=>{var{typed:e,matrix:r,equalScalar:n,divideScalar:i,DenseMatrix:a,concat:s,SparseMatrix:o}=t,l=wi({typed:e,equalScalar:n}),u=gn({typed:e}),c=zi({typed:e,SparseMatrix:o}),f=zr({typed:e,equalScalar:n}),d=hr({typed:e,DenseMatrix:a}),p=$t({typed:e,matrix:r,concat:s});return e(Ww,p({elop:i,SS:c,DS:u,SD:l,Ss:f,sS:d}))});function Qu(t){var{DenseMatrix:e}=t;return function(n,i,a){var s=n.size();if(s.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+ht(s)+")");var o=s[0],l=s[1];if(o!==l)throw new RangeError("Matrix must be square (size: "+ht(s)+")");var u=[];if(Ge(i)){var c=i.size(),f=i._data;if(c.length===1){if(c[0]!==o)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var d=0;d<o;d++)u[d]=[f[d]];return new e({data:u,size:[o,1],datatype:i._datatype})}if(c.length===2){if(c[0]!==o||c[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(Md(i)){if(a){u=[];for(var p=0;p<o;p++)u[p]=[f[p][0]];return new e({data:u,size:[o,1],datatype:i._datatype})}return i}if(Ps(i)){for(var h=0;h<o;h++)u[h]=[0];for(var m=i._values,v=i._index,y=i._ptr,S=y[1],g=y[0];g<S;g++){var w=v[g];u[w][0]=m[g]}return new e({data:u,size:[o,1],datatype:i._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Bt(i)){var x=Ze(i);if(x.length===1){if(x[0]!==o)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var b=0;b<o;b++)u[b]=[i[b]];return new e({data:u,size:[o,1]})}if(x.length===2){if(x[0]!==o||x[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var A=0;A<o;A++)u[A]=[i[A][0]];return new e({data:u,size:[o,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var Gw="lsolve",tW=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],rW=V(Gw,tW,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:s,DenseMatrix:o}=t,l=Qu({DenseMatrix:o});return e(Gw,{"SparseMatrix, Array | Matrix":function(d,p){return c(d,p)},"DenseMatrix, Array | Matrix":function(d,p){return u(d,p)},"Array, Array | Matrix":function(d,p){var h=r(d),m=u(h,p);return m.valueOf()}});function u(f,d){d=l(f,d,!0);for(var p=d._data,h=f._size[0],m=f._size[1],v=[],y=f._data,S=0;S<m;S++){var g=p[S][0]||0,w=void 0;if(s(g,0))w=0;else{var x=y[S][S];if(s(x,0))throw new Error("Linear system cannot be solved since matrix is singular");w=n(g,x);for(var b=S+1;b<h;b++)p[b]=[a(p[b][0]||0,i(w,y[b][S]))]}v[S]=[w]}return new o({data:v,size:[h,1]})}function c(f,d){d=l(f,d,!0);for(var p=d._data,h=f._size[0],m=f._size[1],v=f._values,y=f._index,S=f._ptr,g=[],w=0;w<m;w++){var x=p[w][0]||0;if(s(x,0))g[w]=[0];else{for(var b=0,A=[],D=[],E=S[w],N=S[w+1],C=E;C<N;C++){var M=y[C];M===w?b=v[C]:M>w&&(A.push(v[C]),D.push(M))}if(s(b,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var F=n(x,b),I=0,R=D.length;I<R;I++){var T=D[I];p[T]=[a(p[T][0]||0,i(F,A[I]))]}g[w]=[F]}}return new o({data:g,size:[h,1]})}}),jw="usolve",nW=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],iW=V(jw,nW,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:s,DenseMatrix:o}=t,l=Qu({DenseMatrix:o});return e(jw,{"SparseMatrix, Array | Matrix":function(d,p){return c(d,p)},"DenseMatrix, Array | Matrix":function(d,p){return u(d,p)},"Array, Array | Matrix":function(d,p){var h=r(d),m=u(h,p);return m.valueOf()}});function u(f,d){d=l(f,d,!0);for(var p=d._data,h=f._size[0],m=f._size[1],v=[],y=f._data,S=m-1;S>=0;S--){var g=p[S][0]||0,w=void 0;if(s(g,0))w=0;else{var x=y[S][S];if(s(x,0))throw new Error("Linear system cannot be solved since matrix is singular");w=n(g,x);for(var b=S-1;b>=0;b--)p[b]=[a(p[b][0]||0,i(w,y[b][S]))]}v[S]=[w]}return new o({data:v,size:[h,1]})}function c(f,d){d=l(f,d,!0);for(var p=d._data,h=f._size[0],m=f._size[1],v=f._values,y=f._index,S=f._ptr,g=[],w=m-1;w>=0;w--){var x=p[w][0]||0;if(s(x,0))g[w]=[0];else{for(var b=0,A=[],D=[],E=S[w],N=S[w+1],C=N-1;C>=E;C--){var M=y[C];M===w?b=v[C]:M<w&&(A.push(v[C]),D.push(M))}if(s(b,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var F=n(x,b),I=0,R=D.length;I<R;I++){var T=D[I];p[T]=[a(p[T][0],i(F,A[I]))]}g[w]=[F]}}return new o({data:g,size:[h,1]})}}),Kw="lsolveAll",aW=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],sW=V(Kw,aW,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:s,DenseMatrix:o}=t,l=Qu({DenseMatrix:o});return e(Kw,{"SparseMatrix, Array | Matrix":function(d,p){return c(d,p)},"DenseMatrix, Array | Matrix":function(d,p){return u(d,p)},"Array, Array | Matrix":function(d,p){var h=r(d),m=u(h,p);return m.map(v=>v.valueOf())}});function u(f,d){for(var p=[l(f,d,!0)._data.map(D=>D[0])],h=f._data,m=f._size[0],v=f._size[1],y=0;y<v;y++)for(var S=p.length,g=0;g<S;g++){var w=p[g];if(s(h[y][y],0))if(s(w[y],0)){if(g===0){var b=[...w];b[y]=1;for(var A=y+1;A<v;A++)b[A]=a(b[A],h[A][y]);p.push(b)}}else{if(g===0)return[];p.splice(g,1),g-=1,S-=1}else{w[y]=n(w[y],h[y][y]);for(var x=y+1;x<v;x++)w[x]=a(w[x],i(w[y],h[x][y]))}}return p.map(D=>new o({data:D.map(E=>[E]),size:[m,1]}))}function c(f,d){for(var p=[l(f,d,!0)._data.map(ie=>ie[0])],h=f._size[0],m=f._size[1],v=f._values,y=f._index,S=f._ptr,g=0;g<m;g++)for(var w=p.length,x=0;x<w;x++){for(var b=p[x],A=[],D=[],E=S[g],N=S[g+1],C=0,M=E;M<N;M++){var F=y[M];F===g?C=v[M]:F>g&&(A.push(v[M]),D.push(F))}if(s(C,0))if(s(b[g],0)){if(x===0){var L=[...b];L[g]=1;for(var _=0,H=D.length;_<H;_++){var k=D[_];L[k]=a(L[k],A[_])}p.push(L)}}else{if(x===0)return[];p.splice(x,1),x-=1,w-=1}else{b[g]=n(b[g],C);for(var I=0,R=D.length;I<R;I++){var T=D[I];b[T]=a(b[T],i(b[g],A[I]))}}}return p.map(ie=>new o({data:ie.map(ee=>[ee]),size:[h,1]}))}}),Jw="usolveAll",oW=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],lW=V(Jw,oW,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:s,DenseMatrix:o}=t,l=Qu({DenseMatrix:o});return e(Jw,{"SparseMatrix, Array | Matrix":function(d,p){return c(d,p)},"DenseMatrix, Array | Matrix":function(d,p){return u(d,p)},"Array, Array | Matrix":function(d,p){var h=r(d),m=u(h,p);return m.map(v=>v.valueOf())}});function u(f,d){for(var p=[l(f,d,!0)._data.map(D=>D[0])],h=f._data,m=f._size[0],v=f._size[1],y=v-1;y>=0;y--)for(var S=p.length,g=0;g<S;g++){var w=p[g];if(s(h[y][y],0))if(s(w[y],0)){if(g===0){var b=[...w];b[y]=1;for(var A=y-1;A>=0;A--)b[A]=a(b[A],h[A][y]);p.push(b)}}else{if(g===0)return[];p.splice(g,1),g-=1,S-=1}else{w[y]=n(w[y],h[y][y]);for(var x=y-1;x>=0;x--)w[x]=a(w[x],i(w[y],h[x][y]))}}return p.map(D=>new o({data:D.map(E=>[E]),size:[m,1]}))}function c(f,d){for(var p=[l(f,d,!0)._data.map(ie=>ie[0])],h=f._size[0],m=f._size[1],v=f._values,y=f._index,S=f._ptr,g=m-1;g>=0;g--)for(var w=p.length,x=0;x<w;x++){for(var b=p[x],A=[],D=[],E=S[g],N=S[g+1],C=0,M=N-1;M>=E;M--){var F=y[M];F===g?C=v[M]:F<g&&(A.push(v[M]),D.push(F))}if(s(C,0))if(s(b[g],0)){if(x===0){var L=[...b];L[g]=1;for(var _=0,H=D.length;_<H;_++){var k=D[_];L[k]=a(L[k],A[_])}p.push(L)}}else{if(x===0)return[];p.splice(x,1),x-=1,w-=1}else{b[g]=n(b[g],C);for(var I=0,R=D.length;I<R;I++){var T=D[I];b[T]=a(b[T],i(b[g],A[I]))}}}return p.map(ie=>new o({data:ie.map(ee=>[ee]),size:[h,1]}))}}),uW="matAlgo08xS0Sid",cW=["typed","equalScalar"],u0=V(uW,cW,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,s){var o=i._values,l=i._index,u=i._ptr,c=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),d=a._values,p=a._index,h=a._ptr,m=a._size,v=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(c.length!==m.length)throw new mt(c.length,m.length);if(c[0]!==m[0]||c[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+m+")");if(!o||!d)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var y=c[0],S=c[1],g,w=r,x=0,b=s;typeof f=="string"&&f===v&&f!=="mixed"&&(g=f,w=e.find(r,[g,g]),x=e.convert(0,g),b=e.find(s,[g,g]));for(var A=[],D=[],E=[],N=[],C=[],M,F,I,R,T=0;T<S;T++){E[T]=D.length;var L=T+1;for(F=u[T],I=u[T+1],M=F;M<I;M++)R=l[M],C[R]=L,N[R]=o[M],D.push(R);for(F=h[T],I=h[T+1],M=F;M<I;M++)R=p[M],C[R]===L&&(N[R]=b(N[R],d[M]));for(M=E[T];M<D.length;){R=D[M];var _=N[R];w(_,x)?D.splice(M,1):(A.push(_),M++)}}return E[S]=D.length,i.createSparseMatrix({values:A,index:D,ptr:E,size:[y,S],datatype:f===i._datatype&&v===a._datatype?g:void 0})}}),c0=V("useMatrixForArrayScalar",["typed","matrix"],t=>{var{typed:e,matrix:r}=t;return{"Array, number":e.referTo("DenseMatrix, number",n=>(i,a)=>n(r(i),a).valueOf()),"Array, BigNumber":e.referTo("DenseMatrix, BigNumber",n=>(i,a)=>n(r(i),a).valueOf()),"number, Array":e.referTo("number, DenseMatrix",n=>(i,a)=>n(i,r(a)).valueOf()),"BigNumber, Array":e.referTo("BigNumber, DenseMatrix",n=>(i,a)=>n(i,r(a)).valueOf())}}),Yw="leftShift",fW=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],dW=V(Yw,fW,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,DenseMatrix:a,concat:s}=t,o=ps({typed:e}),l=wi({typed:e,equalScalar:n}),u=u0({typed:e,equalScalar:n}),c=so({typed:e,DenseMatrix:a}),f=zr({typed:e,equalScalar:n}),d=xi({typed:e}),p=$t({typed:e,matrix:r,concat:s}),h=c0({typed:e,matrix:r});return e(Yw,{"number, number":gM,"BigNumber, BigNumber":IU,"bigint, bigint":(m,v)=>m<<v,"SparseMatrix, number | BigNumber":e.referToSelf(m=>(v,y)=>n(y,0)?v.clone():f(v,y,m,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(m=>(v,y)=>n(y,0)?v.clone():d(v,y,m,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(m=>(v,y)=>n(v,0)?i(y.size(),y.storage()):c(y,v,m,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(m=>(v,y)=>n(v,0)?i(y.size(),y.storage()):d(y,v,m,!0))},h,p({SS:u,DS:o,SD:l}))}),Xw="rightArithShift",pW=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],hW=V(Xw,pW,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,DenseMatrix:a,concat:s}=t,o=ps({typed:e}),l=wi({typed:e,equalScalar:n}),u=u0({typed:e,equalScalar:n}),c=so({typed:e,DenseMatrix:a}),f=zr({typed:e,equalScalar:n}),d=xi({typed:e}),p=$t({typed:e,matrix:r,concat:s}),h=c0({typed:e,matrix:r});return e(Xw,{"number, number":vM,"BigNumber, BigNumber":RU,"bigint, bigint":(m,v)=>m>>v,"SparseMatrix, number | BigNumber":e.referToSelf(m=>(v,y)=>n(y,0)?v.clone():f(v,y,m,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(m=>(v,y)=>n(y,0)?v.clone():d(v,y,m,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(m=>(v,y)=>n(v,0)?i(y.size(),y.storage()):c(y,v,m,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(m=>(v,y)=>n(v,0)?i(y.size(),y.storage()):d(y,v,m,!0))},h,p({SS:u,DS:o,SD:l}))}),Zw="rightLogShift",mW=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],gW=V(Zw,mW,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,DenseMatrix:a,concat:s}=t,o=ps({typed:e}),l=wi({typed:e,equalScalar:n}),u=u0({typed:e,equalScalar:n}),c=so({typed:e,DenseMatrix:a}),f=zr({typed:e,equalScalar:n}),d=xi({typed:e}),p=$t({typed:e,matrix:r,concat:s}),h=c0({typed:e,matrix:r});return e(Zw,{"number, number":yM,"SparseMatrix, number | BigNumber":e.referToSelf(m=>(v,y)=>n(y,0)?v.clone():f(v,y,m,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(m=>(v,y)=>n(y,0)?v.clone():d(v,y,m,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(m=>(v,y)=>n(v,0)?i(y.size(),y.storage()):c(y,v,m,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(m=>(v,y)=>n(v,0)?i(y.size(),y.storage()):d(y,v,m,!0))},h,p({SS:u,DS:o,SD:l}))}),Qw="and",vW=["typed","matrix","equalScalar","zeros","not","concat"],oT=V(Qw,vW,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,not:a,concat:s}=t,o=wi({typed:e,equalScalar:n}),l=zp({typed:e,equalScalar:n}),u=zr({typed:e,equalScalar:n}),c=xi({typed:e}),f=$t({typed:e,matrix:r,concat:s});return e(Qw,{"number, number":Ig,"Complex, Complex":function(p,h){return(p.re!==0||p.im!==0)&&(h.re!==0||h.im!==0)},"BigNumber, BigNumber":function(p,h){return!p.isZero()&&!h.isZero()&&!p.isNaN()&&!h.isNaN()},"bigint, bigint":Ig,"Unit, Unit":e.referToSelf(d=>(p,h)=>d(p.value||0,h.value||0)),"SparseMatrix, any":e.referToSelf(d=>(p,h)=>a(h)?i(p.size(),p.storage()):u(p,h,d,!1)),"DenseMatrix, any":e.referToSelf(d=>(p,h)=>a(h)?i(p.size(),p.storage()):c(p,h,d,!1)),"any, SparseMatrix":e.referToSelf(d=>(p,h)=>a(p)?i(p.size(),p.storage()):u(h,p,d,!0)),"any, DenseMatrix":e.referToSelf(d=>(p,h)=>a(p)?i(p.size(),p.storage()):c(h,p,d,!0)),"Array, any":e.referToSelf(d=>(p,h)=>d(r(p),h).valueOf()),"any, Array":e.referToSelf(d=>(p,h)=>d(p,r(h)).valueOf())},f({SS:l,DS:o}))}),Ud="compare",yW=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],bW=V(Ud,yW,t=>{var{typed:e,config:r,equalScalar:n,matrix:i,BigNumber:a,Fraction:s,DenseMatrix:o,concat:l}=t,u=gn({typed:e}),c=Lp({typed:e,equalScalar:n}),f=hr({typed:e,DenseMatrix:o}),d=$t({typed:e,matrix:i,concat:l}),p=vl({typed:e});return e(Ud,xW({typed:e,config:r}),{"boolean, boolean":function(m,v){return m===v?0:m>v?1:-1},"BigNumber, BigNumber":function(m,v){return ei(m,v,r.relTol,r.absTol)?new a(0):new a(m.cmp(v))},"bigint, bigint":function(m,v){return m===v?0n:m>v?1n:-1n},"Fraction, Fraction":function(m,v){return new s(m.compare(v))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},p,d({SS:c,DS:u,Ss:f}))}),xW=V(Ud,["typed","config"],t=>{var{typed:e,config:r}=t;return e(Ud,{"number, number":function(i,a){return Lr(i,a,r.relTol,r.absTol)?0:i>a?1:-1}})});function f0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function wW(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var dm,eS;function SW(){return eS||(eS=1,dm=function t(e,r){var n=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,i=/(^[ ]*|[ ]*$)/g,a=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,s=/^0x[0-9a-f]+$/i,o=/^0/,l=function(g){return t.insensitive&&(""+g).toLowerCase()||""+g},u=l(e).replace(i,"")||"",c=l(r).replace(i,"")||"",f=u.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),d=c.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=parseInt(u.match(s),16)||f.length!==1&&u.match(a)&&Date.parse(u),h=parseInt(c.match(s),16)||p&&c.match(a)&&Date.parse(c)||null,m,v;if(h){if(p<h)return-1;if(p>h)return 1}for(var y=0,S=Math.max(f.length,d.length);y<S;y++){if(m=!(f[y]||"").match(o)&&parseFloat(f[y])||f[y]||0,v=!(d[y]||"").match(o)&&parseFloat(d[y])||d[y]||0,isNaN(m)!==isNaN(v))return isNaN(m)?1:-1;if(typeof m!=typeof v&&(m+="",v+=""),m<v)return-1;if(m>v)return 1}return 0}),dm}var EW=SW();const No=f0(EW);var tS="compareNatural",AW=["typed","compare"],NW=V(tS,AW,t=>{var{typed:e,compare:r}=t,n=r.signatures["boolean,boolean"];return e(tS,{"any, any":i});function i(l,u){var c=It(l),f=It(u),d;if((c==="number"||c==="BigNumber"||c==="Fraction")&&(f==="number"||f==="BigNumber"||f==="Fraction"))return d=r(l,u),d.toString()!=="0"?d>0?1:-1:No(c,f);var p=["Array","DenseMatrix","SparseMatrix"];if(p.includes(c)||p.includes(f))return d=a(i,l,u),d!==0?d:No(c,f);if(c!==f)return No(c,f);if(c==="Complex")return DW(l,u);if(c==="Unit")return l.equalBase(u)?i(l.value,u.value):s(i,l.formatUnits(),u.formatUnits());if(c==="boolean")return n(l,u);if(c==="string")return No(l,u);if(c==="Object")return o(i,l,u);if(c==="null"||c==="undefined")return 0;throw new TypeError('Unsupported type of value "'+c+'"')}function a(l,u,c){return Ps(u)&&Ps(c)?s(l,u.toJSON().values,c.toJSON().values):Ps(u)?a(l,u.toArray(),c):Ps(c)?a(l,u,c.toArray()):Md(u)?a(l,u.toJSON().data,c):Md(c)?a(l,u,c.toJSON().data):Array.isArray(u)?Array.isArray(c)?s(l,u,c):a(l,u,[c]):a(l,[u],c)}function s(l,u,c){for(var f=0,d=Math.min(u.length,c.length);f<d;f++){var p=l(u[f],c[f]);if(p!==0)return p}return u.length>c.length?1:u.length<c.length?-1:0}function o(l,u,c){var f=Object.keys(u),d=Object.keys(c);f.sort(No),d.sort(No);var p=s(l,f,d);if(p!==0)return p;for(var h=0;h<f.length;h++){var m=l(u[f[h]],c[d[h]]);if(m!==0)return m}return 0}});function DW(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0}var rS="compareText",CW=["typed","matrix","concat"];Mg.signature="any, any";var MW=V(rS,CW,t=>{var{typed:e,matrix:r,concat:n}=t,i=$t({typed:e,matrix:r,concat:n});return e(rS,Mg,i({elop:Mg,Ds:!0}))}),Hd="equal",TW=["typed","matrix","equalScalar","DenseMatrix","concat","SparseMatrix"],_W=V(Hd,TW,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a,SparseMatrix:s}=t,o=gn({typed:e}),l=zi({typed:e,SparseMatrix:s}),u=hr({typed:e,DenseMatrix:i}),c=$t({typed:e,matrix:r,concat:a});return e(Hd,OW({typed:e,equalScalar:n}),c({elop:n,SS:l,DS:o,Ss:u}))}),OW=V(Hd,["typed","equalScalar"],t=>{var{typed:e,equalScalar:r}=t;return e(Hd,{"any, any":function(i,a){return i===null?a===null:a===null?i===null:i===void 0?a===void 0:a===void 0?i===void 0:r(i,a)}})}),nS="equalText",FW=["typed","compareText","isZero"],BW=V(nS,FW,t=>{var{typed:e,compareText:r,isZero:n}=t;return e(nS,{"any, any":function(a,s){return n(r(a,s))}})}),Vd="smaller",kW=["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],IW=V(Vd,kW,t=>{var{typed:e,config:r,bignumber:n,matrix:i,DenseMatrix:a,concat:s,SparseMatrix:o}=t,l=gn({typed:e}),u=zi({typed:e,SparseMatrix:o}),c=hr({typed:e,DenseMatrix:a}),f=$t({typed:e,matrix:i,concat:s}),d=vl({typed:e});function p(h,m){return h.lt(m)&&!ei(h,m,r.relTol,r.absTol)}return e(Vd,RW({typed:e,config:r}),{"boolean, boolean":(h,m)=>h<m,"BigNumber, BigNumber":p,"bigint, bigint":(h,m)=>h<m,"Fraction, Fraction":(h,m)=>h.compare(m)===-1,"Fraction, BigNumber":function(m,v){return p(n(m),v)},"BigNumber, Fraction":function(m,v){return p(m,n(v))},"Complex, Complex":function(m,v){throw new TypeError("No ordering relation is defined for complex numbers")}},d,f({SS:u,DS:l,Ss:c}))}),RW=V(Vd,["typed","config"],t=>{var{typed:e,config:r}=t;return e(Vd,{"number, number":function(i,a){return i<a&&!Lr(i,a,r.relTol,r.absTol)}})}),Wd="smallerEq",PW=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],$W=V(Wd,PW,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i,concat:a,SparseMatrix:s}=t,o=gn({typed:e}),l=zi({typed:e,SparseMatrix:s}),u=hr({typed:e,DenseMatrix:i}),c=$t({typed:e,matrix:n,concat:a}),f=vl({typed:e});return e(Wd,LW({typed:e,config:r}),{"boolean, boolean":(d,p)=>d<=p,"BigNumber, BigNumber":function(p,h){return p.lte(h)||ei(p,h,r.relTol,r.absTol)},"bigint, bigint":(d,p)=>d<=p,"Fraction, Fraction":(d,p)=>d.compare(p)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},f,c({SS:l,DS:o,Ss:u}))}),LW=V(Wd,["typed","config"],t=>{var{typed:e,config:r}=t;return e(Wd,{"number, number":function(i,a){return i<=a||Lr(i,a,r.relTol,r.absTol)}})}),Gd="larger",zW=["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],qW=V(Gd,zW,t=>{var{typed:e,config:r,bignumber:n,matrix:i,DenseMatrix:a,concat:s,SparseMatrix:o}=t,l=gn({typed:e}),u=zi({typed:e,SparseMatrix:o}),c=hr({typed:e,DenseMatrix:a}),f=$t({typed:e,matrix:i,concat:s}),d=vl({typed:e});function p(h,m){return h.gt(m)&&!ei(h,m,r.relTol,r.absTol)}return e(Gd,UW({typed:e,config:r}),{"boolean, boolean":(h,m)=>h>m,"BigNumber, BigNumber":p,"bigint, bigint":(h,m)=>h>m,"Fraction, Fraction":(h,m)=>h.compare(m)===1,"Fraction, BigNumber":function(m,v){return p(n(m),v)},"BigNumber, Fraction":function(m,v){return p(m,n(v))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},d,f({SS:u,DS:l,Ss:c}))}),UW=V(Gd,["typed","config"],t=>{var{typed:e,config:r}=t;return e(Gd,{"number, number":function(i,a){return i>a&&!Lr(i,a,r.relTol,r.absTol)}})}),jd="largerEq",HW=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],VW=V(jd,HW,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i,concat:a,SparseMatrix:s}=t,o=gn({typed:e}),l=zi({typed:e,SparseMatrix:s}),u=hr({typed:e,DenseMatrix:i}),c=$t({typed:e,matrix:n,concat:a}),f=vl({typed:e});return e(jd,WW({typed:e,config:r}),{"boolean, boolean":(d,p)=>d>=p,"BigNumber, BigNumber":function(p,h){return p.gte(h)||ei(p,h,r.relTol,r.absTol)},"bigint, bigint":function(p,h){return p>=h},"Fraction, Fraction":(d,p)=>d.compare(p)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},f,c({SS:l,DS:o,Ss:u}))}),WW=V(jd,["typed","config"],t=>{var{typed:e,config:r}=t;return e(jd,{"number, number":function(i,a){return i>=a||Lr(i,a,r.relTol,r.absTol)}})}),iS="deepEqual",GW=["typed","equal"],jW=V(iS,GW,t=>{var{typed:e,equal:r}=t;return e(iS,{"any, any":function(a,s){return n(a.valueOf(),s.valueOf())}});function n(i,a){if(Array.isArray(i))if(Array.isArray(a)){var s=i.length;if(s!==a.length)return!1;for(var o=0;o<s;o++)if(!n(i[o],a[o]))return!1;return!0}else return!1;else return Array.isArray(a)?!1:r(i,a)}}),Kd="unequal",KW=["typed","config","equalScalar","matrix","DenseMatrix","concat","SparseMatrix"],JW=V(Kd,KW,t=>{var{typed:e,config:r,equalScalar:n,matrix:i,DenseMatrix:a,concat:s,SparseMatrix:o}=t,l=gn({typed:e}),u=zi({typed:e,SparseMatrix:o}),c=hr({typed:e,DenseMatrix:a}),f=$t({typed:e,matrix:i,concat:s});return e(Kd,YW({typed:e,equalScalar:n}),f({elop:d,SS:u,DS:l,Ss:c}));function d(p,h){return!n(p,h)}}),YW=V(Kd,["typed","equalScalar"],t=>{var{typed:e,equalScalar:r}=t;return e(Kd,{"any, any":function(i,a){return i===null?a!==null:a===null?i!==null:i===void 0?a!==void 0:a===void 0?i!==void 0:!r(i,a)}})}),aS="partitionSelect",XW=["typed","isNumeric","isNaN","compare"],ZW=V(aS,XW,t=>{var{typed:e,isNumeric:r,isNaN:n,compare:i}=t,a=i,s=(u,c)=>-i(u,c);return e(aS,{"Array | Matrix, number":function(c,f){return o(c,f,a)},"Array | Matrix, number, string":function(c,f,d){if(d==="asc")return o(c,f,a);if(d==="desc")return o(c,f,s);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":o});function o(u,c,f){if(!Le(c)||c<0)throw new Error("k must be a non-negative integer");if(Ge(u)){var d=u.size();if(d.length>1)throw new Error("Only one dimensional matrices supported");return l(u.valueOf(),c,f)}if(Array.isArray(u))return l(u,c,f)}function l(u,c,f){if(c>=u.length)throw new Error("k out of bounds");for(var d=0;d<u.length;d++)if(r(u[d])&&n(u[d]))return u[d];for(var p=0,h=u.length-1;p<h;){for(var m=p,v=h,y=u[Math.floor(Math.random()*(h-p+1))+p];m<v;)if(f(u[m],y)>=0){var S=u[v];u[v]=u[m],u[m]=S,--v}else++m;f(u[m],y)>0&&--m,c<=m?h=m:p=m+1}return u[c]}}),sS="sort",QW=["typed","matrix","compare","compareNatural"],eG=V(sS,QW,t=>{var{typed:e,matrix:r,compare:n,compareNatural:i}=t,a=n,s=(c,f)=>-n(c,f);return e(sS,{Array:function(f){return l(f),f.sort(a)},Matrix:function(f){return u(f),r(f.toArray().sort(a),f.storage())},"Array, function":function(f,d){return l(f),f.sort(d)},"Matrix, function":function(f,d){return u(f),r(f.toArray().sort(d),f.storage())},"Array, string":function(f,d){return l(f),f.sort(o(d))},"Matrix, string":function(f,d){return u(f),r(f.toArray().sort(o(d)),f.storage())}});function o(c){if(c==="asc")return a;if(c==="desc")return s;if(c==="natural")return i;throw new Error('String "asc", "desc", or "natural" expected')}function l(c){if(Ze(c).length!==1)throw new Error("One dimensional array expected")}function u(c){if(c.size().length!==1)throw new Error("One dimensional matrix expected")}}),oS="max",tG=["typed","config","numeric","larger","isNaN"],lT=V(oS,tG,t=>{var{typed:e,config:r,numeric:n,larger:i,isNaN:a}=t;return e(oS,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(u,c){return $p(u,c.valueOf(),s)},"...":function(u){if(hl(u))throw new TypeError("Scalar values expected in function max");return o(u)}});function s(l,u){try{return i(l,u)?l:u}catch(c){throw hn(c,"max",u)}}function o(l){var u;if(ss(l,function(c){try{(a(c)||u===void 0||i(c,u))&&(u=c)}catch(f){throw hn(f,"max",c)}}),u===void 0)throw new Error("Cannot calculate max of an empty array");return typeof u=="string"&&(u=n(u,fs(u,r))),u}}),lS="min",rG=["typed","config","numeric","smaller","isNaN"],uT=V(lS,rG,t=>{var{typed:e,config:r,numeric:n,smaller:i,isNaN:a}=t;return e(lS,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(u,c){return $p(u,c.valueOf(),s)},"...":function(u){if(hl(u))throw new TypeError("Scalar values expected in function min");return o(u)}});function s(l,u){try{return i(l,u)?l:u}catch(c){throw hn(c,"min",u)}}function o(l){var u;if(ss(l,function(c){try{(a(c)||u===void 0||i(c,u))&&(u=c)}catch(f){throw hn(f,"min",c)}}),u===void 0)throw new Error("Cannot calculate min of an empty array");return typeof u=="string"&&(u=n(u,fs(u,r))),u}}),nG="ImmutableDenseMatrix",iG=["smaller","DenseMatrix"],aG=V(nG,iG,t=>{var{smaller:e,DenseMatrix:r}=t;function n(i,a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(a&&!Gr(a))throw new Error("Invalid datatype: "+a);if(Ge(i)||Bt(i)){var s=new r(i,a);this._data=s._data,this._size=s._size,this._datatype=s._datatype,this._min=null,this._max=null}else if(i&&Bt(i.data)&&Bt(i.size))this._data=i.data,this._size=i.size,this._datatype=i.datatype,this._min=typeof i.min<"u"?i.min:null,this._max=typeof i.max<"u"?i.max:null;else{if(i)throw new TypeError("Unsupported type of data ("+It(i)+")");this._data=[],this._size=[0],this._datatype=a,this._min=null,this._max=null}}return n.prototype=new r,n.prototype.type="ImmutableDenseMatrix",n.prototype.isImmutableDenseMatrix=!0,n.prototype.subset=function(i){switch(arguments.length){case 1:{var a=r.prototype.subset.call(this,i);return Ge(a)?new n({data:a._data,size:a._size,datatype:a._datatype}):a}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},n.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},n.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},n.prototype.clone=function(){return new n({data:tt(this._data),size:tt(this._size),datatype:this._datatype})},n.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.fromJSON=function(i){return new n(i)},n.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},n.prototype.min=function(){if(this._min===null){var i=null;this.forEach(function(a){(i===null||e(a,i))&&(i=a)}),this._min=i!==null?i:void 0}return this._min},n.prototype.max=function(){if(this._max===null){var i=null;this.forEach(function(a){(i===null||e(i,a))&&(i=a)}),this._max=i!==null?i:void 0}return this._max},n},{isClass:!0}),sG="Index",oG=["ImmutableDenseMatrix","getMatrixDataType"],lG=V(sG,oG,t=>{var{ImmutableDenseMatrix:e,getMatrixDataType:r}=t;function n(a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var s=0,o=arguments.length;s<o;s++){var l=arguments[s],u=Bt(l),c=Ge(l),f=typeof l,d=null;if(Yv(l))this._dimensions.push(l),this._isScalar=!1;else if(u||c){var p=void 0;r(l)==="boolean"?(u&&(p=i(uS(l).valueOf())),c&&(p=i(uS(l._data).valueOf())),d=l.valueOf().length):p=i(l.valueOf()),this._dimensions.push(p);var h=p.size();(h.length!==1||h[0]!==1||d!==null)&&(this._isScalar=!1)}else if(f==="number")this._dimensions.push(i([l]));else if(f==="bigint")this._dimensions.push(i([Number(l)]));else if(f==="string")this._dimensions.push(l);else throw new TypeError("Dimension must be an Array, Matrix, number, bigint, string, or Range");this._sourceSize.push(d)}}n.prototype.type="Index",n.prototype.isIndex=!0;function i(a){for(var s=0,o=a.length;s<o;s++)if(typeof a[s]!="number"||!Le(a[s]))throw new TypeError("Index parameters must be positive integer numbers");return new e(a)}return n.prototype.clone=function(){var a=new n;return a._dimensions=tt(this._dimensions),a._isScalar=this._isScalar,a._sourceSize=this._sourceSize,a},n.create=function(a){var s=new n;return n.apply(s,a),s},n.prototype.size=function(){for(var a=[],s=0,o=this._dimensions.length;s<o;s++){var l=this._dimensions[s];a[s]=typeof l=="string"?1:l.size()[0]}return a},n.prototype.max=function(){for(var a=[],s=0,o=this._dimensions.length;s<o;s++){var l=this._dimensions[s];a[s]=typeof l=="string"?l:l.max()}return a},n.prototype.min=function(){for(var a=[],s=0,o=this._dimensions.length;s<o;s++){var l=this._dimensions[s];a[s]=typeof l=="string"?l:l.min()}return a},n.prototype.forEach=function(a){for(var s=0,o=this._dimensions.length;s<o;s++)a(this._dimensions[s],s,this)},n.prototype.dimension=function(a){return typeof a!="number"?null:this._dimensions[a]||null},n.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},n.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},n.prototype.isScalar=function(){return this._isScalar},n.prototype.toArray=function(){for(var a=[],s=0,o=this._dimensions.length;s<o;s++){var l=this._dimensions[s];a.push(typeof l=="string"?l:l.toArray())}return a},n.prototype.valueOf=n.prototype.toArray,n.prototype.toString=function(){for(var a=[],s=0,o=this._dimensions.length;s<o;s++){var l=this._dimensions[s];typeof l=="string"?a.push(JSON.stringify(l)):a.push(l.toString())}return"["+a.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},n.fromJSON=function(a){return n.create(a.dimensions)},n},{isClass:!0});function uS(t){var e=[];return t.forEach((r,n)=>{r&&e.push(n)}),e}var uG="FibonacciHeap",cG=["smaller","larger"],fG=V(uG,cG,t=>{var{smaller:e,larger:r}=t,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(c,f){var d={key:c,value:f,degree:0};if(this._minimum){var p=this._minimum;d.left=p,d.right=p.right,p.right=d,d.right.left=d,e(c,p.key)&&(this._minimum=d)}else d.left=d,d.right=d,this._minimum=d;return this._size++,d},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return this._size===0},i.prototype.extractMinimum=function(){var c=this._minimum;if(c===null)return c;for(var f=this._minimum,d=c.degree,p=c.child;d>0;){var h=p.right;p.left.right=p.right,p.right.left=p.left,p.left=f,p.right=f.right,f.right=p,p.right.left=p,p.parent=null,p=h,d--}return c.left.right=c.right,c.right.left=c.left,c===c.right?f=null:(f=c.right,f=u(f,this._size)),this._size--,this._minimum=f,c},i.prototype.remove=function(c){this._minimum=a(this._minimum,c,-1),this.extractMinimum()};function a(c,f,d){f.key=d;var p=f.parent;return p&&e(f.key,p.key)&&(s(c,f,p),o(c,p)),e(f.key,c.key)&&(c=f),c}function s(c,f,d){f.left.right=f.right,f.right.left=f.left,d.degree--,d.child===f&&(d.child=f.right),d.degree===0&&(d.child=null),f.left=c,f.right=c.right,c.right=f,f.right.left=f,f.parent=null,f.mark=!1}function o(c,f){var d=f.parent;d&&(f.mark?(s(c,f,d),o(d)):f.mark=!0)}var l=function(f,d){f.left.right=f.right,f.right.left=f.left,f.parent=d,d.child?(f.left=d.child,f.right=d.child.right,d.child.right=f,f.right.left=f):(d.child=f,f.right=f,f.left=f),d.degree++,f.mark=!1};function u(c,f){var d=Math.floor(Math.log(f)*n)+1,p=new Array(d),h=0,m=c;if(m)for(h++,m=m.right;m!==c;)h++,m=m.right;for(var v;h>0;){for(var y=m.degree,S=m.right;v=p[y],!!v;){if(r(m.key,v.key)){var g=v;v=m,m=g}l(v,m),p[y]=null,y++}p[y]=m,m=S,h--}c=null;for(var w=0;w<d;w++)v=p[w],v&&(c?(v.left.right=v.right,v.right.left=v.left,v.left=c,v.right=c.right,c.right=v,v.right.left=v,e(v.key,c.key)&&(c=v)):c=v);return c}return i},{isClass:!0}),dG="Spa",pG=["addScalar","equalScalar","FibonacciHeap"],hG=V(dG,pG,t=>{var{addScalar:e,equalScalar:r,FibonacciHeap:n}=t;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(a,s){if(this._values[a])this._values[a].value=s;else{var o=this._heap.insert(a,s);this._values[a]=o}},i.prototype.get=function(a){var s=this._values[a];return s?s.value:0},i.prototype.accumulate=function(a,s){var o=this._values[a];o?o.value=e(o.value,s):(o=this._heap.insert(a,s),this._values[a]=o)},i.prototype.forEach=function(a,s,o){var l=this._heap,u=this._values,c=[],f=l.extractMinimum();for(f&&c.push(f);f&&f.key<=s;)f.key>=a&&(r(f.value,0)||o(f.key,f.value,this)),f=l.extractMinimum(),f&&c.push(f);for(var d=0;d<c.length;d++){var p=c[d];f=l.insert(p.key,p.value),u[f.key]=f}},i.prototype.swap=function(a,s){var o=this._values[a],l=this._values[s];if(!o&&l)o=this._heap.insert(a,l.value),this._heap.remove(l),this._values[a]=o,this._values[s]=void 0;else if(o&&!l)l=this._heap.insert(s,o.value),this._heap.remove(o),this._values[s]=l,this._values[a]=void 0;else if(o&&l){var u=o.value;o.value=l.value,l.value=u}},i},{isClass:!0});function mG(t){var e=0,r=1,n=Object.create(null),i=Object.create(null),a=0,s=function(l){var u=i[l];if(u&&(delete n[u],delete i[l],--e,r===u)){if(!e){a=0,r=1;return}for(;!Object.prototype.hasOwnProperty.call(n,++r););}};return t=Math.abs(t),{hit:function(l){var u=i[l],c=++a;if(n[c]=l,i[l]=c,!u)return++e,e<=t?void 0:(l=n[r],s(l),l);if(delete n[u],r===u)for(;!Object.prototype.hasOwnProperty.call(n,++r););},delete:s,clear:function(){e=a=0,r=1,n=Object.create(null),i=Object.create(null)}}}function ec(t){var{hasher:e,limit:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r=r??Number.POSITIVE_INFINITY,e=e??JSON.stringify,function n(){typeof n.cache!="object"&&(n.cache={values:new Map,lru:mG(r||Number.POSITIVE_INFINITY)});for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var s=e(i);if(n.cache.values.has(s))return n.cache.lru.hit(s),n.cache.values.get(s);var o=t.apply(t,i);return n.cache.values.set(s,o),n.cache.values.delete(n.cache.lru.hit(s)),o}}var gG=ec(function(t){return new t(1).exp()},{hasher:qp}),vG=ec(function(t){return new t(1).plus(new t(5).sqrt()).div(2)},{hasher:qp}),d0=ec(function(t){return t.acos(-1)},{hasher:qp}),yG=ec(function(t){return d0(t).times(2)},{hasher:qp});function qp(t){return t[0].precision}function cS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cS(Object(r),!0).forEach(function(n){cr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var bG="Unit",xG=["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],wG=V(bG,xG,t=>{var{on:e,config:r,addScalar:n,subtractScalar:i,multiplyScalar:a,divideScalar:s,pow:o,abs:l,fix:u,round:c,equal:f,isNumeric:d,format:p,number:h,Complex:m,BigNumber:v,Fraction:y}=t,S=h;function g(P,z){if(!(this instanceof g))throw new Error("Constructor must be called with the new operator");if(!(P==null||d(P)||ha(P)))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,z===void 0)this.units=[],this.dimensions=H.map(ne=>0);else if(typeof z=="string"){var Y=g.parse(z);this.units=Y.units,this.dimensions=Y.dimensions}else if(Vn(z)&&z.value===null)this.fixPrefix=z.fixPrefix,this.skipAutomaticSimplification=z.skipAutomaticSimplification,this.dimensions=z.dimensions.slice(0),this.units=z.units.map(ne=>pr({},ne));else throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize(P)}Object.defineProperty(g,"name",{value:"Unit"}),g.prototype.constructor=g,g.prototype.type="Unit",g.prototype.isUnit=!0;var w,x,b;function A(){for(;b===" "||b==="	";)N()}function D(P){return P>="0"&&P<="9"||P==="."}function E(P){return P>="0"&&P<="9"}function N(){x++,b=w.charAt(x)}function C(P){x=P,b=w.charAt(x)}function M(){var P="",z=x;if(b==="+"?N():b==="-"&&(P+=b,N()),!D(b))return C(z),null;if(b==="."){if(P+=b,N(),!E(b))return C(z),null}else{for(;E(b);)P+=b,N();b==="."&&(P+=b,N())}for(;E(b);)P+=b,N();if(b==="E"||b==="e"){var Y="",ne=x;if(Y+=b,N(),(b==="+"||b==="-")&&(Y+=b,N()),!E(b))return C(ne),P;for(P=P+Y;E(b);)P+=b,N()}return P}function F(){for(var P="";E(b)||g.isValidAlpha(b);)P+=b,N();var z=P.charAt(0);return g.isValidAlpha(z)?P:null}function I(P){return b===P?(N(),P):null}g.parse=function(P,z){if(z=z||{},w=P,x=-1,b="",typeof w!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var Y=new g;Y.units=[];var ne=1,oe=!1;N(),A();var le=M(),ve=null;if(le){if(r.number==="BigNumber")ve=new v(le);else if(r.number==="Fraction")try{ve=new y(le)}catch{ve=parseFloat(le)}else ve=parseFloat(le);A(),I("*")?(ne=1,oe=!0):I("/")&&(ne=-1,oe=!0)}for(var $=[],J=1;;){for(A();b==="(";)$.push(ne),J*=ne,ne=1,N(),A();var re=void 0;if(b){var fe=b;if(re=F(),re===null)throw new SyntaxError('Unexpected "'+fe+'" in "'+w+'" at index '+x.toString())}else break;var he=R(re);if(he===null)throw new SyntaxError('Unit "'+re+'" not found.');var me=ne*J;if(A(),I("^")){A();var Ae=M();if(Ae===null)throw new SyntaxError('In "'+P+'", "^" must be followed by a floating-point number');me*=Ae}Y.units.push({unit:he.unit,prefix:he.prefix,power:me});for(var xe=0;xe<H.length;xe++)Y.dimensions[xe]+=(he.unit.dimensions[xe]||0)*me;for(A();b===")";){if($.length===0)throw new SyntaxError('Unmatched ")" in "'+w+'" at index '+x.toString());J/=$.pop(),N(),A()}if(oe=!1,I("*")?(ne=1,oe=!0):I("/")?(ne=-1,oe=!0):ne=1,he.unit.base){var De=he.unit.base.key;j.auto[De]={unit:he.unit,prefix:he.prefix}}}if(A(),b)throw new SyntaxError('Could not parse: "'+P+'"');if(oe)throw new SyntaxError('Trailing characters: "'+P+'"');if($.length!==0)throw new SyntaxError('Unmatched "(" in "'+w+'"');if(Y.units.length===0&&!z.allowNoUnits)throw new SyntaxError('"'+P+'" contains no units');return Y.value=ve!==void 0?Y._normalize(ve):null,Y},g.prototype.clone=function(){var P=new g;P.fixPrefix=this.fixPrefix,P.skipAutomaticSimplification=this.skipAutomaticSimplification,P.value=tt(this.value),P.dimensions=this.dimensions.slice(0),P.units=[];for(var z=0;z<this.units.length;z++){P.units[z]={};for(var Y in this.units[z])Re(this.units[z],Y)&&(P.units[z][Y]=this.units[z][Y])}return P},g.prototype.valueType=function(){return It(this.value)},g.prototype._isDerived=function(){return this.units.length===0?!1:this.units.length>1||Math.abs(this.units[0].power-1)>1e-15},g.prototype._normalize=function(P){if(P==null||this.units.length===0)return P;for(var z=P,Y=g._getNumberConverter(It(P)),ne=0;ne<this.units.length;ne++){var oe=Y(this.units[ne].unit.value),le=Y(this.units[ne].prefix.value),ve=Y(this.units[ne].power);z=a(z,o(a(oe,le),ve))}return z},g.prototype._denormalize=function(P,z){if(P==null||this.units.length===0)return P;for(var Y=P,ne=g._getNumberConverter(It(P)),oe=0;oe<this.units.length;oe++){var le=ne(this.units[oe].unit.value),ve=ne(this.units[oe].prefix.value),$=ne(this.units[oe].power);Y=s(Y,o(a(le,ve),$))}return Y};var R=ec(P=>{if(Re(Z,P)){var z=Z[P],Y=z.prefixes[""];return{unit:z,prefix:Y}}for(var ne in Z)if(Re(Z,ne)&&C9(P,ne)){var oe=Z[ne],le=P.length-ne.length,ve=P.substring(0,le),$=Re(oe.prefixes,ve)?oe.prefixes[ve]:void 0;if($!==void 0)return{unit:oe,prefix:$}}return null},{hasher:P=>P[0],limit:100});g.isValuelessUnit=function(P){return R(P)!==null},g.prototype.hasBase=function(P){if(typeof P=="string"&&(P=k[P]),!P)return!1;for(var z=0;z<H.length;z++)if(Math.abs((this.dimensions[z]||0)-(P.dimensions[z]||0))>1e-12)return!1;return!0},g.prototype.equalBase=function(P){for(var z=0;z<H.length;z++)if(Math.abs((this.dimensions[z]||0)-(P.dimensions[z]||0))>1e-12)return!1;return!0},g.prototype.equals=function(P){return this.equalBase(P)&&f(this.value,P.value)},g.prototype.multiply=function(P){for(var z=this.clone(),Y=Vn(P)?P:new g(P),ne=0;ne<H.length;ne++)z.dimensions[ne]=(this.dimensions[ne]||0)+(Y.dimensions[ne]||0);for(var oe=0;oe<Y.units.length;oe++){var le=pm({},Y.units[oe]);z.units.push(le)}if(this.value!==null||Y.value!==null){var ve=this.value===null?this._normalize(L(Y.value)):this.value,$=Y.value===null?Y._normalize(L(this.value)):Y.value;z.value=a(ve,$)}else z.value=null;return Vn(P)&&(z.skipAutomaticSimplification=!1),T(z)},g.prototype.divideInto=function(P){return new g(P).divide(this)},g.prototype.divide=function(P){for(var z=this.clone(),Y=Vn(P)?P:new g(P),ne=0;ne<H.length;ne++)z.dimensions[ne]=(this.dimensions[ne]||0)-(Y.dimensions[ne]||0);for(var oe=0;oe<Y.units.length;oe++){var le=pm(pm({},Y.units[oe]),{},{power:-Y.units[oe].power});z.units.push(le)}if(this.value!==null||Y.value!==null){var ve=this.value===null?this._normalize(L(Y.value)):this.value,$=Y.value===null?Y._normalize(L(this.value)):Y.value;z.value=s(ve,$)}else z.value=null;return Vn(P)&&(z.skipAutomaticSimplification=!1),T(z)},g.prototype.pow=function(P){for(var z=this.clone(),Y=0;Y<H.length;Y++)z.dimensions[Y]=(this.dimensions[Y]||0)*P;for(var ne=0;ne<z.units.length;ne++)z.units[ne].power*=P;return z.value!==null?z.value=o(z.value,P):z.value=null,z.skipAutomaticSimplification=!1,T(z)};function T(P){return P.equalBase(k.NONE)&&P.value!==null&&!r.predictable?P.value:P}function L(P){var z=g._getNumberConverter(It(P));return z(1)}g.prototype.abs=function(){var P=this.clone();if(P.value!==null)if(P._isDerived()||P.units.length===0||P.units[0].unit.offset===0)P.value=l(P.value);else{var z=P._numberConverter(),Y=z(P.units[0].unit.value),ne=z(P.units[0].unit.offset),oe=a(Y,ne);P.value=i(l(n(P.value,oe)),oe)}for(var le in P.units)(P.units[le].unit.name==="VA"||P.units[le].unit.name==="VAR")&&(P.units[le].unit=Z.W);return P},g.prototype.to=function(P){var z=this.value===null?this._normalize(1):this.value,Y;if(typeof P=="string")Y=g.parse(P);else if(Vn(P))Y=P.clone();else throw new Error("String or Unit expected as parameter");if(!this.equalBase(Y))throw new Error("Units do not match ('".concat(Y.toString(),"' != '").concat(this.toString(),"')"));if(Y.value!==null)throw new Error("Cannot convert to a unit with a value");if(this.value===null||this._isDerived()||this.units.length===0||Y.units.length===0||this.units[0].unit.offset===Y.units[0].unit.offset)Y.value=tt(z);else{var ne=g._getNumberConverter(It(z)),oe=this.units[0].unit.value,le=this.units[0].unit.offset,ve=a(oe,le),$=Y.units[0].unit.value,J=Y.units[0].unit.offset,re=a($,J);Y.value=n(z,ne(i(ve,re)))}return Y.fixPrefix=!0,Y.skipAutomaticSimplification=!0,Y},g.prototype.toNumber=function(P){return S(this.toNumeric(P))},g.prototype.toNumeric=function(P){var z;return P?z=this.to(P):z=this.clone(),z._isDerived()||z.units.length===0?z._denormalize(z.value):z._denormalize(z.value,z.units[0].prefix.value)},g.prototype.toString=function(){return this.format()},g.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.units.length>0?this.formatUnits():null,fixPrefix:this.fixPrefix}},g.fromJSON=function(P){var z,Y=new g(P.value,(z=P.unit)!==null&&z!==void 0?z:void 0);return Y.fixPrefix=P.fixPrefix||!1,Y},g.prototype.valueOf=g.prototype.toString,g.prototype.simplify=function(){var P=this.clone(),z=[],Y;for(var ne in W)if(Re(W,ne)&&P.hasBase(k[ne])){Y=ne;break}if(Y==="NONE")P.units=[];else{var oe;if(Y&&Re(W,Y)&&(oe=W[Y]),oe)P.units=[{unit:oe.unit,prefix:oe.prefix,power:1}];else{for(var le=!1,ve=0;ve<H.length;ve++){var $=H[ve];Math.abs(P.dimensions[ve]||0)>1e-12&&(Re(W,$)?z.push({unit:W[$].unit,prefix:W[$].prefix,power:P.dimensions[ve]||0}):le=!0)}z.length<P.units.length&&!le&&(P.units=z)}}return P},g.prototype.toSI=function(){for(var P=this.clone(),z=[],Y=0;Y<H.length;Y++){var ne=H[Y];if(Math.abs(P.dimensions[Y]||0)>1e-12)if(Re(j.si,ne))z.push({unit:j.si[ne].unit,prefix:j.si[ne].prefix,power:P.dimensions[Y]||0});else throw new Error("Cannot express custom unit "+ne+" in SI units")}return P.units=z,P.fixPrefix=!0,P.skipAutomaticSimplification=!0,this.value!==null?(P.value=null,this.to(P)):P},g.prototype.formatUnits=function(){for(var P="",z="",Y=0,ne=0,oe=0;oe<this.units.length;oe++)this.units[oe].power>0?(Y++,P+=" "+this.units[oe].prefix.name+this.units[oe].unit.name,Math.abs(this.units[oe].power-1)>1e-15&&(P+="^"+this.units[oe].power)):this.units[oe].power<0&&ne++;if(ne>0)for(var le=0;le<this.units.length;le++)this.units[le].power<0&&(Y>0?(z+=" "+this.units[le].prefix.name+this.units[le].unit.name,Math.abs(this.units[le].power+1)>1e-15&&(z+="^"+-this.units[le].power)):(z+=" "+this.units[le].prefix.name+this.units[le].unit.name,z+="^"+this.units[le].power));P=P.substr(1),z=z.substr(1),Y>1&&ne>0&&(P="("+P+")"),ne>1&&Y>0&&(z="("+z+")");var ve=P;return Y>0&&ne>0&&(ve+=" / "),ve+=z,ve},g.prototype.format=function(P){var z=this.skipAutomaticSimplification||this.value===null?this.clone():this.simplify(),Y=!1;typeof z.value<"u"&&z.value!==null&&ha(z.value)&&(Y=Math.abs(z.value.re)<1e-14);for(var ne in z.units)Re(z.units,ne)&&z.units[ne].unit&&(z.units[ne].unit.name==="VA"&&Y?z.units[ne].unit=Z.VAR:z.units[ne].unit.name==="VAR"&&!Y&&(z.units[ne].unit=Z.VA));z.units.length===1&&!z.fixPrefix&&Math.abs(z.units[0].power-Math.round(z.units[0].power))<1e-14&&(z.units[0].prefix=z._bestPrefix());var oe=z._denormalize(z.value),le=z.value!==null?p(oe,P||{}):"",ve=z.formatUnits();return z.value&&ha(z.value)&&(le="("+le+")"),ve.length>0&&le.length>0&&(le+=" "),le+=ve,le},g.prototype._bestPrefix=function(){if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var P=this.value!==null?l(this.value):0,z=l(this.units[0].unit.value),Y=this.units[0].prefix;if(P===0)return Y;var ne=this.units[0].power,oe=Math.log(P/Math.pow(Y.value*z,ne))/Math.LN10-1.2;if(oe>-2.200001&&oe<1.800001)return Y;oe=Math.abs(oe);var le=this.units[0].unit.prefixes;for(var ve in le)if(Re(le,ve)){var $=le[ve];if($.scientific){var J=Math.abs(Math.log(P/Math.pow($.value*z,ne))/Math.LN10-1.2);(J<oe||J===oe&&$.name.length<Y.name.length)&&(Y=$,oe=J)}}return Y},g.prototype.splitUnit=function(P){for(var z=this.clone(),Y=[],ne=0;ne<P.length&&(z=z.to(P[ne]),ne!==P.length-1);ne++){var oe=z.toNumeric(),le=c(oe),ve=void 0,$=f(le,oe);$?ve=le:ve=u(z.toNumeric());var J=new g(ve,P[ne].toString());Y.push(J),z=i(z,J)}for(var re=0,fe=0;fe<Y.length;fe++)re=n(re,Y[fe].value);return f(re,this.value)&&(z.value=0),Y.push(z),Y};var _={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},R:{name:"R",value:1e27,scientific:!0},Q:{name:"Q",value:1e30,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0},r:{name:"r",value:1e-27,scientific:!0},q:{name:"q",value:1e-30,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},ronna:{name:"ronna",value:1e27,scientific:!0},quetta:{name:"quetta",value:1e30,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0},ronto:{name:"ronto",value:1e-27,scientific:!0},quecto:{name:"quecto",value:1e-30,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},R:{name:"R",value:1e54,scientific:!0},Q:{name:"Q",value:1e60,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0},r:{name:"r",value:1e-54,scientific:!0},q:{name:"q",value:1e-60,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},R:{name:"R",value:1e81,scientific:!0},Q:{name:"Q",value:1e90,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0},r:{name:"r",value:1e-81,scientific:!0},q:{name:"q",value:1e-90,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};_.SHORTLONG=pr({},_.SHORT,_.LONG),_.BINARY_SHORT=pr({},_.BINARY_SHORT_SI,_.BINARY_SHORT_IEC),_.BINARY_LONG=pr({},_.BINARY_LONG_SI,_.BINARY_LONG_IEC);var H=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],k={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var ie in k)Re(k,ie)&&(k[ie].key=ie);var ee={},X={name:"",base:ee,value:1,offset:0,dimensions:H.map(P=>0)},Z={meter:{name:"meter",base:k.LENGTH,prefixes:_.LONG,value:1,offset:0},inch:{name:"inch",base:k.LENGTH,prefixes:_.NONE,value:.0254,offset:0},foot:{name:"foot",base:k.LENGTH,prefixes:_.NONE,value:.3048,offset:0},yard:{name:"yard",base:k.LENGTH,prefixes:_.NONE,value:.9144,offset:0},mile:{name:"mile",base:k.LENGTH,prefixes:_.NONE,value:1609.344,offset:0},link:{name:"link",base:k.LENGTH,prefixes:_.NONE,value:.201168,offset:0},rod:{name:"rod",base:k.LENGTH,prefixes:_.NONE,value:5.0292,offset:0},chain:{name:"chain",base:k.LENGTH,prefixes:_.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:k.LENGTH,prefixes:_.NONE,value:1e-10,offset:0},m:{name:"m",base:k.LENGTH,prefixes:_.SHORT,value:1,offset:0},in:{name:"in",base:k.LENGTH,prefixes:_.NONE,value:.0254,offset:0},ft:{name:"ft",base:k.LENGTH,prefixes:_.NONE,value:.3048,offset:0},yd:{name:"yd",base:k.LENGTH,prefixes:_.NONE,value:.9144,offset:0},mi:{name:"mi",base:k.LENGTH,prefixes:_.NONE,value:1609.344,offset:0},li:{name:"li",base:k.LENGTH,prefixes:_.NONE,value:.201168,offset:0},rd:{name:"rd",base:k.LENGTH,prefixes:_.NONE,value:5.02921,offset:0},ch:{name:"ch",base:k.LENGTH,prefixes:_.NONE,value:20.1168,offset:0},mil:{name:"mil",base:k.LENGTH,prefixes:_.NONE,value:254e-7,offset:0},m2:{name:"m2",base:k.SURFACE,prefixes:_.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:k.SURFACE,prefixes:_.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:k.SURFACE,prefixes:_.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:k.SURFACE,prefixes:_.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:k.SURFACE,prefixes:_.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:k.SURFACE,prefixes:_.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:k.SURFACE,prefixes:_.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:k.SURFACE,prefixes:_.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:k.SURFACE,prefixes:_.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:k.SURFACE,prefixes:_.NONE,value:1e4,offset:0},m3:{name:"m3",base:k.VOLUME,prefixes:_.CUBIC,value:1,offset:0},L:{name:"L",base:k.VOLUME,prefixes:_.SHORT,value:.001,offset:0},l:{name:"l",base:k.VOLUME,prefixes:_.SHORT,value:.001,offset:0},litre:{name:"litre",base:k.VOLUME,prefixes:_.LONG,value:.001,offset:0},cuin:{name:"cuin",base:k.VOLUME,prefixes:_.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:k.VOLUME,prefixes:_.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:k.VOLUME,prefixes:_.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:k.VOLUME,prefixes:_.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:k.VOLUME,prefixes:_.NONE,value:15e-6,offset:0},drop:{name:"drop",base:k.VOLUME,prefixes:_.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:k.VOLUME,prefixes:_.NONE,value:5e-8,offset:0},minim:{name:"minim",base:k.VOLUME,prefixes:_.NONE,value:61611519921875e-21,offset:0},fluiddram:{name:"fluiddram",base:k.VOLUME,prefixes:_.NONE,value:36966911953125e-19,offset:0},fluidounce:{name:"fluidounce",base:k.VOLUME,prefixes:_.NONE,value:295735295625e-16,offset:0},gill:{name:"gill",base:k.VOLUME,prefixes:_.NONE,value:.00011829411825,offset:0},cc:{name:"cc",base:k.VOLUME,prefixes:_.NONE,value:1e-6,offset:0},cup:{name:"cup",base:k.VOLUME,prefixes:_.NONE,value:.0002365882365,offset:0},pint:{name:"pint",base:k.VOLUME,prefixes:_.NONE,value:.000473176473,offset:0},quart:{name:"quart",base:k.VOLUME,prefixes:_.NONE,value:.000946352946,offset:0},gallon:{name:"gallon",base:k.VOLUME,prefixes:_.NONE,value:.003785411784,offset:0},beerbarrel:{name:"beerbarrel",base:k.VOLUME,prefixes:_.NONE,value:.117347765304,offset:0},oilbarrel:{name:"oilbarrel",base:k.VOLUME,prefixes:_.NONE,value:.158987294928,offset:0},hogshead:{name:"hogshead",base:k.VOLUME,prefixes:_.NONE,value:.238480942392,offset:0},g:{name:"g",base:k.MASS,prefixes:_.SHORT,value:.001,offset:0},gram:{name:"gram",base:k.MASS,prefixes:_.LONG,value:.001,offset:0},ton:{name:"ton",base:k.MASS,prefixes:_.SHORT,value:907.18474,offset:0},t:{name:"t",base:k.MASS,prefixes:_.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:k.MASS,prefixes:_.LONG,value:1e3,offset:0},grain:{name:"grain",base:k.MASS,prefixes:_.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:k.MASS,prefixes:_.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:k.MASS,prefixes:_.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:k.MASS,prefixes:_.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:k.MASS,prefixes:_.NONE,value:45.359237,offset:0},stick:{name:"stick",base:k.MASS,prefixes:_.NONE,value:.115,offset:0},stone:{name:"stone",base:k.MASS,prefixes:_.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:k.MASS,prefixes:_.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:k.MASS,prefixes:_.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:k.MASS,prefixes:_.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:k.MASS,prefixes:_.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:k.MASS,prefixes:_.NONE,value:45.359237,offset:0},s:{name:"s",base:k.TIME,prefixes:_.SHORT,value:1,offset:0},min:{name:"min",base:k.TIME,prefixes:_.NONE,value:60,offset:0},h:{name:"h",base:k.TIME,prefixes:_.NONE,value:3600,offset:0},second:{name:"second",base:k.TIME,prefixes:_.LONG,value:1,offset:0},sec:{name:"sec",base:k.TIME,prefixes:_.LONG,value:1,offset:0},minute:{name:"minute",base:k.TIME,prefixes:_.NONE,value:60,offset:0},hour:{name:"hour",base:k.TIME,prefixes:_.NONE,value:3600,offset:0},day:{name:"day",base:k.TIME,prefixes:_.NONE,value:86400,offset:0},week:{name:"week",base:k.TIME,prefixes:_.NONE,value:7*86400,offset:0},month:{name:"month",base:k.TIME,prefixes:_.NONE,value:2629800,offset:0},year:{name:"year",base:k.TIME,prefixes:_.NONE,value:31557600,offset:0},decade:{name:"decade",base:k.TIME,prefixes:_.NONE,value:315576e3,offset:0},century:{name:"century",base:k.TIME,prefixes:_.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:k.TIME,prefixes:_.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:k.FREQUENCY,prefixes:_.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:k.FREQUENCY,prefixes:_.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:k.ANGLE,prefixes:_.SHORT,value:1,offset:0},radian:{name:"radian",base:k.ANGLE,prefixes:_.LONG,value:1,offset:0},deg:{name:"deg",base:k.ANGLE,prefixes:_.SHORT,value:null,offset:0},degree:{name:"degree",base:k.ANGLE,prefixes:_.LONG,value:null,offset:0},grad:{name:"grad",base:k.ANGLE,prefixes:_.SHORT,value:null,offset:0},gradian:{name:"gradian",base:k.ANGLE,prefixes:_.LONG,value:null,offset:0},cycle:{name:"cycle",base:k.ANGLE,prefixes:_.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:k.ANGLE,prefixes:_.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:k.ANGLE,prefixes:_.NONE,value:null,offset:0},A:{name:"A",base:k.CURRENT,prefixes:_.SHORT,value:1,offset:0},ampere:{name:"ampere",base:k.CURRENT,prefixes:_.LONG,value:1,offset:0},K:{name:"K",base:k.TEMPERATURE,prefixes:_.SHORT,value:1,offset:0},degC:{name:"degC",base:k.TEMPERATURE,prefixes:_.SHORT,value:1,offset:273.15},degF:{name:"degF",base:k.TEMPERATURE,prefixes:_.SHORT,value:new y(5,9),offset:459.67},degR:{name:"degR",base:k.TEMPERATURE,prefixes:_.SHORT,value:new y(5,9),offset:0},kelvin:{name:"kelvin",base:k.TEMPERATURE,prefixes:_.LONG,value:1,offset:0},celsius:{name:"celsius",base:k.TEMPERATURE,prefixes:_.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:k.TEMPERATURE,prefixes:_.LONG,value:new y(5,9),offset:459.67},rankine:{name:"rankine",base:k.TEMPERATURE,prefixes:_.LONG,value:new y(5,9),offset:0},mol:{name:"mol",base:k.AMOUNT_OF_SUBSTANCE,prefixes:_.SHORT,value:1,offset:0},mole:{name:"mole",base:k.AMOUNT_OF_SUBSTANCE,prefixes:_.LONG,value:1,offset:0},cd:{name:"cd",base:k.LUMINOUS_INTENSITY,prefixes:_.SHORT,value:1,offset:0},candela:{name:"candela",base:k.LUMINOUS_INTENSITY,prefixes:_.LONG,value:1,offset:0},N:{name:"N",base:k.FORCE,prefixes:_.SHORT,value:1,offset:0},newton:{name:"newton",base:k.FORCE,prefixes:_.LONG,value:1,offset:0},dyn:{name:"dyn",base:k.FORCE,prefixes:_.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:k.FORCE,prefixes:_.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:k.FORCE,prefixes:_.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:k.FORCE,prefixes:_.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:k.FORCE,prefixes:_.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:k.FORCE,prefixes:_.NONE,value:9.80665,offset:0},J:{name:"J",base:k.ENERGY,prefixes:_.SHORT,value:1,offset:0},joule:{name:"joule",base:k.ENERGY,prefixes:_.LONG,value:1,offset:0},erg:{name:"erg",base:k.ENERGY,prefixes:_.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:k.ENERGY,prefixes:_.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:k.ENERGY,prefixes:_.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:k.ENERGY,prefixes:_.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:k.ENERGY,prefixes:_.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:k.POWER,prefixes:_.SHORT,value:1,offset:0},watt:{name:"watt",base:k.POWER,prefixes:_.LONG,value:1,offset:0},hp:{name:"hp",base:k.POWER,prefixes:_.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:k.POWER,prefixes:_.SHORT,value:m.I,offset:0},VA:{name:"VA",base:k.POWER,prefixes:_.SHORT,value:1,offset:0},Pa:{name:"Pa",base:k.PRESSURE,prefixes:_.SHORT,value:1,offset:0},psi:{name:"psi",base:k.PRESSURE,prefixes:_.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:k.PRESSURE,prefixes:_.NONE,value:101325,offset:0},bar:{name:"bar",base:k.PRESSURE,prefixes:_.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:k.PRESSURE,prefixes:_.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:k.PRESSURE,prefixes:_.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:k.PRESSURE,prefixes:_.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:k.PRESSURE,prefixes:_.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:k.ELECTRIC_CHARGE,prefixes:_.LONG,value:1,offset:0},C:{name:"C",base:k.ELECTRIC_CHARGE,prefixes:_.SHORT,value:1,offset:0},farad:{name:"farad",base:k.ELECTRIC_CAPACITANCE,prefixes:_.LONG,value:1,offset:0},F:{name:"F",base:k.ELECTRIC_CAPACITANCE,prefixes:_.SHORT,value:1,offset:0},volt:{name:"volt",base:k.ELECTRIC_POTENTIAL,prefixes:_.LONG,value:1,offset:0},V:{name:"V",base:k.ELECTRIC_POTENTIAL,prefixes:_.SHORT,value:1,offset:0},ohm:{name:"ohm",base:k.ELECTRIC_RESISTANCE,prefixes:_.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:k.ELECTRIC_INDUCTANCE,prefixes:_.LONG,value:1,offset:0},H:{name:"H",base:k.ELECTRIC_INDUCTANCE,prefixes:_.SHORT,value:1,offset:0},siemens:{name:"siemens",base:k.ELECTRIC_CONDUCTANCE,prefixes:_.LONG,value:1,offset:0},S:{name:"S",base:k.ELECTRIC_CONDUCTANCE,prefixes:_.SHORT,value:1,offset:0},weber:{name:"weber",base:k.MAGNETIC_FLUX,prefixes:_.LONG,value:1,offset:0},Wb:{name:"Wb",base:k.MAGNETIC_FLUX,prefixes:_.SHORT,value:1,offset:0},tesla:{name:"tesla",base:k.MAGNETIC_FLUX_DENSITY,prefixes:_.LONG,value:1,offset:0},T:{name:"T",base:k.MAGNETIC_FLUX_DENSITY,prefixes:_.SHORT,value:1,offset:0},b:{name:"b",base:k.BIT,prefixes:_.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:k.BIT,prefixes:_.BINARY_LONG,value:1,offset:0},B:{name:"B",base:k.BIT,prefixes:_.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:k.BIT,prefixes:_.BINARY_LONG,value:8,offset:0}},pe={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fldr:"fluiddram",fluiddrams:"fluiddram",floz:"fluidounce",fluidounces:"fluidounce",gi:"gill",gills:"gill",cp:"cup",cups:"cup",pt:"pint",pints:"pint",qt:"quart",quarts:"quart",gal:"gallon",gallons:"gallon",bbl:"beerbarrel",beerbarrels:"beerbarrel",obl:"oilbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function de(P){if(P.number==="BigNumber"){var z=d0(v);Z.rad.value=new v(1),Z.deg.value=z.div(180),Z.grad.value=z.div(200),Z.cycle.value=z.times(2),Z.arcsec.value=z.div(648e3),Z.arcmin.value=z.div(10800)}else Z.rad.value=1,Z.deg.value=Math.PI/180,Z.grad.value=Math.PI/200,Z.cycle.value=Math.PI*2,Z.arcsec.value=Math.PI/648e3,Z.arcmin.value=Math.PI/10800;Z.radian.value=Z.rad.value,Z.degree.value=Z.deg.value,Z.gradian.value=Z.grad.value}de(r),e&&e("config",function(P,z){P.number!==z.number&&de(P)});var j={si:{NONE:{unit:X,prefix:_.NONE[""]},LENGTH:{unit:Z.m,prefix:_.SHORT[""]},MASS:{unit:Z.g,prefix:_.SHORT.k},TIME:{unit:Z.s,prefix:_.SHORT[""]},CURRENT:{unit:Z.A,prefix:_.SHORT[""]},TEMPERATURE:{unit:Z.K,prefix:_.SHORT[""]},LUMINOUS_INTENSITY:{unit:Z.cd,prefix:_.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:Z.mol,prefix:_.SHORT[""]},ANGLE:{unit:Z.rad,prefix:_.SHORT[""]},BIT:{unit:Z.bits,prefix:_.SHORT[""]},FORCE:{unit:Z.N,prefix:_.SHORT[""]},ENERGY:{unit:Z.J,prefix:_.SHORT[""]},POWER:{unit:Z.W,prefix:_.SHORT[""]},PRESSURE:{unit:Z.Pa,prefix:_.SHORT[""]},ELECTRIC_CHARGE:{unit:Z.C,prefix:_.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:Z.F,prefix:_.SHORT[""]},ELECTRIC_POTENTIAL:{unit:Z.V,prefix:_.SHORT[""]},ELECTRIC_RESISTANCE:{unit:Z.ohm,prefix:_.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:Z.H,prefix:_.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:Z.S,prefix:_.SHORT[""]},MAGNETIC_FLUX:{unit:Z.Wb,prefix:_.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:Z.T,prefix:_.SHORT[""]},FREQUENCY:{unit:Z.Hz,prefix:_.SHORT[""]}}};j.cgs=JSON.parse(JSON.stringify(j.si)),j.cgs.LENGTH={unit:Z.m,prefix:_.SHORT.c},j.cgs.MASS={unit:Z.g,prefix:_.SHORT[""]},j.cgs.FORCE={unit:Z.dyn,prefix:_.SHORT[""]},j.cgs.ENERGY={unit:Z.erg,prefix:_.NONE[""]},j.us=JSON.parse(JSON.stringify(j.si)),j.us.LENGTH={unit:Z.ft,prefix:_.NONE[""]},j.us.MASS={unit:Z.lbm,prefix:_.NONE[""]},j.us.TEMPERATURE={unit:Z.degF,prefix:_.NONE[""]},j.us.FORCE={unit:Z.lbf,prefix:_.NONE[""]},j.us.ENERGY={unit:Z.BTU,prefix:_.BTU[""]},j.us.POWER={unit:Z.hp,prefix:_.NONE[""]},j.us.PRESSURE={unit:Z.psi,prefix:_.NONE[""]},j.auto=JSON.parse(JSON.stringify(j.si));var W=j.auto;g.setUnitSystem=function(P){if(Re(j,P))W=j[P];else throw new Error("Unit system "+P+" does not exist. Choices are: "+Object.keys(j).join(", "))},g.getUnitSystem=function(){for(var P in j)if(Re(j,P)&&j[P]===W)return P},g.typeConverters={BigNumber:function(z){return z!=null&&z.isFraction?new v(String(z.n)).div(String(z.d)).times(String(z.s)):new v(z+"")},Fraction:function(z){return new y(z)},Complex:function(z){return z},number:function(z){return z!=null&&z.isFraction?h(z):z}},g.prototype._numberConverter=function(){var P=g.typeConverters[this.valueType()];if(P)return P;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},g._getNumberConverter=function(P){if(!g.typeConverters[P])throw new TypeError('Unsupported type "'+P+'"');return g.typeConverters[P]};for(var U in Z)if(Re(Z,U)){var K=Z[U];K.dimensions=K.base.dimensions}for(var ae in pe)if(Re(pe,ae)){var B=Z[pe[ae]],q={};for(var G in B)Re(B,G)&&(q[G]=B[G]);q.name=ae,Z[ae]=q}g.isValidAlpha=function(z){return/^[a-zA-Z]$/.test(z)};function se(P){for(var z=0;z<P.length;z++){if(b=P.charAt(z),z===0&&!g.isValidAlpha(b))throw new Error('Invalid unit name (must begin with alpha character): "'+P+'"');if(z>0&&!(g.isValidAlpha(b)||E(b)))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+P+'"')}}return g.createUnit=function(P,z){if(typeof P!="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(z&&z.override){for(var Y in P)if(Re(P,Y)&&g.deleteUnit(Y),P[Y].aliases)for(var ne=0;ne<P[Y].aliases.length;ne++)g.deleteUnit(P[Y].aliases[ne])}var oe;for(var le in P)Re(P,le)&&(oe=g.createUnitSingle(le,P[le]));return oe},g.createUnitSingle=function(P,z){if((typeof z>"u"||z===null)&&(z={}),typeof P!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(Re(Z,P))throw new Error('Cannot create unit "'+P+'": a unit with that name already exists');se(P);var Y=null,ne=[],oe=0,le,ve,$;if(z&&z.type==="Unit")Y=z.clone();else if(typeof z=="string")z!==""&&(le=z);else if(typeof z=="object")le=z.definition,ve=z.prefixes,oe=z.offset,$=z.baseName,z.aliases&&(ne=z.aliases.valueOf());else throw new TypeError('Cannot create unit "'+P+'" from "'+z.toString()+'": expecting "string" or "Unit" or "Object"');if(ne){for(var J=0;J<ne.length;J++)if(Re(Z,ne[J]))throw new Error('Cannot create alias "'+ne[J]+'": a unit with that name already exists')}if(le&&typeof le=="string"&&!Y)try{Y=g.parse(le,{allowNoUnits:!0})}catch(ge){throw ge.message='Could not create unit "'+P+'" from "'+le+'": '+ge.message,ge}else le&&le.type==="Unit"&&(Y=le.clone());ne=ne||[],oe=oe||0,ve&&ve.toUpperCase?ve=_[ve.toUpperCase()]||_.NONE:ve=_.NONE;var re={};if(Y){re={name:P,value:Y.value,dimensions:Y.dimensions.slice(0),prefixes:ve,offset:oe};var Ae=!1;for(var xe in k)if(Re(k,xe)){for(var De=!0,we=0;we<H.length;we++)if(Math.abs((re.dimensions[we]||0)-(k[xe].dimensions[we]||0))>1e-12){De=!1;break}if(De){Ae=!0,re.base=k[xe];break}}if(!Ae){$=$||P+"_STUFF";var it={dimensions:Y.dimensions.slice(0)};it.key=$,k[$]=it,W[$]={unit:re,prefix:_.NONE[""]},re.base=k[$]}}else{if($=$||P+"_STUFF",H.indexOf($)>=0)throw new Error('Cannot create new base unit "'+P+'": a base unit with that name already exists (and cannot be overridden)');H.push($);for(var fe in k)Re(k,fe)&&(k[fe].dimensions[H.length-1]=0);for(var he={dimensions:[]},me=0;me<H.length;me++)he.dimensions[me]=0;he.dimensions[H.length-1]=1,he.key=$,k[$]=he,re={name:P,value:1,dimensions:k[$].dimensions.slice(0),prefixes:ve,offset:oe,base:k[$]},W[$]={unit:re,prefix:_.NONE[""]}}g.UNITS[P]=re;for(var Ie=0;Ie<ne.length;Ie++){var Qe=ne[Ie],O={};for(var te in re)Re(re,te)&&(O[te]=re[te]);O.name=Qe,g.UNITS[Qe]=O}return delete R.cache,new g(null,P)},g.deleteUnit=function(P){delete g.UNITS[P],delete R.cache},g.PREFIXES=_,g.BASE_DIMENSIONS=H,g.BASE_UNITS=k,g.UNIT_SYSTEMS=j,g.UNITS=Z,g},{isClass:!0}),fS="unit",SG=["typed","Unit"],EG=V(fS,SG,t=>{var{typed:e,Unit:r}=t;return e(fS,{Unit:function(i){return i.clone()},string:function(i){return r.isValuelessUnit(i)?new r(null,i):r.parse(i,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(i,a){return new r(i,a)},"number | BigNumber | Fraction":function(i){return new r(i)},"Array | Matrix":e.referToSelf(n=>i=>ut(i,n))})}),dS="sparse",AG=["typed","SparseMatrix"],NG=V(dS,AG,t=>{var{typed:e,SparseMatrix:r}=t;return e(dS,{"":function(){return new r([])},string:function(i){return new r([],i)},"Array | Matrix":function(i){return new r(i)},"Array | Matrix, string":function(i,a){return new r(i,a)}})}),pS="createUnit",DG=["typed","Unit"],CG=V(pS,DG,t=>{var{typed:e,Unit:r}=t;return e(pS,{"Object, Object":function(i,a){return r.createUnit(i,a)},Object:function(i){return r.createUnit(i,{})},"string, Unit | string | Object, Object":function(i,a,s){var o={};return o[i]=a,r.createUnit(o,s)},"string, Unit | string | Object":function(i,a){var s={};return s[i]=a,r.createUnit(s,{})},string:function(i){var a={};return a[i]={},r.createUnit(a,{})}})}),hS="acos",MG=["typed","config","Complex"],TG=V(hS,MG,t=>{var{typed:e,config:r,Complex:n}=t;return e(hS,{number:function(a){return a>=-1&&a<=1||r.predictable?Math.acos(a):new n(a,0).acos()},Complex:function(a){return a.acos()},BigNumber:function(a){return a.acos()}})}),mS="acosh",_G=["typed","config","Complex"],OG=V(mS,_G,t=>{var{typed:e,config:r,Complex:n}=t;return e(mS,{number:function(a){return a>=1||r.predictable?EM(a):a<=-1?new n(Math.log(Math.sqrt(a*a-1)-a),Math.PI):new n(a,0).acosh()},Complex:function(a){return a.acosh()},BigNumber:function(a){return a.acosh()}})}),gS="acot",FG=["typed","BigNumber"],BG=V(gS,FG,t=>{var{typed:e,BigNumber:r}=t;return e(gS,{number:AM,Complex:function(i){return i.acot()},BigNumber:function(i){return new r(1).div(i).atan()}})}),vS="acoth",kG=["typed","config","Complex","BigNumber"],IG=V(vS,kG,t=>{var{typed:e,config:r,Complex:n,BigNumber:i}=t;return e(vS,{number:function(s){return s>=1||s<=-1||r.predictable?NM(s):new n(s,0).acoth()},Complex:function(s){return s.acoth()},BigNumber:function(s){return new i(1).div(s).atanh()}})}),yS="acsc",RG=["typed","config","Complex","BigNumber"],PG=V(yS,RG,t=>{var{typed:e,config:r,Complex:n,BigNumber:i}=t;return e(yS,{number:function(s){return s<=-1||s>=1||r.predictable?DM(s):new n(s,0).acsc()},Complex:function(s){return s.acsc()},BigNumber:function(s){return new i(1).div(s).asin()}})}),bS="acsch",$G=["typed","BigNumber"],LG=V(bS,$G,t=>{var{typed:e,BigNumber:r}=t;return e(bS,{number:CM,Complex:function(i){return i.acsch()},BigNumber:function(i){return new r(1).div(i).asinh()}})}),xS="asec",zG=["typed","config","Complex","BigNumber"],qG=V(xS,zG,t=>{var{typed:e,config:r,Complex:n,BigNumber:i}=t;return e(xS,{number:function(s){return s<=-1||s>=1||r.predictable?MM(s):new n(s,0).asec()},Complex:function(s){return s.asec()},BigNumber:function(s){return new i(1).div(s).acos()}})}),wS="asech",UG=["typed","config","Complex","BigNumber"],HG=V(wS,UG,t=>{var{typed:e,config:r,Complex:n,BigNumber:i}=t;return e(wS,{number:function(s){if(s<=1&&s>=-1||r.predictable){var o=1/s;if(o>0||r.predictable)return TM(s);var l=Math.sqrt(o*o-1);return new n(Math.log(l-o),Math.PI)}return new n(s,0).asech()},Complex:function(s){return s.asech()},BigNumber:function(s){return new i(1).div(s).acosh()}})}),SS="asin",VG=["typed","config","Complex"],WG=V(SS,VG,t=>{var{typed:e,config:r,Complex:n}=t;return e(SS,{number:function(a){return a>=-1&&a<=1||r.predictable?Math.asin(a):new n(a,0).asin()},Complex:function(a){return a.asin()},BigNumber:function(a){return a.asin()}})}),GG="asinh",jG=["typed"],KG=V(GG,jG,t=>{var{typed:e}=t;return e("asinh",{number:_M,Complex:function(n){return n.asinh()},BigNumber:function(n){return n.asinh()}})}),JG="atan",YG=["typed"],XG=V(JG,YG,t=>{var{typed:e}=t;return e("atan",{number:function(n){return Math.atan(n)},Complex:function(n){return n.atan()},BigNumber:function(n){return n.atan()}})}),ES="atan2",ZG=["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],QG=V(ES,ZG,t=>{var{typed:e,matrix:r,equalScalar:n,BigNumber:i,DenseMatrix:a,concat:s}=t,o=wi({typed:e,equalScalar:n}),l=gn({typed:e}),u=VM({typed:e,equalScalar:n}),c=zr({typed:e,equalScalar:n}),f=hr({typed:e,DenseMatrix:a}),d=$t({typed:e,matrix:r,concat:s});return e(ES,{"number, number":Math.atan2,"BigNumber, BigNumber":(p,h)=>i.atan2(p,h)},d({scalar:"number | BigNumber",SS:u,DS:l,SD:o,Ss:c,sS:f}))}),AS="atanh",ej=["typed","config","Complex"],tj=V(AS,ej,t=>{var{typed:e,config:r,Complex:n}=t;return e(AS,{number:function(a){return a<=1&&a>=-1||r.predictable?OM(a):new n(a,0).atanh()},Complex:function(a){return a.atanh()},BigNumber:function(a){return a.atanh()}})}),yl=V("trigUnit",["typed"],t=>{var{typed:e}=t;return{Unit:e.referToSelf(r=>n=>{if(!n.hasBase(n.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(r,n.valueType())(n.value)})}}),NS="cos",rj=["typed"],nj=V(NS,rj,t=>{var{typed:e}=t,r=yl({typed:e});return e(NS,{number:Math.cos,"Complex | BigNumber":n=>n.cos()},r)}),DS="cosh",ij=["typed"],aj=V(DS,ij,t=>{var{typed:e}=t;return e(DS,{number:e6,"Complex | BigNumber":r=>r.cosh()})}),CS="cot",sj=["typed","BigNumber"],oj=V(CS,sj,t=>{var{typed:e,BigNumber:r}=t,n=yl({typed:e});return e(CS,{number:FM,Complex:i=>i.cot(),BigNumber:i=>new r(1).div(i.tan())},n)}),MS="coth",lj=["typed","BigNumber"],uj=V(MS,lj,t=>{var{typed:e,BigNumber:r}=t;return e(MS,{number:BM,Complex:n=>n.coth(),BigNumber:n=>new r(1).div(n.tanh())})}),TS="csc",cj=["typed","BigNumber"],fj=V(TS,cj,t=>{var{typed:e,BigNumber:r}=t,n=yl({typed:e});return e(TS,{number:kM,Complex:i=>i.csc(),BigNumber:i=>new r(1).div(i.sin())},n)}),_S="csch",dj=["typed","BigNumber"],pj=V(_S,dj,t=>{var{typed:e,BigNumber:r}=t;return e(_S,{number:IM,Complex:n=>n.csch(),BigNumber:n=>new r(1).div(n.sinh())})}),OS="sec",hj=["typed","BigNumber"],mj=V(OS,hj,t=>{var{typed:e,BigNumber:r}=t,n=yl({typed:e});return e(OS,{number:RM,Complex:i=>i.sec(),BigNumber:i=>new r(1).div(i.cos())},n)}),FS="sech",gj=["typed","BigNumber"],vj=V(FS,gj,t=>{var{typed:e,BigNumber:r}=t;return e(FS,{number:PM,Complex:n=>n.sech(),BigNumber:n=>new r(1).div(n.cosh())})}),BS="sin",yj=["typed"],bj=V(BS,yj,t=>{var{typed:e}=t,r=yl({typed:e});return e(BS,{number:Math.sin,"Complex | BigNumber":n=>n.sin()},r)}),kS="sinh",xj=["typed"],wj=V(kS,xj,t=>{var{typed:e}=t;return e(kS,{number:$M,"Complex | BigNumber":r=>r.sinh()})}),IS="tan",Sj=["typed"],Ej=V(IS,Sj,t=>{var{typed:e}=t,r=yl({typed:e});return e(IS,{number:Math.tan,"Complex | BigNumber":n=>n.tan()},r)}),Aj="tanh",Nj=["typed"],Dj=V(Aj,Nj,t=>{var{typed:e}=t;return e("tanh",{number:r6,"Complex | BigNumber":r=>r.tanh()})}),RS="setCartesian",Cj=["typed","size","subset","compareNatural","Index","DenseMatrix"],Mj=V(RS,Cj,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:s}=t;return e(RS,{"Array | Matrix, Array | Matrix":function(l,u){var c=[];if(n(r(l),new a(0))!==0&&n(r(u),new a(0))!==0){var f=Dt(Array.isArray(l)?l:l.toArray()).sort(i),d=Dt(Array.isArray(u)?u:u.toArray()).sort(i);c=[];for(var p=0;p<f.length;p++)for(var h=0;h<d.length;h++)c.push([f[p],d[h]])}return Array.isArray(l)&&Array.isArray(u)?c:new s(c)}})}),PS="setDifference",Tj=["typed","size","subset","compareNatural","Index","DenseMatrix"],_j=V(PS,Tj,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:s}=t;return e(PS,{"Array | Matrix, Array | Matrix":function(l,u){var c;if(n(r(l),new a(0))===0)c=[];else{if(n(r(u),new a(0))===0)return Dt(l.toArray());var f=ol(Dt(Array.isArray(l)?l:l.toArray()).sort(i)),d=ol(Dt(Array.isArray(u)?u:u.toArray()).sort(i));c=[];for(var p,h=0;h<f.length;h++){p=!1;for(var m=0;m<d.length;m++)if(i(f[h].value,d[m].value)===0&&f[h].identifier===d[m].identifier){p=!0;break}p||c.push(f[h])}}return Array.isArray(l)&&Array.isArray(u)?Id(c):new s(Id(c))}})}),$S="setDistinct",Oj=["typed","size","subset","compareNatural","Index","DenseMatrix"],Fj=V($S,Oj,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:s}=t;return e($S,{"Array | Matrix":function(l){var u;if(n(r(l),new a(0))===0)u=[];else{var c=Dt(Array.isArray(l)?l:l.toArray()).sort(i);u=[],u.push(c[0]);for(var f=1;f<c.length;f++)i(c[f],c[f-1])!==0&&u.push(c[f])}return Array.isArray(l)?u:new s(u)}})}),LS="setIntersect",Bj=["typed","size","subset","compareNatural","Index","DenseMatrix"],kj=V(LS,Bj,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:s}=t;return e(LS,{"Array | Matrix, Array | Matrix":function(l,u){var c;if(n(r(l),new a(0))===0||n(r(u),new a(0))===0)c=[];else{var f=ol(Dt(Array.isArray(l)?l:l.toArray()).sort(i)),d=ol(Dt(Array.isArray(u)?u:u.toArray()).sort(i));c=[];for(var p=0;p<f.length;p++)for(var h=0;h<d.length;h++)if(i(f[p].value,d[h].value)===0&&f[p].identifier===d[h].identifier){c.push(f[p]);break}}return Array.isArray(l)&&Array.isArray(u)?Id(c):new s(Id(c))}})}),zS="setIsSubset",Ij=["typed","size","subset","compareNatural","Index"],Rj=V(zS,Ij,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a}=t;return e(zS,{"Array | Matrix, Array | Matrix":function(o,l){if(n(r(o),new a(0))===0)return!0;if(n(r(l),new a(0))===0)return!1;for(var u=ol(Dt(Array.isArray(o)?o:o.toArray()).sort(i)),c=ol(Dt(Array.isArray(l)?l:l.toArray()).sort(i)),f,d=0;d<u.length;d++){f=!1;for(var p=0;p<c.length;p++)if(i(u[d].value,c[p].value)===0&&u[d].identifier===c[p].identifier){f=!0;break}if(f===!1)return!1}return!0}})}),qS="setMultiplicity",Pj=["typed","size","subset","compareNatural","Index"],$j=V(qS,Pj,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a}=t;return e(qS,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(o,l){if(n(r(l),new a(0))===0)return 0;for(var u=Dt(Array.isArray(l)?l:l.toArray()),c=0,f=0;f<u.length;f++)i(u[f],o)===0&&c++;return c}})}),US="setPowerset",Lj=["typed","size","subset","compareNatural","Index"],zj=V(US,Lj,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a}=t;return e(US,{"Array | Matrix":function(u){if(n(r(u),new a(0))===0)return[];for(var c=Dt(Array.isArray(u)?u:u.toArray()).sort(i),f=[],d=0;d.toString(2).length<=c.length;)f.push(s(c,d.toString(2).split("").reverse())),d++;return o(f)}});function s(l,u){for(var c=[],f=0;f<u.length;f++)u[f]==="1"&&c.push(l[f]);return c}function o(l){for(var u=[],c=l.length-1;c>0;c--)for(var f=0;f<c;f++)l[f].length>l[f+1].length&&(u=l[f],l[f]=l[f+1],l[f+1]=u);return l}}),HS="setSize",qj=["typed","compareNatural"],Uj=V(HS,qj,t=>{var{typed:e,compareNatural:r}=t;return e(HS,{"Array | Matrix":function(i){return Array.isArray(i)?Dt(i).length:Dt(i.toArray()).length},"Array | Matrix, boolean":function(i,a){if(a===!1||i.length===0)return Array.isArray(i)?Dt(i).length:Dt(i.toArray()).length;for(var s=Dt(Array.isArray(i)?i:i.toArray()).sort(r),o=1,l=1;l<s.length;l++)r(s[l],s[l-1])!==0&&o++;return o}})}),VS="setSymDifference",Hj=["typed","size","concat","subset","setDifference","Index"],Vj=V(VS,Hj,t=>{var{typed:e,size:r,concat:n,subset:i,setDifference:a,Index:s}=t;return e(VS,{"Array | Matrix, Array | Matrix":function(l,u){if(i(r(l),new s(0))===0)return Dt(u);if(i(r(u),new s(0))===0)return Dt(l);var c=Dt(l),f=Dt(u);return n(a(c,f),a(f,c))}})}),WS="setUnion",Wj=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],Gj=V(WS,Wj,t=>{var{typed:e,size:r,concat:n,subset:i,setIntersect:a,setSymDifference:s,Index:o}=t;return e(WS,{"Array | Matrix, Array | Matrix":function(u,c){if(i(r(u),new o(0))===0)return Dt(c);if(i(r(c),new o(0))===0)return Dt(u);var f=Dt(u),d=Dt(c);return n(s(f,d),a(f,d))}})}),GS="add",jj=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],Kj=V(GS,jj,t=>{var{typed:e,matrix:r,addScalar:n,equalScalar:i,DenseMatrix:a,SparseMatrix:s,concat:o}=t,l=ps({typed:e}),u=a0({typed:e,equalScalar:i}),c=so({typed:e,DenseMatrix:a}),f=$t({typed:e,matrix:r,concat:o});return e(GS,{"any, any":n,"any, any, ...any":e.referToSelf(d=>(p,h,m)=>{for(var v=d(p,h),y=0;y<m.length;y++)v=d(v,m[y]);return v})},f({elop:n,DS:l,SS:u,Ss:c}))}),jS="hypot",Jj=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],Yj=V(jS,Jj,t=>{var{typed:e,abs:r,addScalar:n,divideScalar:i,multiplyScalar:a,sqrt:s,smaller:o,isPositive:l}=t;return e(jS,{"... number | BigNumber":u,Array:u,Matrix:c=>u(Dt(c.toArray(),!0))});function u(c){for(var f=0,d=0,p=0;p<c.length;p++){if(ha(c[p]))throw new TypeError("Unexpected type of argument to hypot");var h=r(c[p]);o(d,h)?(f=a(f,a(i(d,h),i(d,h))),f=n(f,1),d=h):f=n(f,l(h)?a(i(h,d),i(h,d)):h)}return a(d,s(f))}}),KS="norm",Xj=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],Zj=V(KS,Xj,t=>{var{typed:e,abs:r,add:n,pow:i,conj:a,sqrt:s,multiply:o,equalScalar:l,larger:u,smaller:c,matrix:f,ctranspose:d,eigs:p}=t;return e(KS,{number:Math.abs,Complex:function(D){return D.abs()},BigNumber:function(D){return D.abs()},boolean:function(D){return Math.abs(D)},Array:function(D){return b(f(D),2)},Matrix:function(D){return b(D,2)},"Array, number | BigNumber | string":function(D,E){return b(f(D),E)},"Matrix, number | BigNumber | string":function(D,E){return b(D,E)}});function h(A){var D=0;return A.forEach(function(E){var N=r(E);u(N,D)&&(D=N)},!0),D}function m(A){var D;return A.forEach(function(E){var N=r(E);(!D||c(N,D))&&(D=N)},!0),D||0}function v(A,D){if(D===Number.POSITIVE_INFINITY||D==="inf")return h(A);if(D===Number.NEGATIVE_INFINITY||D==="-inf")return m(A);if(D==="fro")return b(A,2);if(typeof D=="number"&&!isNaN(D)){if(!l(D,0)){var E=0;return A.forEach(function(N){E=n(i(r(N),D),E)},!0),i(E,1/D)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function y(A){var D=0;return A.forEach(function(E,N){D=n(D,o(E,a(E)))}),r(s(D))}function S(A){var D=[],E=0;return A.forEach(function(N,C){var M=C[1],F=n(D[M]||0,r(N));u(F,E)&&(E=F),D[M]=F},!0),E}function g(A){var D=A.size();if(D[0]!==D[1])throw new RangeError("Invalid matrix dimensions");var E=d(A),N=o(E,A),C=p(N).values.toArray(),M=C[C.length-1];return r(s(M))}function w(A){var D=[],E=0;return A.forEach(function(N,C){var M=C[0],F=n(D[M]||0,r(N));u(F,E)&&(E=F),D[M]=F},!0),E}function x(A,D){if(D===1)return S(A);if(D===Number.POSITIVE_INFINITY||D==="inf")return w(A);if(D==="fro")return y(A);if(D===2)return g(A);throw new Error("Unsupported parameter value "+D)}function b(A,D){var E=A.size();if(E.length===1)return v(A,D);if(E.length===2){if(E[0]&&E[1])return x(A,D);throw new RangeError("Invalid matrix dimensions")}}}),JS="dot",Qj=["typed","addScalar","multiplyScalar","conj","size"],eK=V(JS,Qj,t=>{var{typed:e,addScalar:r,multiplyScalar:n,conj:i,size:a}=t;return e(JS,{"Array | DenseMatrix, Array | DenseMatrix":o,"SparseMatrix, SparseMatrix":l});function s(c,f){var d=u(c),p=u(f),h,m;if(d.length===1)h=d[0];else if(d.length===2&&d[1]===1)h=d[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+d.join(", ")+")");if(p.length===1)m=p[0];else if(p.length===2&&p[1]===1)m=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(h!==m)throw new RangeError("Vectors must have equal length ("+h+" != "+m+")");if(h===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return h}function o(c,f){var d=s(c,f),p=Ge(c)?c._data:c,h=Ge(c)?c._datatype||c.getDataType():void 0,m=Ge(f)?f._data:f,v=Ge(f)?f._datatype||f.getDataType():void 0,y=u(c).length===2,S=u(f).length===2,g=r,w=n;if(h&&v&&h===v&&typeof h=="string"&&h!=="mixed"){var x=h;g=e.find(r,[x,x]),w=e.find(n,[x,x])}if(!y&&!S){for(var b=w(i(p[0]),m[0]),A=1;A<d;A++)b=g(b,w(i(p[A]),m[A]));return b}if(!y&&S){for(var D=w(i(p[0]),m[0][0]),E=1;E<d;E++)D=g(D,w(i(p[E]),m[E][0]));return D}if(y&&!S){for(var N=w(i(p[0][0]),m[0]),C=1;C<d;C++)N=g(N,w(i(p[C][0]),m[C]));return N}if(y&&S){for(var M=w(i(p[0][0]),m[0][0]),F=1;F<d;F++)M=g(M,w(i(p[F][0]),m[F][0]));return M}}function l(c,f){s(c,f);for(var d=c._index,p=c._values,h=f._index,m=f._values,v=0,y=r,S=n,g=0,w=0;g<d.length&&w<h.length;){var x=d[g],b=h[w];if(x<b){g++;continue}if(x>b){w++;continue}x===b&&(v=y(v,S(p[g],m[w])),g++,w++)}return v}function u(c){return Ge(c)?c.size():a(c)}}),tK="trace",rK=["typed","matrix","add"],nK=V(tK,rK,t=>{var{typed:e,matrix:r,add:n}=t;return e("trace",{Array:function(o){return i(r(o))},SparseMatrix:a,DenseMatrix:i,any:tt});function i(s){var o=s._size,l=s._data;switch(o.length){case 1:if(o[0]===1)return tt(l[0]);throw new RangeError("Matrix must be square (size: "+ht(o)+")");case 2:{var u=o[0],c=o[1];if(u===c){for(var f=0,d=0;d<u;d++)f=n(f,l[d][d]);return f}else throw new RangeError("Matrix must be square (size: "+ht(o)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+ht(o)+")")}}function a(s){var o=s._values,l=s._index,u=s._ptr,c=s._size,f=c[0],d=c[1];if(f===d){var p=0;if(o.length>0)for(var h=0;h<d;h++)for(var m=u[h],v=u[h+1],y=m;y<v;y++){var S=l[y];if(S===h){p=n(p,o[y]);break}if(S>h)break}return p}throw new RangeError("Matrix must be square (size: "+ht(c)+")")}}),YS="index",iK=["typed","Index"],aK=V(YS,iK,t=>{var{typed:e,Index:r}=t;return e(YS,{"...number | string | BigNumber | Range | Array | Matrix":function(i){var a=i.map(function(o){return lt(o)?o.toNumber():Bt(o)||Ge(o)?o.map(function(l){return lt(l)?l.toNumber():l}):o}),s=new r;return r.apply(s,a),s}})}),cT=new Set(["end"]),sK="Node",oK=["mathWithTransform"],lK=V(sK,oK,t=>{var{mathWithTransform:e}=t;function r(i){for(var a of[...cT])if(i.has(a))throw new Error('Scope contains an illegal symbol, "'+a+'" is a reserved keyword')}class n{get type(){return"Node"}get isNode(){return!0}evaluate(a){return this.compile().evaluate(a)}compile(){var a=this._compile(e,{}),s={},o=null;function l(u){var c=Vo(u);return r(c),a(c,s,o)}return{evaluate:l}}_compile(a,s){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(a){throw new Error("Cannot run forEach on a Node interface")}map(a){throw new Error("Cannot run map on a Node interface")}_ifNode(a){if(!Ot(a))throw new TypeError("Callback function must return a Node");return a}traverse(a){a(this,null,null);function s(o,l){o.forEach(function(u,c,f){l(u,c,f),s(u,l)})}s(this,a)}transform(a){function s(o,l,u){var c=a(o,l,u);return c!==o?c:o.map(s)}return s(this,null,null)}filter(a){var s=[];return this.traverse(function(o,l,u){a(o,l,u)&&s.push(o)}),s}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(a){return a.cloneDeep()})}equals(a){return a?this.type===a.type&&ba(this,a):!1}toString(a){var s=this._getCustomString(a);return typeof s<"u"?s:this._toString(a)}_toString(){throw new Error("_toString not implemented for "+this.type)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(a){var s=this._getCustomString(a);return typeof s<"u"?s:this._toHTML(a)}_toHTML(){throw new Error("_toHTML not implemented for "+this.type)}toTex(a){var s=this._getCustomString(a);return typeof s<"u"?s:this._toTex(a)}_toTex(a){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(a){if(a&&typeof a=="object")switch(typeof a.handler){case"object":case"undefined":return;case"function":return a.handler(this,a);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}return n},{isClass:!0,isNode:!0});function vn(t){return t&&t.isIndexError?new yi(t.index+1,t.min+1,t.max!==void 0?t.max+1:void 0):t}function fT(t){var{subset:e}=t;return function(n,i){try{if(Array.isArray(n))return e(n,i);if(n&&typeof n.subset=="function")return n.subset(i);if(typeof n=="string")return e(n,i);if(typeof n=="object"){if(!i.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return sn(n,i.getObjectProperty())}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(a){throw vn(a)}}}var Hc="AccessorNode",uK=["subset","Node"],cK=V(Hc,uK,t=>{var{subset:e,Node:r}=t,n=fT({subset:e});function i(s){return!(Qs(s)||Hn(s)||Et(s)||ns(s)||Fp(s)||ya(s)||Sr(s))}class a extends r{constructor(o,l){if(super(),!Ot(o))throw new TypeError('Node expected for parameter "object"');if(!pl(l))throw new TypeError('IndexNode expected for parameter "index"');this.object=o,this.index=l}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return Hc}get isAccessorNode(){return!0}_compile(o,l){var u=this.object._compile(o,l),c=this.index._compile(o,l);if(this.index.isObjectProperty()){var f=this.index.getObjectProperty();return function(p,h,m){return sn(u(p,h,m),f)}}else return function(p,h,m){var v=u(p,h,m),y=c(p,h,v);return n(v,y)}}forEach(o){o(this.object,"object",this),o(this.index,"index",this)}map(o){return new a(this._ifNode(o(this.object,"object",this)),this._ifNode(o(this.index,"index",this)))}clone(){return new a(this.object,this.index)}_toString(o){var l=this.object.toString(o);return i(this.object)&&(l="("+l+")"),l+this.index.toString(o)}_toHTML(o){var l=this.object.toHTML(o);return i(this.object)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+this.index.toHTML(o)}_toTex(o){var l=this.object.toTex(o);return i(this.object)&&(l="\\left(' + object + '\\right)"),l+this.index.toTex(o)}toJSON(){return{mathjs:Hc,object:this.object,index:this.index}}static fromJSON(o){return new a(o.object,o.index)}}return cr(a,"name",Hc),a},{isClass:!0,isNode:!0}),Vc="ArrayNode",fK=["Node"],dK=V(Vc,fK,t=>{var{Node:e}=t;class r extends e{constructor(i){if(super(),this.items=i||[],!Array.isArray(this.items)||!this.items.every(Ot))throw new TypeError("Array containing Nodes expected")}get type(){return Vc}get isArrayNode(){return!0}_compile(i,a){var s=Qa(this.items,function(u){return u._compile(i,a)}),o=i.config.matrix!=="Array";if(o){var l=i.matrix;return function(c,f,d){return l(Qa(s,function(p){return p(c,f,d)}))}}else return function(c,f,d){return Qa(s,function(p){return p(c,f,d)})}}forEach(i){for(var a=0;a<this.items.length;a++){var s=this.items[a];i(s,"items["+a+"]",this)}}map(i){for(var a=[],s=0;s<this.items.length;s++)a[s]=this._ifNode(i(this.items[s],"items["+s+"]",this));return new r(a)}clone(){return new r(this.items.slice(0))}_toString(i){var a=this.items.map(function(s){return s.toString(i)});return"["+a.join(", ")+"]"}toJSON(){return{mathjs:Vc,items:this.items}}static fromJSON(i){return new r(i.items)}_toHTML(i){var a=this.items.map(function(s){return s.toHTML(i)});return'<span class="math-parenthesis math-square-parenthesis">[</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(i){function a(s,o){var l=s.some(Hn)&&!s.every(Hn),u=o||l,c=u?"&":"\\\\",f=s.map(function(d){return d.items?a(d.items,!o):d.toTex(i)}).join(c);return l||!u||u&&!o?"\\begin{bmatrix}"+f+"\\end{bmatrix}":f}return a(this.items,!1)}}return cr(r,"name",Vc),r},{isClass:!0,isNode:!0});function pK(t){var{subset:e,matrix:r}=t;return function(i,a,s){try{if(Array.isArray(i)){var o=r(i).subset(a,s).valueOf();return o.forEach((l,u)=>{i[u]=l}),i}else{if(i&&typeof i.subset=="function")return i.subset(a,s);if(typeof i=="string")return e(i,a,s);if(typeof i=="object"){if(!a.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return nl(i,a.getObjectProperty(),s),i}else throw new TypeError("Cannot apply index: unsupported type of object")}}catch(l){throw vn(l)}}}var oi=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function Wc(t,e){if(!e||e!=="auto")return t;for(var r=t;ya(r);)r=r.content;return r}function kt(t,e,r,n){var i=t;e!=="keep"&&(i=t.getContent());for(var a=i.getIdentifier(),s=null,o=0;o<oi.length;o++)if(a in oi[o]){s=o;break}if(a==="OperatorNode:multiply"&&i.implicit&&r!=="show"){var l=Wc(i.args[0],e);!(Et(l)&&n&&n.getIdentifier()==="OperatorNode:divide"&&wg(Wc(n.args[0],e)))&&!(l.getIdentifier()==="OperatorNode:divide"&&wg(Wc(l.args[0],e))&&Et(Wc(l.args[1])))&&(s+=1)}return s}function Ll(t,e){var r=t;e!=="keep"&&(r=t.getContent());var n=r.getIdentifier(),i=kt(r,e);if(i===null)return null;var a=oi[i][n];if(Re(a,"associativity")){if(a.associativity==="left")return"left";if(a.associativity==="right")return"right";throw Error("'"+n+"' has the invalid associativity '"+a.associativity+"'.")}return null}function hm(t,e,r){var n=r!=="keep"?t.getContent():t,i=r!=="keep"?t.getContent():e,a=n.getIdentifier(),s=i.getIdentifier(),o=kt(n,r);if(o===null)return null;var l=oi[o][a];if(Re(l,"associativeWith")&&l.associativeWith instanceof Array){for(var u=0;u<l.associativeWith.length;u++)if(l.associativeWith[u]===s)return!0;return!1}return null}function hK(t){var e="OperatorNode:"+t;for(var r of oi)if(e in r)return r[e].op;return null}var Gc="AssignmentNode",mK=["subset","?matrix","Node"],gK=V(Gc,mK,t=>{var{subset:e,matrix:r,Node:n}=t,i=fT({subset:e}),a=pK({subset:e,matrix:r});function s(l,u,c){u||(u="keep");var f=kt(l,u,c),d=kt(l.value,u,c);return u==="all"||d!==null&&d<=f}class o extends n{constructor(u,c,f){if(super(),this.object=u,this.index=f?c:null,this.value=f||c,!Sr(u)&&!Qs(u))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(Sr(u)&&u.name==="end")throw new Error('Cannot assign to symbol "end"');if(this.index&&!pl(this.index))throw new TypeError('IndexNode expected as "index"');if(!Ot(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return Gc}get isAssignmentNode(){return!0}_compile(u,c){var f=this.object._compile(u,c),d=this.index?this.index._compile(u,c):null,p=this.value._compile(u,c),h=this.object.name;if(this.index)if(this.index.isObjectProperty()){var m=this.index.getObjectProperty();return function(w,x,b){var A=f(w,x,b),D=p(w,x,b);return nl(A,m,D),D}}else{if(Sr(this.object))return function(w,x,b){var A=f(w,x,b),D=p(w,x,b),E=d(w,x,A);return w.set(h,a(A,E,D)),D};var v=this.object.object._compile(u,c);if(this.object.index.isObjectProperty()){var y=this.object.index.getObjectProperty();return function(w,x,b){var A=v(w,x,b),D=sn(A,y),E=d(w,x,D),N=p(w,x,b);return nl(A,y,a(D,E,N)),N}}else{var S=this.object.index._compile(u,c);return function(w,x,b){var A=v(w,x,b),D=S(w,x,A),E=i(A,D),N=d(w,x,E),C=p(w,x,b);return a(A,D,a(E,N,C)),C}}}else{if(!Sr(this.object))throw new TypeError("SymbolNode expected as object");return function(w,x,b){var A=p(w,x,b);return w.set(h,A),A}}}forEach(u){u(this.object,"object",this),this.index&&u(this.index,"index",this),u(this.value,"value",this)}map(u){var c=this._ifNode(u(this.object,"object",this)),f=this.index?this._ifNode(u(this.index,"index",this)):null,d=this._ifNode(u(this.value,"value",this));return new o(c,f,d)}clone(){return new o(this.object,this.index,this.value)}_toString(u){var c=this.object.toString(u),f=this.index?this.index.toString(u):"",d=this.value.toString(u);return s(this,u&&u.parenthesis,u&&u.implicit)&&(d="("+d+")"),c+f+" = "+d}toJSON(){return{mathjs:Gc,object:this.object,index:this.index,value:this.value}}static fromJSON(u){return new o(u.object,u.index,u.value)}_toHTML(u){var c=this.object.toHTML(u),f=this.index?this.index.toHTML(u):"",d=this.value.toHTML(u);return s(this,u&&u.parenthesis,u&&u.implicit)&&(d='<span class="math-paranthesis math-round-parenthesis">(</span>'+d+'<span class="math-paranthesis math-round-parenthesis">)</span>'),c+f+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+d}_toTex(u){var c=this.object.toTex(u),f=this.index?this.index.toTex(u):"",d=this.value.toTex(u);return s(this,u&&u.parenthesis,u&&u.implicit)&&(d="\\left(".concat(d,"\\right)")),c+f+"="+d}}return cr(o,"name",Gc),o},{isClass:!0,isNode:!0}),jc="BlockNode",vK=["ResultSet","Node"],yK=V(jc,vK,t=>{var{ResultSet:e,Node:r}=t;class n extends r{constructor(a){if(super(),!Array.isArray(a))throw new Error("Array expected");this.blocks=a.map(function(s){var o=s&&s.node,l=s&&s.visible!==void 0?s.visible:!0;if(!Ot(o))throw new TypeError('Property "node" must be a Node');if(typeof l!="boolean")throw new TypeError('Property "visible" must be a boolean');return{node:o,visible:l}})}get type(){return jc}get isBlockNode(){return!0}_compile(a,s){var o=Qa(this.blocks,function(l){return{evaluate:l.node._compile(a,s),visible:l.visible}});return function(u,c,f){var d=[];return j2(o,function(h){var m=h.evaluate(u,c,f);h.visible&&d.push(m)}),new e(d)}}forEach(a){for(var s=0;s<this.blocks.length;s++)a(this.blocks[s].node,"blocks["+s+"].node",this)}map(a){for(var s=[],o=0;o<this.blocks.length;o++){var l=this.blocks[o],u=this._ifNode(a(l.node,"blocks["+o+"].node",this));s[o]={node:u,visible:l.visible}}return new n(s)}clone(){var a=this.blocks.map(function(s){return{node:s.node,visible:s.visible}});return new n(a)}_toString(a){return this.blocks.map(function(s){return s.node.toString(a)+(s.visible?"":";")}).join(`
`)}toJSON(){return{mathjs:jc,blocks:this.blocks}}static fromJSON(a){return new n(a.blocks)}_toHTML(a){return this.blocks.map(function(s){return s.node.toHTML(a)+(s.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(a){return this.blocks.map(function(s){return s.node.toTex(a)+(s.visible?"":";")}).join(`\\;\\;
`)}}return cr(n,"name",jc),n},{isClass:!0,isNode:!0}),Kc="ConditionalNode",bK=["Node"],xK=V(Kc,bK,t=>{var{Node:e}=t;function r(i){if(typeof i=="number"||typeof i=="boolean"||typeof i=="string")return!!i;if(i){if(lt(i))return!i.isZero();if(ha(i))return!!(i.re||i.im);if(Vn(i))return!!i.value}if(i==null)return!1;throw new TypeError('Unsupported type of condition "'+It(i)+'"')}class n extends e{constructor(a,s,o){if(super(),!Ot(a))throw new TypeError("Parameter condition must be a Node");if(!Ot(s))throw new TypeError("Parameter trueExpr must be a Node");if(!Ot(o))throw new TypeError("Parameter falseExpr must be a Node");this.condition=a,this.trueExpr=s,this.falseExpr=o}get type(){return Kc}get isConditionalNode(){return!0}_compile(a,s){var o=this.condition._compile(a,s),l=this.trueExpr._compile(a,s),u=this.falseExpr._compile(a,s);return function(f,d,p){return r(o(f,d,p))?l(f,d,p):u(f,d,p)}}forEach(a){a(this.condition,"condition",this),a(this.trueExpr,"trueExpr",this),a(this.falseExpr,"falseExpr",this)}map(a){return new n(this._ifNode(a(this.condition,"condition",this)),this._ifNode(a(this.trueExpr,"trueExpr",this)),this._ifNode(a(this.falseExpr,"falseExpr",this)))}clone(){return new n(this.condition,this.trueExpr,this.falseExpr)}_toString(a){var s=a&&a.parenthesis?a.parenthesis:"keep",o=kt(this,s,a&&a.implicit),l=this.condition.toString(a),u=kt(this.condition,s,a&&a.implicit);(s==="all"||this.condition.type==="OperatorNode"||u!==null&&u<=o)&&(l="("+l+")");var c=this.trueExpr.toString(a),f=kt(this.trueExpr,s,a&&a.implicit);(s==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=o)&&(c="("+c+")");var d=this.falseExpr.toString(a),p=kt(this.falseExpr,s,a&&a.implicit);return(s==="all"||this.falseExpr.type==="OperatorNode"||p!==null&&p<=o)&&(d="("+d+")"),l+" ? "+c+" : "+d}toJSON(){return{mathjs:Kc,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(a){return new n(a.condition,a.trueExpr,a.falseExpr)}_toHTML(a){var s=a&&a.parenthesis?a.parenthesis:"keep",o=kt(this,s,a&&a.implicit),l=this.condition.toHTML(a),u=kt(this.condition,s,a&&a.implicit);(s==="all"||this.condition.type==="OperatorNode"||u!==null&&u<=o)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>');var c=this.trueExpr.toHTML(a),f=kt(this.trueExpr,s,a&&a.implicit);(s==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=o)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>');var d=this.falseExpr.toHTML(a),p=kt(this.falseExpr,s,a&&a.implicit);return(s==="all"||this.falseExpr.type==="OperatorNode"||p!==null&&p<=o)&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+'<span class="math-operator math-conditional-operator">?</span>'+c+'<span class="math-operator math-conditional-operator">:</span>'+d}_toTex(a){return"\\begin{cases} {"+this.trueExpr.toTex(a)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(a)+"}\\\\{"+this.falseExpr.toTex(a)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return cr(n,"name",Kc),n},{isClass:!0,isNode:!0}),mm,XS;function wK(){if(XS)return mm;XS=1;var t=Object.assign||function(i){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])}return i},e={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},r={"":"\\--","":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},n=function(a,s){return t({},a,s)};return mm=function(i){for(var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.preserveFormatting,o=s===void 0?!1:s,l=a.escapeMapFn,u=l===void 0?n:l,c=String(i),f="",d=u(t({},e),o?t({},r):{}),p=Object.keys(d),h=function(){var v=!1;p.forEach(function(y,S){v||c.length>=y.length&&c.slice(0,y.length)===y&&(f+=d[p[S]],c=c.slice(y.length,c.length),v=!0)}),v||(f+=c.slice(0,1),c=c.slice(1,c.length))};c;)h();return f},mm}var SK=wK();const EK=f0(SK);var qg={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},Nt={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},ZS={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(Nt.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(Nt.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(Nt.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(Nt.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(Nt.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},fraction:{2:"\\frac{${args[0]}}{${args[1]}}"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(Nt.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(Nt.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : y^${args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(Nt.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(Nt.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(Nt.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(Nt.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(Nt.bitAnd,"${args[1]}\\right)")},bitNot:{1:Nt.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(Nt.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(Nt.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(Nt.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(Nt.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(Nt.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(Nt.and,"${args[1]}\\right)")},not:{1:Nt.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(Nt.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(Nt.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(Nt.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(Nt.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(Nt.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(Nt.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(Nt.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(Nt.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(Nt.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(Nt.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(Nt.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(Nt.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(Nt.to,"${args[1]}\\right)")},numeric:function(e,r){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},bigint:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(qg.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},AK="\\mathrm{${name}}\\left(${args}\\right)",QS={deg:"^\\circ"};function Ug(t){return EK(t,{preserveFormatting:!0})}function dT(t,e){return e=typeof e>"u"?!1:e,e?Re(QS,t)?QS[t]:"\\mathrm{"+Ug(t)+"}":Re(qg,t)?qg[t]:Ug(t)}var Jc="ConstantNode",NK=["Node"],DK=V(Jc,NK,t=>{var{Node:e}=t;class r extends e{constructor(i){super(),this.value=i}get type(){return Jc}get isConstantNode(){return!0}_compile(i,a){var s=this.value;return function(){return s}}forEach(i){}map(i){return this.clone()}clone(){return new r(this.value)}_toString(i){return ht(this.value,i)}_toHTML(i){var a=this._toString(i);switch(It(this.value)){case"number":case"bigint":case"BigNumber":case"Fraction":return'<span class="math-number">'+a+"</span>";case"string":return'<span class="math-string">'+a+"</span>";case"boolean":return'<span class="math-boolean">'+a+"</span>";case"null":return'<span class="math-null-symbol">'+a+"</span>";case"undefined":return'<span class="math-undefined">'+a+"</span>";default:return'<span class="math-symbol">'+a+"</span>"}}toJSON(){return{mathjs:Jc,value:this.value}}static fromJSON(i){return new r(i.value)}_toTex(i){var a=this._toString(i),s=It(this.value);switch(s){case"string":return"\\mathtt{"+Ug(a)+"}";case"number":case"BigNumber":{var o=s==="BigNumber"?this.value.isFinite():isFinite(this.value);if(!o)return this.value.valueOf()<0?"-\\infty":"\\infty";var l=a.toLowerCase().indexOf("e");return l!==-1?a.substring(0,l)+"\\cdot10^{"+a.substring(l+1)+"}":a}case"bigint":return a.toString();case"Fraction":return this.value.toLatex();default:return a}}}return cr(r,"name",Jc),r},{isClass:!0,isNode:!0}),Yc="FunctionAssignmentNode",CK=["typed","Node"],MK=V(Yc,CK,t=>{var{typed:e,Node:r}=t;function n(a,s,o){var l=kt(a,s,o),u=kt(a.expr,s,o);return s==="all"||u!==null&&u<=l}class i extends r{constructor(s,o,l){if(super(),typeof s!="string")throw new TypeError('String expected for parameter "name"');if(!Array.isArray(o))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!Ot(l))throw new TypeError('Node expected for parameter "expr"');if(cT.has(s))throw new Error('Illegal function name, "'+s+'" is a reserved keyword');var u=new Set;for(var c of o){var f=typeof c=="string"?c:c.name;if(u.has(f))throw new Error('Duplicate parameter name "'.concat(f,'"'));u.add(f)}this.name=s,this.params=o.map(function(d){return d&&d.name||d}),this.types=o.map(function(d){return d&&d.type||"any"}),this.expr=l}get type(){return Yc}get isFunctionAssignmentNode(){return!0}_compile(s,o){var l=Object.create(o);j2(this.params,function(h){l[h]=!0});var u=this.expr._compile(s,l),c=this.name,f=this.params,d=Zb(this.types,","),p=c+"("+Zb(this.params,", ")+")";return function(m,v,y){var S={};S[d]=function(){for(var w=Object.create(v),x=0;x<f.length;x++)w[f[x]]=arguments[x];return u(m,w,y)};var g=e(c,S);return g.syntax=p,m.set(c,g),g}}forEach(s){s(this.expr,"expr",this)}map(s){var o=this._ifNode(s(this.expr,"expr",this));return new i(this.name,this.params.slice(0),o)}clone(){return new i(this.name,this.params.slice(0),this.expr)}_toString(s){var o=s&&s.parenthesis?s.parenthesis:"keep",l=this.expr.toString(s);return n(this,o,s&&s.implicit)&&(l="("+l+")"),this.name+"("+this.params.join(", ")+") = "+l}toJSON(){var s=this.types;return{mathjs:Yc,name:this.name,params:this.params.map(function(o,l){return{name:o,type:s[l]}}),expr:this.expr}}static fromJSON(s){return new i(s.name,s.params,s.expr)}_toHTML(s){for(var o=s&&s.parenthesis?s.parenthesis:"keep",l=[],u=0;u<this.params.length;u++)l.push('<span class="math-symbol math-parameter">'+Gn(this.params[u])+"</span>");var c=this.expr.toHTML(s);return n(this,o,s&&s.implicit)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+Gn(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+c}_toTex(s){var o=s&&s.parenthesis?s.parenthesis:"keep",l=this.expr.toTex(s);return n(this,o,s&&s.implicit)&&(l="\\left(".concat(l,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(dT).join(",")+"\\right)="+l}}return cr(i,"name",Yc),i},{isClass:!0,isNode:!0}),Xc="IndexNode",TK=["Node","size"],_K=V(Xc,TK,t=>{var{Node:e,size:r}=t;class n extends e{constructor(a,s){if(super(),this.dimensions=a,this.dotNotation=s||!1,!Array.isArray(a)||!a.every(Ot))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return Xc}get isIndexNode(){return!0}_compile(a,s){var o=Qa(this.dimensions,function(u,c){var f=u.filter(h=>h.isSymbolNode&&h.name==="end").length>0;if(f){var d=Object.create(s);d.end=!0;var p=u._compile(a,d);return function(m,v,y){if(!Ge(y)&&!Bt(y)&&!Gr(y))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+It(y));var S=r(y).valueOf(),g=Object.create(v);return g.end=S[c],p(m,g,y)}}else return u._compile(a,s)}),l=sn(a,"index");return function(c,f,d){var p=Qa(o,function(h){return h(c,f,d)});return l(...p)}}forEach(a){for(var s=0;s<this.dimensions.length;s++)a(this.dimensions[s],"dimensions["+s+"]",this)}map(a){for(var s=[],o=0;o<this.dimensions.length;o++)s[o]=this._ifNode(a(this.dimensions[o],"dimensions["+o+"]",this));return new n(s,this.dotNotation)}clone(){return new n(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return this.dimensions.length===1&&Et(this.dimensions[0])&&typeof this.dimensions[0].value=="string"}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(a){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:Xc,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(a){return new n(a.dimensions,a.dotNotation)}_toHTML(a){for(var s=[],o=0;o<this.dimensions.length;o++)s[o]=this.dimensions[o].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+Gn(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+s.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(a){var s=this.dimensions.map(function(o){return o.toTex(a)});return this.dotNotation?"."+this.getObjectProperty():"_{"+s.join(",")+"}"}}return cr(n,"name",Xc),n},{isClass:!0,isNode:!0}),Zc="ObjectNode",OK=["Node"],FK=V(Zc,OK,t=>{var{Node:e}=t;class r extends e{constructor(i){if(super(),this.properties=i||{},i&&(typeof i!="object"||!Object.keys(i).every(function(a){return Ot(i[a])})))throw new TypeError("Object containing Nodes expected")}get type(){return Zc}get isObjectNode(){return!0}_compile(i,a){var s={};for(var o in this.properties)if(Re(this.properties,o)){var l=Bo(o),u=JSON.parse(l),c=sn(this.properties,o);s[u]=c._compile(i,a)}return function(d,p,h){var m={};for(var v in s)Re(s,v)&&(m[v]=s[v](d,p,h));return m}}forEach(i){for(var a in this.properties)Re(this.properties,a)&&i(this.properties[a],"properties["+Bo(a)+"]",this)}map(i){var a={};for(var s in this.properties)Re(this.properties,s)&&(a[s]=this._ifNode(i(this.properties[s],"properties["+Bo(s)+"]",this)));return new r(a)}clone(){var i={};for(var a in this.properties)Re(this.properties,a)&&(i[a]=this.properties[a]);return new r(i)}_toString(i){var a=[];for(var s in this.properties)Re(this.properties,s)&&a.push(Bo(s)+": "+this.properties[s].toString(i));return"{"+a.join(", ")+"}"}toJSON(){return{mathjs:Zc,properties:this.properties}}static fromJSON(i){return new r(i.properties)}_toHTML(i){var a=[];for(var s in this.properties)Re(this.properties,s)&&a.push('<span class="math-symbol math-property">'+Gn(s)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[s].toHTML(i));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(i){var a=[];for(var s in this.properties)Re(this.properties,s)&&a.push("\\mathbf{"+s+":} & "+this.properties[s].toTex(i)+"\\\\");var o="\\left\\{\\begin{array}{ll}"+a.join(`
`)+"\\end{array}\\right\\}";return o}}return cr(r,"name",Zc),r},{isClass:!0,isNode:!0});function jl(t,e){return new b2(t,new Tp(e),new Set(Object.keys(e)))}var Qc="OperatorNode",BK=["Node"],kK=V(Qc,BK,t=>{var{Node:e}=t;function r(a,s){var o=a;if(s==="auto")for(;ya(o);)o=o.content;return Et(o)?!0:ir(o)?r(o.args[0],s):!1}function n(a,s,o,l,u){var c=kt(a,s,o),f=Ll(a,s);if(s==="all"||l.length>2&&a.getIdentifier()!=="OperatorNode:add"&&a.getIdentifier()!=="OperatorNode:multiply")return l.map(function(N){switch(N.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});var d;switch(l.length){case 0:d=[];break;case 1:{var p=kt(l[0],s,o,a);if(u&&p!==null){var h,m;if(s==="keep"?(h=l[0].getIdentifier(),m=a.getIdentifier()):(h=l[0].getContent().getIdentifier(),m=a.getContent().getIdentifier()),oi[c][m].latexLeftParens===!1){d=[!1];break}if(oi[p][h].latexParens===!1){d=[!1];break}}if(p===null){d=[!1];break}if(p<=c){d=[!0];break}d=[!1]}break;case 2:{var v,y=kt(l[0],s,o,a),S=hm(a,l[0],s);y===null?v=!1:y===c&&f==="right"&&!S||y<c?v=!0:v=!1;var g,w=kt(l[1],s,o,a),x=hm(a,l[1],s);if(w===null?g=!1:w===c&&f==="left"&&!x||w<c?g=!0:g=!1,u){var b,A,D;s==="keep"?(b=a.getIdentifier(),A=a.args[0].getIdentifier(),D=a.args[1].getIdentifier()):(b=a.getContent().getIdentifier(),A=a.args[0].getContent().getIdentifier(),D=a.args[1].getContent().getIdentifier()),y!==null&&(oi[c][b].latexLeftParens===!1&&(v=!1),oi[y][A].latexParens===!1&&(v=!1)),w!==null&&(oi[c][b].latexRightParens===!1&&(g=!1),oi[w][D].latexParens===!1&&(g=!1))}d=[v,g]}break;default:(a.getIdentifier()==="OperatorNode:add"||a.getIdentifier()==="OperatorNode:multiply")&&(d=l.map(function(N){var C=kt(N,s,o,a),M=hm(a,N,s),F=Ll(N,s);return C===null?!1:c===C&&f===F&&!M?!0:C<c}));break}if(l.length>=2&&a.getIdentifier()==="OperatorNode:multiply"&&a.implicit&&s!=="all"&&o==="hide")for(var E=1;E<d.length;++E)r(l[E],s)&&!d[E-1]&&(s!=="keep"||!ya(l[E-1]))&&(d[E]=!0);return d}class i extends e{constructor(s,o,l,u,c){if(super(),typeof s!="string")throw new TypeError('string expected for parameter "op"');if(typeof o!="string")throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(l)||!l.every(Ot))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=u===!0,this.isPercentage=c===!0,this.op=s,this.fn=o,this.args=l||[]}get type(){return Qc}get isOperatorNode(){return!0}_compile(s,o){if(typeof this.fn!="string"||!Jv(s,this.fn))throw s[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var l=sn(s,this.fn),u=Qa(this.args,function(h){return h._compile(s,o)});if(typeof l=="function"&&l.rawArgs===!0){var c=this.args;return function(m,v,y){return l(c,s,jl(m,v))}}else if(u.length===1){var f=u[0];return function(m,v,y){return l(f(m,v,y))}}else if(u.length===2){var d=u[0],p=u[1];return function(m,v,y){return l(d(m,v,y),p(m,v,y))}}else return function(m,v,y){return l.apply(null,Qa(u,function(S){return S(m,v,y)}))}}forEach(s){for(var o=0;o<this.args.length;o++)s(this.args[o],"args["+o+"]",this)}map(s){for(var o=[],l=0;l<this.args.length;l++)o[l]=this._ifNode(s(this.args[l],"args["+l+"]",this));return new i(this.op,this.fn,o,this.implicit,this.isPercentage)}clone(){return new i(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return this.args.length===1}isBinary(){return this.args.length===2}_toString(s){var o=s&&s.parenthesis?s.parenthesis:"keep",l=s&&s.implicit?s.implicit:"hide",u=this.args,c=n(this,o,l,u,!1);if(u.length===1){var f=Ll(this,o),d=u[0].toString(s);c[0]&&(d="("+d+")");var p=/[a-zA-Z]+/.test(this.op);return f==="right"?this.op+(p?" ":"")+d:f==="left"?d+(p?" ":"")+this.op:d+this.op}else if(u.length===2){var h=u[0].toString(s),m=u[1].toString(s);return c[0]&&(h="("+h+")"),c[1]&&(m="("+m+")"),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?h+" "+m:h+" "+this.op+" "+m}else if(u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var v=u.map(function(y,S){return y=y.toString(s),c[S]&&(y="("+y+")"),y});return this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?v.join(" "):v.join(" "+this.op+" ")}else return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:Qc,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(s){return new i(s.op,s.fn,s.args,s.implicit,s.isPercentage)}_toHTML(s){var o=s&&s.parenthesis?s.parenthesis:"keep",l=s&&s.implicit?s.implicit:"hide",u=this.args,c=n(this,o,l,u,!1);if(u.length===1){var f=Ll(this,o),d=u[0].toHTML(s);return c[0]&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f==="right"?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+Gn(this.op)+"</span>"+d:d+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+Gn(this.op)+"</span>"}else if(u.length===2){var p=u[0].toHTML(s),h=u[1].toHTML(s);return c[0]&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),c[1]&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?p+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+h:p+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Gn(this.op)+"</span>"+h}else{var m=u.map(function(v,y){return v=v.toHTML(s),c[y]&&(v='<span class="math-parenthesis math-round-parenthesis">(</span>'+v+'<span class="math-parenthesis math-round-parenthesis">)</span>'),v});return u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")?this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?m.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):m.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Gn(this.op)+"</span>"):'<span class="math-function">'+Gn(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+m.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}}_toTex(s){var o=s&&s.parenthesis?s.parenthesis:"keep",l=s&&s.implicit?s.implicit:"hide",u=this.args,c=n(this,o,l,u,!0),f=Nt[this.fn];if(f=typeof f>"u"?this.op:f,u.length===1){var d=Ll(this,o),p=u[0].toTex(s);return c[0]&&(p="\\left(".concat(p,"\\right)")),d==="right"?f+p:p+f}else if(u.length===2){var h=u[0],m=h.toTex(s);c[0]&&(m="\\left(".concat(m,"\\right)"));var v=u[1],y=v.toTex(s);c[1]&&(y="\\left(".concat(y,"\\right)"));var S;switch(o==="keep"?S=h.getIdentifier():S=h.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return f+"{"+m+"}{"+y+"}";case"OperatorNode:pow":switch(m="{"+m+"}",y="{"+y+"}",S){case"ConditionalNode":case"OperatorNode:divide":m="\\left(".concat(m,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&l==="hide")return m+"~"+y}return m+f+y}else if(u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var g=u.map(function(w,x){return w=w.toTex(s),c[x]&&(w="\\left(".concat(w,"\\right)")),w});return this.getIdentifier()==="OperatorNode:multiply"&&this.implicit&&l==="hide"?g.join("~"):g.join(f)}else return"\\mathrm{"+this.fn+"}\\left("+u.map(function(w){return w.toTex(s)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return cr(i,"name",Qc),i},{isClass:!0,isNode:!0}),ef="ParenthesisNode",IK=["Node"],RK=V(ef,IK,t=>{var{Node:e}=t;class r extends e{constructor(i){if(super(),!Ot(i))throw new TypeError('Node expected for parameter "content"');this.content=i}get type(){return ef}get isParenthesisNode(){return!0}_compile(i,a){return this.content._compile(i,a)}getContent(){return this.content.getContent()}forEach(i){i(this.content,"content",this)}map(i){var a=i(this.content,"content",this);return new r(a)}clone(){return new r(this.content)}_toString(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"("+this.content.toString(i)+")":this.content.toString(i)}toJSON(){return{mathjs:ef,content:this.content}}static fromJSON(i){return new r(i.content)}_toHTML(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(i)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(i)}_toTex(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"\\left(".concat(this.content.toTex(i),"\\right)"):this.content.toTex(i)}}return cr(r,"name",ef),r},{isClass:!0,isNode:!0}),tf="RangeNode",PK=["Node"],$K=V(tf,PK,t=>{var{Node:e}=t;function r(i,a,s){var o=kt(i,a,s),l={},u=kt(i.start,a,s);if(l.start=u!==null&&u<=o||a==="all",i.step){var c=kt(i.step,a,s);l.step=c!==null&&c<=o||a==="all"}var f=kt(i.end,a,s);return l.end=f!==null&&f<=o||a==="all",l}class n extends e{constructor(a,s,o){if(super(),!Ot(a))throw new TypeError("Node expected");if(!Ot(s))throw new TypeError("Node expected");if(o&&!Ot(o))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=a,this.end=s,this.step=o||null}get type(){return tf}get isRangeNode(){return!0}needsEnd(){var a=this.filter(function(s){return Sr(s)&&s.name==="end"});return a.length>0}_compile(a,s){var o=a.range,l=this.start._compile(a,s),u=this.end._compile(a,s);if(this.step){var c=this.step._compile(a,s);return function(d,p,h){return o(l(d,p,h),u(d,p,h),c(d,p,h))}}else return function(d,p,h){return o(l(d,p,h),u(d,p,h))}}forEach(a){a(this.start,"start",this),a(this.end,"end",this),this.step&&a(this.step,"step",this)}map(a){return new n(this._ifNode(a(this.start,"start",this)),this._ifNode(a(this.end,"end",this)),this.step&&this._ifNode(a(this.step,"step",this)))}clone(){return new n(this.start,this.end,this.step&&this.step)}_toString(a){var s=a&&a.parenthesis?a.parenthesis:"keep",o=r(this,s,a&&a.implicit),l,u=this.start.toString(a);if(o.start&&(u="("+u+")"),l=u,this.step){var c=this.step.toString(a);o.step&&(c="("+c+")"),l+=":"+c}var f=this.end.toString(a);return o.end&&(f="("+f+")"),l+=":"+f,l}toJSON(){return{mathjs:tf,start:this.start,end:this.end,step:this.step}}static fromJSON(a){return new n(a.start,a.end,a.step)}_toHTML(a){var s=a&&a.parenthesis?a.parenthesis:"keep",o=r(this,s,a&&a.implicit),l,u=this.start.toHTML(a);if(o.start&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l=u,this.step){var c=this.step.toHTML(a);o.step&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+='<span class="math-operator math-range-operator">:</span>'+c}var f=this.end.toHTML(a);return o.end&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+='<span class="math-operator math-range-operator">:</span>'+f,l}_toTex(a){var s=a&&a.parenthesis?a.parenthesis:"keep",o=r(this,s,a&&a.implicit),l=this.start.toTex(a);if(o.start&&(l="\\left(".concat(l,"\\right)")),this.step){var u=this.step.toTex(a);o.step&&(u="\\left(".concat(u,"\\right)")),l+=":"+u}var c=this.end.toTex(a);return o.end&&(c="\\left(".concat(c,"\\right)")),l+=":"+c,l}}return cr(n,"name",tf),n},{isClass:!0,isNode:!0}),rf="RelationalNode",LK=["Node"],zK=V(rf,LK,t=>{var{Node:e}=t,r={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class n extends e{constructor(a,s){if(super(),!Array.isArray(a))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(s))throw new TypeError("Parameter params must be an array");if(a.length!==s.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=a,this.params=s}get type(){return rf}get isRelationalNode(){return!0}_compile(a,s){var o=this,l=this.params.map(u=>u._compile(a,s));return function(c,f,d){for(var p,h=l[0](c,f,d),m=0;m<o.conditionals.length;m++){p=h,h=l[m+1](c,f,d);var v=sn(a,o.conditionals[m]);if(!v(p,h))return!1}return!0}}forEach(a){this.params.forEach((s,o)=>a(s,"params["+o+"]",this),this)}map(a){return new n(this.conditionals.slice(),this.params.map((s,o)=>this._ifNode(a(s,"params["+o+"]",this)),this))}clone(){return new n(this.conditionals,this.params)}_toString(a){for(var s=a&&a.parenthesis?a.parenthesis:"keep",o=kt(this,s,a&&a.implicit),l=this.params.map(function(f,d){var p=kt(f,s,a&&a.implicit);return s==="all"||p!==null&&p<=o?"("+f.toString(a)+")":f.toString(a)}),u=l[0],c=0;c<this.conditionals.length;c++)u+=" "+r[this.conditionals[c]],u+=" "+l[c+1];return u}toJSON(){return{mathjs:rf,conditionals:this.conditionals,params:this.params}}static fromJSON(a){return new n(a.conditionals,a.params)}_toHTML(a){for(var s=a&&a.parenthesis?a.parenthesis:"keep",o=kt(this,s,a&&a.implicit),l=this.params.map(function(f,d){var p=kt(f,s,a&&a.implicit);return s==="all"||p!==null&&p<=o?'<span class="math-parenthesis math-round-parenthesis">(</span>'+f.toHTML(a)+'<span class="math-parenthesis math-round-parenthesis">)</span>':f.toHTML(a)}),u=l[0],c=0;c<this.conditionals.length;c++)u+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Gn(r[this.conditionals[c]])+"</span>"+l[c+1];return u}_toTex(a){for(var s=a&&a.parenthesis?a.parenthesis:"keep",o=kt(this,s,a&&a.implicit),l=this.params.map(function(f,d){var p=kt(f,s,a&&a.implicit);return s==="all"||p!==null&&p<=o?"\\left("+f.toTex(a)+"\right)":f.toTex(a)}),u=l[0],c=0;c<this.conditionals.length;c++)u+=Nt[this.conditionals[c]]+l[c+1];return u}}return cr(n,"name",rf),n},{isClass:!0,isNode:!0}),qK="SymbolNode",UK=["math","?Unit","Node"],HK=V(qK,UK,t=>{var{math:e,Unit:r,Node:n}=t;function i(s){return r?r.isValuelessUnit(s):!1}class a extends n{constructor(o){if(super(),typeof o!="string")throw new TypeError('String expected for parameter "name"');this.name=o}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(o,l){var u=this.name;if(l[u]===!0)return function(f,d,p){return sn(d,u)};if(u in o)return function(f,d,p){return f.has(u)?f.get(u):sn(o,u)};var c=i(u);return function(f,d,p){return f.has(u)?f.get(u):c?new r(null,u):a.onUndefinedSymbol(u)}}forEach(o){}map(o){return this.clone()}static onUndefinedSymbol(o){throw new Error("Undefined symbol "+o)}clone(){return new a(this.name)}_toString(o){return this.name}_toHTML(o){var l=Gn(this.name);return l==="true"||l==="false"?'<span class="math-symbol math-boolean">'+l+"</span>":l==="i"?'<span class="math-symbol math-imaginary-symbol">'+l+"</span>":l==="Infinity"?'<span class="math-symbol math-infinity-symbol">'+l+"</span>":l==="NaN"?'<span class="math-symbol math-nan-symbol">'+l+"</span>":l==="null"?'<span class="math-symbol math-null-symbol">'+l+"</span>":l==="undefined"?'<span class="math-symbol math-undefined-symbol">'+l+"</span>":'<span class="math-symbol">'+l+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(o){return new a(o.name)}_toTex(o){var l=!1;typeof e[this.name]>"u"&&i(this.name)&&(l=!0);var u=dT(this.name,l);return u[0]==="\\"?u:" "+u}}return a},{isClass:!0,isNode:!0}),nf="FunctionNode",VK=["math","Node","SymbolNode"],WK=V(nf,VK,t=>{var e,{math:r,Node:n,SymbolNode:i}=t,a=l=>ht(l,{truncate:78});function s(l,u,c){for(var f="",d=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,p=0,h;(h=d.exec(l))!==null;)if(f+=l.substring(p,h.index),p=h.index,h[0]==="$$")f+="$",p++;else{p+=h[0].length;var m=u[h[1]];if(!m)throw new ReferenceError("Template: Property "+h[1]+" does not exist.");if(h[2]===void 0)switch(typeof m){case"string":f+=m;break;case"object":if(Ot(m))f+=m.toTex(c);else if(Array.isArray(m))f+=m.map(function(v,y){if(Ot(v))return v.toTex(c);throw new TypeError("Template: "+h[1]+"["+y+"] is not a Node.")}).join(",");else throw new TypeError("Template: "+h[1]+" has to be a Node, String or array of Nodes");break;default:throw new TypeError("Template: "+h[1]+" has to be a Node, String or array of Nodes")}else if(Ot(m[h[2]]&&m[h[2]]))f+=m[h[2]].toTex(c);else throw new TypeError("Template: "+h[1]+"["+h[2]+"] is not a Node.")}return f+=l.slice(p),f}class o extends n{constructor(u,c){if(super(),typeof u=="string"&&(u=new i(u)),!Ot(u))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(c)||!c.every(Ot))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=u,this.args=c||[]}get name(){return this.fn.name||""}get type(){return nf}get isFunctionNode(){return!0}_compile(u,c){var f=this.args.map(D=>D._compile(u,c));if(Sr(this.fn)){var d=this.fn.name;if(c[d]){var y=this.args;return function(E,N,C){var M=sn(N,d);if(typeof M!="function")throw new TypeError("Argument '".concat(d,"' was not a function; received: ").concat(a(M)));if(M.rawArgs)return M(y,u,jl(E,N));var F=f.map(I=>I(E,N,C));return M.apply(M,F)}}else{var p=d in u?sn(u,d):void 0,h=typeof p=="function"&&p.rawArgs===!0,m=D=>{var E;if(D.has(d))E=D.get(d);else if(d in u)E=sn(u,d);else return o.onUndefinedFunction(d);if(typeof E=="function")return E;throw new TypeError("'".concat(d,`' is not a function; its value is:
  `).concat(a(E)))};if(h){var v=this.args;return function(E,N,C){var M=m(E);if(M.rawArgs===!0)return M(v,u,jl(E,N));var F=f.map(I=>I(E,N,C));return M(...F)}}else switch(f.length){case 0:return function(E,N,C){var M=m(E);return M()};case 1:return function(E,N,C){var M=m(E),F=f[0];return M(F(E,N,C))};case 2:return function(E,N,C){var M=m(E),F=f[0],I=f[1];return M(F(E,N,C),I(E,N,C))};default:return function(E,N,C){var M=m(E),F=f.map(I=>I(E,N,C));return M(...F)}}}}else if(Qs(this.fn)&&pl(this.fn.index)&&this.fn.index.isObjectProperty()){var S=this.fn.object._compile(u,c),g=this.fn.index.getObjectProperty(),w=this.args;return function(E,N,C){var M=S(E,N,C),F=yz(M,g);if(F!=null&&F.rawArgs)return F(w,u,jl(E,N));var I=f.map(R=>R(E,N,C));return F.apply(M,I)}}else{var x=this.fn.toString(),b=this.fn._compile(u,c),A=this.args;return function(E,N,C){var M=b(E,N,C);if(typeof M!="function")throw new TypeError("Expression '".concat(x,"' did not evaluate to a function; value is:")+`
  `.concat(a(M)));if(M.rawArgs)return M(A,u,jl(E,N));var F=f.map(I=>I(E,N,C));return M.apply(M,F)}}}forEach(u){u(this.fn,"fn",this);for(var c=0;c<this.args.length;c++)u(this.args[c],"args["+c+"]",this)}map(u){for(var c=this._ifNode(u(this.fn,"fn",this)),f=[],d=0;d<this.args.length;d++)f[d]=this._ifNode(u(this.args[d],"args["+d+"]",this));return new o(c,f)}clone(){return new o(this.fn,this.args.slice(0))}toString(u){var c,f=this.fn.toString(u);return u&&typeof u.handler=="object"&&Re(u.handler,f)&&(c=u.handler[f](this,u)),typeof c<"u"?c:super.toString(u)}_toString(u){var c=this.args.map(function(d){return d.toString(u)}),f=Xu(this.fn)?"("+this.fn.toString(u)+")":this.fn.toString(u);return f+"("+c.join(", ")+")"}toJSON(){return{mathjs:nf,fn:this.fn,args:this.args}}_toHTML(u){var c=this.args.map(function(f){return f.toHTML(u)});return'<span class="math-function">'+Gn(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+c.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(u){var c;return u&&typeof u.handler=="object"&&Re(u.handler,this.name)&&(c=u.handler[this.name](this,u)),typeof c<"u"?c:super.toTex(u)}_toTex(u){var c=this.args.map(function(p){return p.toTex(u)}),f;ZS[this.name]&&(f=ZS[this.name]),r[this.name]&&(typeof r[this.name].toTex=="function"||typeof r[this.name].toTex=="object"||typeof r[this.name].toTex=="string")&&(f=r[this.name].toTex);var d;switch(typeof f){case"function":d=f(this,u);break;case"string":d=s(f,this,u);break;case"object":switch(typeof f[c.length]){case"function":d=f[c.length](this,u);break;case"string":d=s(f[c.length],this,u);break}}return typeof d<"u"?d:s(AK,this,u)}getIdentifier(){return this.type+":"+this.name}}return e=o,cr(o,"name",nf),cr(o,"onUndefinedFunction",function(l){throw new Error("Undefined function "+l)}),cr(o,"fromJSON",function(l){return new e(l.fn,l.args)}),o},{isClass:!0,isNode:!0}),eE="parse",GK=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],jK=V(eE,GK,t=>{var{typed:e,numeric:r,config:n,AccessorNode:i,ArrayNode:a,AssignmentNode:s,BlockNode:o,ConditionalNode:l,ConstantNode:u,FunctionAssignmentNode:c,FunctionNode:f,IndexNode:d,ObjectNode:p,OperatorNode:h,ParenthesisNode:m,RangeNode:v,RelationalNode:y,SymbolNode:S}=t,g=e(eE,{string:function(te){return ie(te,{})},"Array | Matrix":function(te){return w(te,{})},"string, Object":function(te,ge){var Se=ge.nodes!==void 0?ge.nodes:{};return ie(te,Se)},"Array | Matrix, Object":w});function w(O){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ge=te.nodes!==void 0?te.nodes:{};return ut(O,function(Se){if(typeof Se!="string")throw new TypeError("String expected");return ie(Se,ge)})}var x={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},b={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},A={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},D={true:!0,false:!1,null:null,undefined:void 0},E=["NaN","Infinity"],N={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function C(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:x.NULL,nestingLevel:0,conditionalLevel:null}}function M(O,te){return O.expression.substr(O.index,te)}function F(O){return M(O,1)}function I(O){O.index++}function R(O){return O.expression.charAt(O.index-1)}function T(O){return O.expression.charAt(O.index+1)}function L(O){for(O.tokenType=x.NULL,O.token="",O.comment="";;){if(F(O)==="#")for(;F(O)!==`
`&&F(O)!=="";)O.comment+=F(O),I(O);if(g.isWhitespace(F(O),O.nestingLevel))I(O);else break}if(F(O)===""){O.tokenType=x.DELIMITER;return}if(F(O)===`
`&&!O.nestingLevel){O.tokenType=x.DELIMITER,O.token=F(O),I(O);return}var te=F(O),ge=M(O,2),Se=M(O,3);if(Se.length===3&&b[Se]){O.tokenType=x.DELIMITER,O.token=Se,I(O),I(O),I(O);return}if(ge.length===2&&b[ge]){O.tokenType=x.DELIMITER,O.token=ge,I(O),I(O);return}if(b[te]){O.tokenType=x.DELIMITER,O.token=te,I(O);return}if(g.isDigitDot(te)){O.tokenType=x.NUMBER;var Ue=M(O,2);if(Ue==="0b"||Ue==="0o"||Ue==="0x"){for(O.token+=F(O),I(O),O.token+=F(O),I(O);g.isHexDigit(F(O));)O.token+=F(O),I(O);if(F(O)===".")for(O.token+=".",I(O);g.isHexDigit(F(O));)O.token+=F(O),I(O);else if(F(O)==="i")for(O.token+="i",I(O);g.isDigit(F(O));)O.token+=F(O),I(O);return}if(F(O)==="."){if(O.token+=F(O),I(O),!g.isDigit(F(O))){O.tokenType=x.DELIMITER;return}}else{for(;g.isDigit(F(O));)O.token+=F(O),I(O);g.isDecimalMark(F(O),T(O))&&(O.token+=F(O),I(O))}for(;g.isDigit(F(O));)O.token+=F(O),I(O);if(F(O)==="E"||F(O)==="e"){if(g.isDigit(T(O))||T(O)==="-"||T(O)==="+"){if(O.token+=F(O),I(O),(F(O)==="+"||F(O)==="-")&&(O.token+=F(O),I(O)),!g.isDigit(F(O)))throw Ie(O,'Digit expected, got "'+F(O)+'"');for(;g.isDigit(F(O));)O.token+=F(O),I(O);if(g.isDecimalMark(F(O),T(O)))throw Ie(O,'Digit expected, got "'+F(O)+'"')}else if(g.isDecimalMark(T(O),O.expression.charAt(O.index+2)))throw I(O),Ie(O,'Digit expected, got "'+F(O)+'"')}return}if(g.isAlpha(F(O),R(O),T(O))){for(;g.isAlpha(F(O),R(O),T(O))||g.isDigit(F(O));)O.token+=F(O),I(O);Re(A,O.token)?O.tokenType=x.DELIMITER:O.tokenType=x.SYMBOL;return}for(O.tokenType=x.UNKNOWN;F(O)!=="";)O.token+=F(O),I(O);throw Ie(O,'Syntax error in part "'+O.token+'"')}function _(O){do L(O);while(O.token===`
`)}function H(O){O.nestingLevel++}function k(O){O.nestingLevel--}g.isAlpha=function(te,ge,Se){return g.isValidLatinOrGreek(te)||g.isValidMathSymbol(te,Se)||g.isValidMathSymbol(ge,te)},g.isValidLatinOrGreek=function(te){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(te)},g.isValidMathSymbol=function(te,ge){return/^[\uD835]$/.test(te)&&/^[\uDC00-\uDFFF]$/.test(ge)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(ge)},g.isWhitespace=function(te,ge){return te===" "||te==="	"||te===`
`&&ge>0},g.isDecimalMark=function(te,ge){return te==="."&&ge!=="/"&&ge!=="*"&&ge!=="^"},g.isDigitDot=function(te){return te>="0"&&te<="9"||te==="."},g.isDigit=function(te){return te>="0"&&te<="9"},g.isHexDigit=function(te){return te>="0"&&te<="9"||te>="a"&&te<="f"||te>="A"&&te<="F"};function ie(O,te){var ge=C();pr(ge,{expression:O,extraNodes:te}),L(ge);var Se=ee(ge);if(ge.token!=="")throw ge.tokenType===x.DELIMITER?Qe(ge,"Unexpected operator "+ge.token):Ie(ge,'Unexpected part "'+ge.token+'"');return Se}function ee(O){var te,ge=[],Se;for(O.token!==""&&O.token!==`
`&&O.token!==";"&&(te=X(O),O.comment&&(te.comment=O.comment));O.token===`
`||O.token===";";)ge.length===0&&te&&(Se=O.token!==";",ge.push({node:te,visible:Se})),L(O),O.token!==`
`&&O.token!==";"&&O.token!==""&&(te=X(O),O.comment&&(te.comment=O.comment),Se=O.token!==";",ge.push({node:te,visible:Se}));return ge.length>0?new o(ge):(te||(te=new u(void 0),O.comment&&(te.comment=O.comment)),te)}function X(O){var te,ge,Se,Ue,et=Z(O);if(O.token==="="){if(Sr(et))return te=et.name,_(O),Se=X(O),new s(new S(te),Se);if(Qs(et))return _(O),Se=X(O),new s(et.object,et.index,Se);if(ns(et)&&Sr(et.fn)&&(Ue=!0,ge=[],te=et.name,et.args.forEach(function(nr,Nl){Sr(nr)?ge[Nl]=nr.name:Ue=!1}),Ue))return _(O),Se=X(O),new c(te,ge,Se);throw Ie(O,"Invalid left hand side of assignment operator =")}return et}function Z(O){for(var te=pe(O);O.token==="?";){var ge=O.conditionalLevel;O.conditionalLevel=O.nestingLevel,_(O);var Se=te,Ue=X(O);if(O.token!==":")throw Ie(O,"False part of conditional expression expected");O.conditionalLevel=null,_(O);var et=X(O);te=new l(Se,Ue,et),O.conditionalLevel=ge}return te}function pe(O){for(var te=de(O);O.token==="or";)_(O),te=new h("or","or",[te,de(O)]);return te}function de(O){for(var te=j(O);O.token==="xor";)_(O),te=new h("xor","xor",[te,j(O)]);return te}function j(O){for(var te=W(O);O.token==="and";)_(O),te=new h("and","and",[te,W(O)]);return te}function W(O){for(var te=U(O);O.token==="|";)_(O),te=new h("|","bitOr",[te,U(O)]);return te}function U(O){for(var te=K(O);O.token==="^|";)_(O),te=new h("^|","bitXor",[te,K(O)]);return te}function K(O){for(var te=ae(O);O.token==="&";)_(O),te=new h("&","bitAnd",[te,ae(O)]);return te}function ae(O){for(var te=[B(O)],ge=[],Se={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};Re(Se,O.token);){var Ue={name:O.token,fn:Se[O.token]};ge.push(Ue),_(O),te.push(B(O))}return te.length===1?te[0]:te.length===2?new h(ge[0].name,ge[0].fn,te):new y(ge.map(et=>et.fn),te)}function B(O){var te,ge,Se,Ue;te=q(O);for(var et={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};Re(et,O.token);)ge=O.token,Se=et[ge],_(O),Ue=[te,q(O)],te=new h(ge,Se,Ue);return te}function q(O){var te,ge,Se,Ue;te=G(O);for(var et={to:"to",in:"to"};Re(et,O.token);)ge=O.token,Se=et[ge],_(O),ge==="in"&&"])},;".includes(O.token)?te=new h("*","multiply",[te,new S("in")],!0):(Ue=[te,G(O)],te=new h(ge,Se,Ue));return te}function G(O){var te,ge=[];if(O.token===":"?te=new u(1):te=se(O),O.token===":"&&O.conditionalLevel!==O.nestingLevel){for(ge.push(te);O.token===":"&&ge.length<3;)_(O),O.token===")"||O.token==="]"||O.token===","||O.token===""?ge.push(new S("end")):ge.push(se(O));ge.length===3?te=new v(ge[0],ge[2],ge[1]):te=new v(ge[0],ge[1])}return te}function se(O){var te,ge,Se,Ue;te=P(O);for(var et={"+":"add","-":"subtract"};Re(et,O.token);){ge=O.token,Se=et[ge],_(O);var nr=P(O);nr.isPercentage?Ue=[te,new h("*","multiply",[te,nr])]:Ue=[te,nr],te=new h(ge,Se,Ue)}return te}function P(O){var te,ge,Se,Ue;te=z(O),ge=te;for(var et={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};Re(et,O.token);)if(Se=O.token,Ue=et[Se],_(O),Se==="%"&&O.tokenType===x.DELIMITER&&O.token!=="(")if(O.token!==""&&et[O.token]){var nr=new h("/","divide",[te,new u(100)],!1,!0);Se=O.token,Ue=et[Se],_(O),ge=z(O),te=new h(Se,Ue,[nr,ge])}else te=new h("/","divide",[te,new u(100)],!1,!0);else ge=z(O),te=new h(Se,Ue,[te,ge]);return te}function z(O){var te,ge;for(te=Y(O),ge=te;O.tokenType===x.SYMBOL||O.token==="in"&&Et(te)||O.token==="in"&&ir(te)&&te.fn==="unaryMinus"&&Et(te.args[0])||O.tokenType===x.NUMBER&&!Et(ge)&&(!ir(ge)||ge.op==="!")||O.token==="(";)ge=Y(O),te=new h("*","multiply",[te,ge],!0);return te}function Y(O){for(var te=ne(O),ge=te,Se=[];O.token==="/"&&wg(ge);)if(Se.push(pr({},O)),_(O),O.tokenType===x.NUMBER)if(Se.push(pr({},O)),_(O),O.tokenType===x.SYMBOL||O.token==="("||O.token==="in")pr(O,Se.pop()),Se.pop(),ge=ne(O),te=new h("/","divide",[te,ge]);else{Se.pop(),pr(O,Se.pop());break}else{pr(O,Se.pop());break}return te}function ne(O){var te,ge,Se,Ue={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return Re(Ue,O.token)?(Se=Ue[O.token],te=O.token,_(O),ge=[ne(O)],new h(te,Se,ge)):oe(O)}function oe(O){var te,ge,Se,Ue;return te=le(O),(O.token==="^"||O.token===".^")&&(ge=O.token,Se=ge==="^"?"pow":"dotPow",_(O),Ue=[te,ne(O)],te=new h(ge,Se,Ue)),te}function le(O){var te,ge,Se,Ue;te=ve(O);for(var et={"!":"factorial","'":"ctranspose"};Re(et,O.token);)ge=O.token,Se=et[ge],L(O),Ue=[te],te=new h(ge,Se,Ue),te=J(O,te);return te}function ve(O){var te=[];if(O.tokenType===x.SYMBOL&&Re(O.extraNodes,O.token)){var ge=O.extraNodes[O.token];if(L(O),O.token==="("){if(te=[],H(O),L(O),O.token!==")")for(te.push(X(O));O.token===",";)L(O),te.push(X(O));if(O.token!==")")throw Ie(O,"Parenthesis ) expected");k(O),L(O)}return new ge(te)}return $(O)}function $(O){var te,ge;return O.tokenType===x.SYMBOL||O.tokenType===x.DELIMITER&&O.token in A?(ge=O.token,L(O),Re(D,ge)?te=new u(D[ge]):E.includes(ge)?te=new u(r(ge,"number")):te=new S(ge),te=J(O,te),te):re(O)}function J(O,te,ge){for(var Se;O.token==="("||O.token==="["||O.token===".";)if(Se=[],O.token==="(")if(Sr(te)||Qs(te)){if(H(O),L(O),O.token!==")")for(Se.push(X(O));O.token===",";)L(O),Se.push(X(O));if(O.token!==")")throw Ie(O,"Parenthesis ) expected");k(O),L(O),te=new f(te,Se)}else return te;else if(O.token==="["){if(H(O),L(O),O.token!=="]")for(Se.push(X(O));O.token===",";)L(O),Se.push(X(O));if(O.token!=="]")throw Ie(O,"Parenthesis ] expected");k(O),L(O),te=new i(te,new d(Se))}else{L(O);var Ue=O.tokenType===x.SYMBOL||O.tokenType===x.DELIMITER&&O.token in A;if(!Ue)throw Ie(O,"Property name expected after dot");Se.push(new u(O.token)),L(O);var et=!0;te=new i(te,new d(Se,et))}return te}function re(O){var te,ge;return O.token==='"'||O.token==="'"?(ge=fe(O,O.token),te=new u(ge),te=J(O,te),te):he(O)}function fe(O,te){for(var ge="";F(O)!==""&&F(O)!==te;)if(F(O)==="\\"){I(O);var Se=F(O),Ue=N[Se];if(Ue!==void 0)ge+=Ue,O.index+=1;else if(Se==="u"){var et=O.expression.slice(O.index+1,O.index+5);if(/^[0-9A-Fa-f]{4}$/.test(et))ge+=String.fromCharCode(parseInt(et,16)),O.index+=5;else throw Ie(O,"Invalid unicode character \\u".concat(et))}else throw Ie(O,"Bad escape character \\".concat(Se))}else ge+=F(O),I(O);if(L(O),O.token!==te)throw Ie(O,"End of string ".concat(te," expected"));return L(O),ge}function he(O){var te,ge,Se,Ue;if(O.token==="["){if(H(O),L(O),O.token!=="]"){var et=me(O);if(O.token===";"){for(Se=1,ge=[et];O.token===";";)L(O),O.token!=="]"&&(ge[Se]=me(O),Se++);if(O.token!=="]")throw Ie(O,"End of matrix ] expected");k(O),L(O),Ue=ge[0].items.length;for(var nr=1;nr<Se;nr++)if(ge[nr].items.length!==Ue)throw Qe(O,"Column dimensions mismatch ("+ge[nr].items.length+" !== "+Ue+")");te=new a(ge)}else{if(O.token!=="]")throw Ie(O,"End of matrix ] expected");k(O),L(O),te=et}}else k(O),L(O),te=new a([]);return J(O,te)}return Ae(O)}function me(O){for(var te=[X(O)],ge=1;O.token===",";)L(O),O.token!=="]"&&O.token!==";"&&(te[ge]=X(O),ge++);return new a(te)}function Ae(O){if(O.token==="{"){H(O);var te,ge={};do if(L(O),O.token!=="}"){if(O.token==='"'||O.token==="'")te=fe(O,O.token);else if(O.tokenType===x.SYMBOL||O.tokenType===x.DELIMITER&&O.token in A)te=O.token,L(O);else throw Ie(O,"Symbol or string expected as object key");if(O.token!==":")throw Ie(O,"Colon : expected after object key");L(O),ge[te]=X(O)}while(O.token===",");if(O.token!=="}")throw Ie(O,"Comma , or bracket } expected after object value");k(O),L(O);var Se=new p(ge);return Se=J(O,Se),Se}return xe(O)}function xe(O){var te;if(O.tokenType===x.NUMBER){te=O.token,L(O);var ge=fs(te,n),Se=r(te,ge);return new u(Se)}return De(O)}function De(O){var te;if(O.token==="("){if(H(O),L(O),te=X(O),O.token!==")")throw Ie(O,"Parenthesis ) expected");return k(O),L(O),te=new m(te),te=J(O,te),te}return we(O)}function we(O){throw O.token===""?Ie(O,"Unexpected end of expression"):Ie(O,"Value expected")}function it(O){return O.index-O.token.length+1}function Ie(O,te){var ge=it(O),Se=new SyntaxError(te+" (char "+ge+")");return Se.char=ge,Se}function Qe(O,te){var ge=it(O),Se=new SyntaxError(te+" (char "+ge+")");return Se.char=ge,Se}return e.addConversion({from:"string",to:"Node",convert:g}),g}),tE="compile",KK=["typed","parse"],JK=V(tE,KK,t=>{var{typed:e,parse:r}=t;return e(tE,{string:function(i){return r(i).compile()},"Array | Matrix":function(i){return ut(i,function(a){return r(a).compile()})}})}),rE="evaluate",YK=["typed","parse"],XK=V(rE,YK,t=>{var{typed:e,parse:r}=t;return e(rE,{string:function(i){var a=ku();return r(i).compile().evaluate(a)},"string, Map | Object":function(i,a){return r(i).compile().evaluate(a)},"Array | Matrix":function(i){var a=ku();return ut(i,function(s){return r(s).compile().evaluate(a)})},"Array | Matrix, Map | Object":function(i,a){return ut(i,function(s){return r(s).compile().evaluate(a)})}})}),ZK="Parser",QK=["evaluate","parse"],eJ=V(ZK,QK,t=>{var{evaluate:e,parse:r}=t;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:ku(),writable:!1})}n.prototype.type="Parser",n.prototype.isParser=!0,n.prototype.evaluate=function(a){return e(a,this.scope)},n.prototype.get=function(a){if(this.scope.has(a))return this.scope.get(a)},n.prototype.getAll=function(){return Sz(this.scope)},n.prototype.getAllAsMap=function(){return this.scope};function i(a){if(a.length===0)return!1;for(var s=0;s<a.length;s++){var o=a.charAt(s-1),l=a.charAt(s),u=a.charAt(s+1),c=r.isAlpha(l,o,u)||s>0&&r.isDigit(l);if(!c)return!1}return!0}return n.prototype.set=function(a,s){if(!i(a))throw new Error("Invalid variable name: '".concat(a,"'. Variable names must follow the specified rules."));return this.scope.set(a,s),s},n.prototype.remove=function(a){this.scope.delete(a)},n.prototype.clear=function(){this.scope.clear()},n},{isClass:!0}),nE="parser",tJ=["typed","Parser"],rJ=V(nE,tJ,t=>{var{typed:e,Parser:r}=t;return e(nE,{"":function(){return new r}})}),iE="lup",nJ=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],iJ=V(iE,nJ,t=>{var{typed:e,matrix:r,abs:n,addScalar:i,divideScalar:a,multiplyScalar:s,subtractScalar:o,larger:l,equalScalar:u,unaryMinus:c,DenseMatrix:f,SparseMatrix:d,Spa:p}=t;return e(iE,{DenseMatrix:function(y){return h(y)},SparseMatrix:function(y){return m(y)},Array:function(y){var S=r(y),g=h(S);return{L:g.L.valueOf(),U:g.U.valueOf(),p:g.p}}});function h(v){var y=v._size[0],S=v._size[1],g=Math.min(y,S),w=tt(v._data),x=[],b=[y,g],A=[],D=[g,S],E,N,C,M=[];for(E=0;E<y;E++)M[E]=E;for(N=0;N<S;N++){if(N>0)for(E=0;E<y;E++){var F=Math.min(E,N),I=0;for(C=0;C<F;C++)I=i(I,s(w[E][C],w[C][N]));w[E][N]=o(w[E][N],I)}var R=N,T=0,L=0;for(E=N;E<y;E++){var _=w[E][N],H=n(_);l(H,T)&&(R=E,T=H,L=_)}if(N!==R&&(M[N]=[M[R],M[R]=M[N]][0],f._swapRows(N,R,w)),N<y)for(E=N+1;E<y;E++){var k=w[E][N];u(k,0)||(w[E][N]=a(w[E][N],L))}}for(N=0;N<S;N++)for(E=0;E<y;E++){if(N===0&&(E<S&&(A[E]=[]),x[E]=[]),E<N){E<S&&(A[E][N]=w[E][N]),N<y&&(x[E][N]=0);continue}if(E===N){E<S&&(A[E][N]=w[E][N]),N<y&&(x[E][N]=1);continue}E<S&&(A[E][N]=0),N<y&&(x[E][N]=w[E][N])}var ie=new f({data:x,size:b}),ee=new f({data:A,size:D}),X=[];for(E=0,g=M.length;E<g;E++)X[M[E]]=E;return{L:ie,U:ee,p:X,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function m(v){var y=v._size[0],S=v._size[1],g=Math.min(y,S),w=v._values,x=v._index,b=v._ptr,A=[],D=[],E=[],N=[y,g],C=[],M=[],F=[],I=[g,S],R,T,L,_=[],H=[];for(R=0;R<y;R++)_[R]=R,H[R]=R;var k=function(X,Z){var pe=H[X],de=H[Z];_[pe]=Z,_[de]=X,H[X]=de,H[Z]=pe},ie=function(){var X=new p;T<y&&(E.push(A.length),A.push(1),D.push(T)),F.push(C.length);var Z=b[T],pe=b[T+1];for(L=Z;L<pe;L++)R=x[L],X.set(_[R],w[L]);T>0&&X.forEach(0,T-1,function(U,K){d._forEachRow(U,A,D,E,function(ae,B){ae>U&&X.accumulate(ae,c(s(B,K)))})});var de=T,j=X.get(T),W=n(j);X.forEach(T+1,y-1,function(U,K){var ae=n(K);l(ae,W)&&(de=U,W=ae,j=K)}),T!==de&&(d._swapRows(T,de,N[1],A,D,E),d._swapRows(T,de,I[1],C,M,F),X.swap(T,de),k(T,de)),X.forEach(0,y-1,function(U,K){U<=T?(C.push(K),M.push(U)):(K=a(K,j),u(K,0)||(A.push(K),D.push(U)))})};for(T=0;T<S;T++)ie();return F.push(C.length),E.push(A.length),{L:new d({values:A,index:D,ptr:E,size:N}),U:new d({values:C,index:M,ptr:F,size:I}),p:_,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}}),aE="qr",aJ=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],sJ=V(aE,aJ,t=>{var{typed:e,matrix:r,zeros:n,identity:i,isZero:a,equal:s,sign:o,sqrt:l,conj:u,unaryMinus:c,addScalar:f,divideScalar:d,multiplyScalar:p,subtractScalar:h,complex:m}=t;return pr(e(aE,{DenseMatrix:function(w){return y(w)},SparseMatrix:function(w){return S()},Array:function(w){var x=r(w),b=y(x);return{Q:b.Q.valueOf(),R:b.R.valueOf()}}}),{_denseQRimpl:v});function v(g){var w=g._size[0],x=g._size[1],b=i([w],"dense"),A=b._data,D=g.clone(),E=D._data,N,C,M,F=n([w],"");for(M=0;M<Math.min(x,w);++M){var I=E[M][M],R=c(s(I,0)?1:o(I)),T=u(R),L=0;for(N=M;N<w;N++)L=f(L,p(E[N][M],u(E[N][M])));var _=p(R,l(L));if(!a(_)){var H=h(I,_);for(F[M]=1,N=M+1;N<w;N++)F[N]=d(E[N][M],H);var k=c(u(d(H,_))),ie=void 0;for(C=M;C<x;C++){for(ie=0,N=M;N<w;N++)ie=f(ie,p(u(F[N]),E[N][C]));for(ie=p(ie,k),N=M;N<w;N++)E[N][C]=p(h(E[N][C],p(F[N],ie)),T)}for(N=0;N<w;N++){for(ie=0,C=M;C<w;C++)ie=f(ie,p(A[N][C],F[C]));for(ie=p(ie,k),C=M;C<w;++C)A[N][C]=d(h(A[N][C],p(ie,u(F[C]))),T)}}}return{Q:b,R:D,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function y(g){var w=v(g),x=w.R._data;if(g._data.length>0)for(var b=x[0][0].type==="Complex"?m(0):0,A=0;A<x.length;++A)for(var D=0;D<A&&D<(x[0]||[]).length;++D)x[A][D]=b;return w}function S(g){throw new Error("qr not implemented for sparse matrices yet")}});function oJ(t,e,r,n){t._values;for(var i=t._index,a=t._ptr,s=t._size,o=t._datatype,l=s[0],u=s[1],c=null,f=[],d=[],p=0,h=0;h<u;h++){d[h]=p;for(var m=r?r[h]:h,v=a[m],y=a[m+1],S=v;S<y;S++){var g=i[S];f[p]=g,p++}}return d[u]=p,t.createSparseMatrix({values:c,index:f,ptr:d,size:[l,u],datatype:o})}function pT(t,e,r,n,i,a,s){var o=0;for(r[s]=t;o>=0;){var l=r[s+o],u=r[n+l];u===-1?(o--,a[e++]=l):(r[n+l]=r[i+u],++o,r[s+o]=u)}return e}function lJ(t,e){if(!t)return null;var r=0,n,i=[],a=[],s=0,o=e,l=2*e;for(n=0;n<e;n++)a[s+n]=-1;for(n=e-1;n>=0;n--)t[n]!==-1&&(a[o+n]=a[s+t[n]],a[s+t[n]]=n);for(n=0;n<e;n++)t[n]===-1&&(r=pT(n,r,a,s,o,i,l));return i}function uJ(t,e){if(!t)return null;var r=t._index,n=t._ptr,i=t._size,a=i[0],s=i[1],o=[],l=[],u=0,c=s,f,d;for(f=0;f<a;f++)l[c+f]=-1;for(var p=0;p<s;p++){o[p]=-1,l[u+p]=-1;for(var h=n[p],m=n[p+1],v=h;v<m;v++){var y=r[v];for(f=l[c+y];f!==-1&&f<p;f=d)d=l[u+f],l[u+f]=p,d===-1&&(o[f]=p);l[c+y]=p}}return o}function cJ(t,e,r){for(var n=t._values,i=t._index,a=t._ptr,s=t._size,o=s[1],l=0,u=0;u<o;u++){var c=a[u];for(a[u]=l;c<a[u+1];c++)e(i[c],u,n?n[c]:1,r)&&(i[l]=i[c],n&&(n[l]=n[c]),l++)}return a[o]=l,i.splice(l,i.length-l),n&&n.splice(l,n.length-l),l}function $a(t){return-t-2}var fJ="csAmd",dJ=["add","multiply","transpose"],pJ=V(fJ,dJ,t=>{var{add:e,multiply:r,transpose:n}=t;return function(c,f){if(!f||c<=0||c>3)return null;var d=f._size,p=d[0],h=d[1],m=0,v=Math.max(16,10*Math.sqrt(h));v=Math.min(h-2,v);var y=i(c,f,p,h,v);cJ(y,l,null);for(var S=y._index,g=y._ptr,w=g[h],x=[],b=[],A=0,D=h+1,E=2*(h+1),N=3*(h+1),C=4*(h+1),M=5*(h+1),F=6*(h+1),I=7*(h+1),R=x,T=a(h,g,b,A,N,R,E,I,D,F,C,M),L=s(h,g,b,M,C,F,v,D,N,R,E),_=0,H,k,ie,ee,X,Z,pe,de,j,W,U,K,ae,B,q,G;L<h;){for(ie=-1;_<h&&(ie=b[N+_])===-1;_++);b[E+ie]!==-1&&(R[b[E+ie]]=-1),b[N+_]=b[E+ie];var se=b[C+ie],P=b[D+ie];L+=P;var z=0;b[D+ie]=-P;var Y=g[ie],ne=se===0?Y:w,oe=ne;for(ee=1;ee<=se+1;ee++){for(ee>se?(Z=ie,pe=Y,de=b[A+ie]-se):(Z=S[Y++],pe=g[Z],de=b[A+Z]),X=1;X<=de;X++)H=S[pe++],!((j=b[D+H])<=0)&&(z+=j,b[D+H]=-j,S[oe++]=H,b[E+H]!==-1&&(R[b[E+H]]=R[H]),R[H]!==-1?b[E+R[H]]=b[E+H]:b[N+b[M+H]]=b[E+H]);Z!==ie&&(g[Z]=$a(ie),b[F+Z]=0)}for(se!==0&&(w=oe),b[M+ie]=z,g[ie]=ne,b[A+ie]=oe-ne,b[C+ie]=-2,T=o(T,m,b,F,h),W=ne;W<oe;W++)if(H=S[W],!((U=b[C+H])<=0)){j=-b[D+H];var le=T-j;for(Y=g[H],K=g[H]+U-1;Y<=K;Y++)Z=S[Y],b[F+Z]>=T?b[F+Z]-=j:b[F+Z]!==0&&(b[F+Z]=b[M+Z]+le)}for(W=ne;W<oe;W++){for(H=S[W],K=g[H],ae=K+b[C+H]-1,B=K,q=0,G=0,Y=K;Y<=ae;Y++)if(Z=S[Y],b[F+Z]!==0){var ve=b[F+Z]-T;ve>0?(G+=ve,S[B++]=Z,q+=Z):(g[Z]=$a(ie),b[F+Z]=0)}b[C+H]=B-K+1;var $=B,J=K+b[A+H];for(Y=ae+1;Y<J;Y++){k=S[Y];var re=b[D+k];re<=0||(G+=re,S[B++]=k,q+=k)}G===0?(g[H]=$a(ie),j=-b[D+H],z-=j,P+=j,L+=j,b[D+H]=0,b[C+H]=-1):(b[M+H]=Math.min(b[M+H],G),S[B]=S[$],S[$]=S[K],S[K]=ie,b[A+H]=B-K+1,q=(q<0?-q:q)%h,b[E+H]=b[I+q],b[I+q]=H,R[H]=q)}for(b[M+ie]=z,m=Math.max(m,z),T=o(T+m,m,b,F,h),W=ne;W<oe;W++)if(H=S[W],!(b[D+H]>=0))for(q=R[H],H=b[I+q],b[I+q]=-1;H!==-1&&b[E+H]!==-1;H=b[E+H],T++){for(de=b[A+H],U=b[C+H],Y=g[H]+1;Y<=g[H]+de-1;Y++)b[F+S[Y]]=T;var fe=H;for(k=b[E+H];k!==-1;){var he=b[A+k]===de&&b[C+k]===U;for(Y=g[k]+1;he&&Y<=g[k]+de-1;Y++)b[F+S[Y]]!==T&&(he=0);he?(g[k]=$a(H),b[D+H]+=b[D+k],b[D+k]=0,b[C+k]=-1,k=b[E+k],b[E+fe]=k):(fe=k,k=b[E+k])}}for(Y=ne,W=ne;W<oe;W++)H=S[W],!((j=-b[D+H])<=0)&&(b[D+H]=j,G=b[M+H]+z-j,G=Math.min(G,h-L-j),b[N+G]!==-1&&(R[b[N+G]]=H),b[E+H]=b[N+G],R[H]=-1,b[N+G]=H,_=Math.min(_,G),b[M+H]=G,S[Y++]=H);b[D+ie]=P,(b[A+ie]=Y-ne)===0&&(g[ie]=-1,b[F+ie]=0),se!==0&&(w=Y)}for(H=0;H<h;H++)g[H]=$a(g[H]);for(k=0;k<=h;k++)b[N+k]=-1;for(k=h;k>=0;k--)b[D+k]>0||(b[E+k]=b[N+g[k]],b[N+g[k]]=k);for(Z=h;Z>=0;Z--)b[D+Z]<=0||g[Z]!==-1&&(b[E+Z]=b[N+g[Z]],b[N+g[Z]]=Z);for(ie=0,H=0;H<=h;H++)g[H]===-1&&(ie=pT(H,ie,b,N,E,x,F));return x.splice(x.length-1,1),x};function i(u,c,f,d,p){var h=n(c);if(u===1&&d===f)return e(c,h);if(u===2){for(var m=h._index,v=h._ptr,y=0,S=0;S<f;S++){var g=v[S];if(v[S]=y,!(v[S+1]-g>p))for(var w=v[S+1];g<w;g++)m[y++]=m[g]}return v[f]=y,c=n(h),r(h,c)}return r(h,c)}function a(u,c,f,d,p,h,m,v,y,S,g,w){for(var x=0;x<u;x++)f[d+x]=c[x+1]-c[x];f[d+u]=0;for(var b=0;b<=u;b++)f[p+b]=-1,h[b]=-1,f[m+b]=-1,f[v+b]=-1,f[y+b]=1,f[S+b]=1,f[g+b]=0,f[w+b]=f[d+b];var A=o(0,0,f,S,u);return f[g+u]=-2,c[u]=-1,f[S+u]=0,A}function s(u,c,f,d,p,h,m,v,y,S,g){for(var w=0,x=0;x<u;x++){var b=f[d+x];if(b===0)f[p+x]=-2,w++,c[x]=-1,f[h+x]=0;else if(b>m)f[v+x]=0,f[p+x]=-1,w++,c[x]=$a(u),f[v+u]++;else{var A=f[y+b];A!==-1&&(S[A]=x),f[g+x]=f[y+b],f[y+b]=x}}return w}function o(u,c,f,d,p){if(u<2||u+c<0){for(var h=0;h<p;h++)f[d+h]!==0&&(f[d+h]=1);u=2}return u}function l(u,c){return u!==c}});function hJ(t,e,r,n,i,a,s){var o,l,u=0,c;if(t<=e||r[n+e]<=r[i+t])return-1;r[i+t]=r[n+e];var f=r[a+t];if(r[a+t]=e,f===-1)u=1,c=t;else{for(u=2,c=f;c!==r[s+c];c=r[s+c]);for(o=f;o!==c;o=l)l=r[s+o],r[s+o]=c}return{jleaf:u,q:c}}var mJ="csCounts",gJ=["transpose"],vJ=V(mJ,gJ,t=>{var{transpose:e}=t;return function(r,n,i,a){if(!r||!n||!i)return null;var s=r._size,o=s[0],l=s[1],u,c,f,d,p,h,m,v=4*l+(a?l+o+1:0),y=[],S=0,g=l,w=2*l,x=3*l,b=4*l,A=5*l+1;for(f=0;f<v;f++)y[f]=-1;var D=[],E=e(r),N=E._index,C=E._ptr;for(f=0;f<l;f++)for(c=i[f],D[c]=y[x+c]===-1?1:0;c!==-1&&y[x+c]===-1;c=n[c])y[x+c]=f;if(a){for(f=0;f<l;f++)y[i[f]]=f;for(u=0;u<o;u++){for(f=l,h=C[u],m=C[u+1],p=h;p<m;p++)f=Math.min(f,y[N[p]]);y[A+u]=y[b+f],y[b+f]=u}}for(u=0;u<l;u++)y[S+u]=u;for(f=0;f<l;f++){for(c=i[f],n[c]!==-1&&D[n[c]]--,d=a?y[b+f]:c;d!==-1;d=a?y[A+d]:-1)for(p=C[d];p<C[d+1];p++){u=N[p];var M=hJ(u,c,y,x,g,w,S);M.jleaf>=1&&D[c]++,M.jleaf===2&&D[M.q]--}n[c]!==-1&&(y[S+c]=n[c])}for(c=0;c<l;c++)n[c]!==-1&&(D[n[c]]+=D[c]);return D}}),yJ="csSqr",bJ=["add","multiply","transpose"],xJ=V(yJ,bJ,t=>{var{add:e,multiply:r,transpose:n}=t,i=pJ({add:e,multiply:r,transpose:n}),a=vJ({transpose:n});return function(l,u,c){var f=u._ptr,d=u._size,p=d[1],h,m={};if(m.q=i(l,u),l&&!m.q)return null;if(c){var v=l?oJ(u,null,m.q):u;m.parent=uJ(v);var y=lJ(m.parent,p);if(m.cp=a(v,m.parent,y,1),v&&m.parent&&m.cp&&s(v,m))for(m.unz=0,h=0;h<p;h++)m.unz+=m.cp[h]}else m.unz=4*f[p]+p,m.lnz=m.unz;return m};function s(o,l){var u=o._ptr,c=o._index,f=o._size,d=f[0],p=f[1];l.pinv=[],l.leftmost=[];var h=l.parent,m=l.pinv,v=l.leftmost,y=[],S=0,g=d,w=d+p,x=d+2*p,b,A,D,E,N;for(A=0;A<p;A++)y[g+A]=-1,y[w+A]=-1,y[x+A]=0;for(b=0;b<d;b++)v[b]=-1;for(A=p-1;A>=0;A--)for(E=u[A],N=u[A+1],D=E;D<N;D++)v[c[D]]=A;for(b=d-1;b>=0;b--)m[b]=-1,A=v[b],A!==-1&&(y[x+A]++===0&&(y[w+A]=b),y[S+b]=y[g+A],y[g+A]=b);for(l.lnz=0,l.m2=d,A=0;A<p;A++)if(b=y[g+A],l.lnz++,b<0&&(b=l.m2++),m[b]=A,!(--x[A]<=0)){l.lnz+=y[x+A];var C=h[A];C!==-1&&(y[x+C]===0&&(y[w+C]=y[w+A]),y[S+y[w+A]]=y[g+C],y[g+C]=y[S+b],y[x+C]+=y[x+A])}for(b=0;b<d;b++)m[b]<0&&(m[b]=A++);return!0}});function Hg(t,e){return t[e]<0}function hT(t,e){t[e]=$a(t[e])}function sE(t){return t<0?$a(t):t}function wJ(t,e,r,n,i){var a=e._index,s=e._ptr,o=e._size,l=o[1],u,c,f,d=0;for(n[0]=t;d>=0;){t=n[d];var p=i?i[t]:t;Hg(s,t)||(hT(s,t),n[l+d]=p<0?0:sE(s[p]));var h=1;for(c=n[l+d],f=p<0?0:sE(s[p+1]);c<f;c++)if(u=a[c],!Hg(s,u)){n[l+d]=c,n[++d]=u,h=0;break}h&&(d--,n[--r]=t)}return r}function SJ(t,e,r,n,i){var a=t._ptr,s=t._size,o=e._index,l=e._ptr,u=s[1],c,f,d,p=u;for(f=l[r],d=l[r+1],c=f;c<d;c++){var h=o[c];Hg(a,h)||(p=wJ(h,t,p,n,i))}for(c=p;c<u;c++)hT(a,n[c]);return p}var EJ="csSpsolve",AJ=["divideScalar","multiply","subtract"],NJ=V(EJ,AJ,t=>{var{divideScalar:e,multiply:r,subtract:n}=t;return function(a,s,o,l,u,c,f){var d=a._values,p=a._index,h=a._ptr,m=a._size,v=m[1],y=s._values,S=s._index,g=s._ptr,w,x,b,A,D=SJ(a,s,o,l,c);for(w=D;w<v;w++)u[l[w]]=0;for(x=g[o],b=g[o+1],w=x;w<b;w++)u[S[w]]=y[w];for(var E=D;E<v;E++){var N=l[E],C=c?c[N]:N;if(!(C<0))for(x=h[C],b=h[C+1],u[N]=e(u[N],d[f?x:b-1]),w=f?x+1:x,A=f?b:b-1;w<A;w++){var M=p[w];u[M]=n(u[M],r(d[w],u[N]))}}return D}}),DJ="csLu",CJ=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],MJ=V(DJ,CJ,t=>{var{abs:e,divideScalar:r,multiply:n,subtract:i,larger:a,largerEq:s,SparseMatrix:o}=t,l=NJ({divideScalar:r,multiply:n,subtract:i});return function(c,f,d){if(!c)return null;var p=c._size,h=p[1],m,v=100,y=100;f&&(m=f.q,v=f.lnz||v,y=f.unz||y);var S=[],g=[],w=[],x=new o({values:S,index:g,ptr:w,size:[h,h]}),b=[],A=[],D=[],E=new o({values:b,index:A,ptr:D,size:[h,h]}),N=[],C,M,F=[],I=[];for(C=0;C<h;C++)F[C]=0,N[C]=-1,w[C+1]=0;v=0,y=0;for(var R=0;R<h;R++){w[R]=v,D[R]=y;var T=m?m[R]:R,L=l(x,c,T,I,F,N,1),_=-1,H=-1;for(M=L;M<h;M++)if(C=I[M],N[C]<0){var k=e(F[C]);a(k,H)&&(H=k,_=C)}else A[y]=N[C],b[y++]=F[C];if(_===-1||H<=0)return null;N[T]<0&&s(e(F[T]),n(H,d))&&(_=T);var ie=F[_];for(A[y]=R,b[y++]=ie,N[_]=R,g[v]=_,S[v++]=1,M=L;M<h;M++)C=I[M],N[C]<0&&(g[v]=C,S[v++]=r(F[C],ie)),F[C]=0}for(w[h]=v,D[h]=y,M=0;M<v;M++)g[M]=N[g[M]];return S.splice(v,S.length-v),g.splice(v,g.length-v),b.splice(y,b.length-y),A.splice(y,A.length-y),{L:x,U:E,pinv:N}}}),oE="slu",TJ=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],_J=V(oE,TJ,t=>{var{typed:e,abs:r,add:n,multiply:i,transpose:a,divideScalar:s,subtract:o,larger:l,largerEq:u,SparseMatrix:c}=t,f=xJ({add:n,multiply:i,transpose:a}),d=MJ({abs:r,divideScalar:s,multiply:i,subtract:o,larger:l,largerEq:u,SparseMatrix:c});return e(oE,{"SparseMatrix, number, number":function(h,m,v){if(!Le(m)||m<0||m>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(v<0||v>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var y=f(m,h,!1),S=d(h,y,v);return{L:S.L,U:S.U,p:S.pinv,q:y.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function lE(t,e){var r,n=e.length,i=[];if(t)for(r=0;r<n;r++)i[t[r]]=e[r];else for(r=0;r<n;r++)i[r]=e[r];return i}var uE="lusolve",OJ=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],FJ=V(uE,OJ,t=>{var{typed:e,matrix:r,lup:n,slu:i,usolve:a,lsolve:s,DenseMatrix:o}=t,l=Qu({DenseMatrix:o});return e(uE,{"Array, Array | Matrix":function(d,p){d=r(d);var h=n(d),m=c(h.L,h.U,h.p,null,p);return m.valueOf()},"DenseMatrix, Array | Matrix":function(d,p){var h=n(d);return c(h.L,h.U,h.p,null,p)},"SparseMatrix, Array | Matrix":function(d,p){var h=n(d);return c(h.L,h.U,h.p,null,p)},"SparseMatrix, Array | Matrix, number, number":function(d,p,h,m){var v=i(d,h,m);return c(v.L,v.U,v.p,v.q,p)},"Object, Array | Matrix":function(d,p){return c(d.L,d.U,d.p,d.q,p)}});function u(f){if(Ge(f))return f;if(Bt(f))return r(f);throw new TypeError("Invalid Matrix LU decomposition")}function c(f,d,p,h,m){f=u(f),d=u(d),p&&(m=l(f,m,!0),m._data=lE(p,m._data));var v=s(f,m),y=a(d,v);return h&&(y._data=lE(h,y._data)),y}}),cE="polynomialRoot",BJ=["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],kJ=V(cE,BJ,t=>{var{typed:e,isZero:r,equalScalar:n,add:i,subtract:a,multiply:s,divide:o,sqrt:l,unaryMinus:u,cbrt:c,typeOf:f,im:d,re:p}=t;return e(cE,{"number|Complex, ...number|Complex":(h,m)=>{for(var v=[h,...m];v.length>0&&r(v[v.length-1]);)v.pop();if(v.length<2)throw new RangeError("Polynomial [".concat(h,", ").concat(m,"] must have a non-zero non-constant coefficient"));switch(v.length){case 2:return[u(o(v[0],v[1]))];case 3:{var[y,S,g]=v,w=s(2,g),x=s(S,S),b=s(4,g,y);if(n(x,b))return[o(u(S),w)];var A=l(a(x,b));return[o(a(A,S),w),o(a(u(A),S),w)]}case 4:{var[D,E,N,C]=v,M=u(s(3,C)),F=s(N,N),I=s(3,C,E),R=i(s(2,N,N,N),s(27,C,C,D)),T=s(9,C,N,E);if(n(F,I)&&n(R,T))return[o(N,M)];var L=a(F,I),_=a(R,T),H=i(s(18,C,N,E,D),s(N,N,E,E)),k=i(s(4,N,N,N,D),s(4,C,E,E,E),s(27,C,C,D,D));if(n(H,k))return[o(a(s(4,C,N,E),i(s(9,C,C,D),s(N,N,N))),s(C,L)),o(a(s(9,C,D),s(N,E)),s(2,L))];var ie;n(F,I)?ie=_:ie=o(i(_,l(a(s(_,_),s(4,L,L,L)))),2);var ee=!0,X=c(ie,ee).toArray().map(Z=>o(i(N,Z,o(L,Z)),M));return X.map(Z=>f(Z)==="Complex"&&n(p(Z),p(Z)+d(Z))?p(Z):Z)}default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(v))}}})}),IJ="Help",RJ=["evaluate"],PJ=V(IJ,RJ,t=>{var{evaluate:e}=t;function r(n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!n)throw new Error('Argument "doc" missing');this.doc=n}return r.prototype.type="Help",r.prototype.isHelp=!0,r.prototype.toString=function(){var n=this.doc||{},i=`
`;if(n.name&&(i+="Name: "+n.name+`

`),n.category&&(i+="Category: "+n.category+`

`),n.description&&(i+=`Description:
    `+n.description+`

`),n.syntax&&(i+=`Syntax:
    `+n.syntax.join(`
    `)+`

`),n.examples){i+=`Examples:
`;for(var a=!1,s=e("config()"),o={config:f=>(a=!0,e("config(newConfig)",{newConfig:f}))},l=0;l<n.examples.length;l++){var u=n.examples[l];i+="    "+u+`
`;var c=void 0;try{c=e(u,o)}catch(f){c=f}c!==void 0&&!w2(c)&&(i+="        "+ht(c,{precision:14})+`
`)}i+=`
`,a&&e("config(originalConfig)",{originalConfig:s})}return n.mayThrow&&n.mayThrow.length&&(i+="Throws: "+n.mayThrow.join(", ")+`

`),n.seealso&&n.seealso.length&&(i+="See also: "+n.seealso.join(", ")+`
`),i},r.prototype.toJSON=function(){var n=tt(this.doc);return n.mathjs="Help",n},r.fromJSON=function(n){var i={};return Object.keys(n).filter(a=>a!=="mathjs").forEach(a=>{i[a]=n[a]}),new r(i)},r.prototype.valueOf=r.prototype.toString,r},{isClass:!0}),$J="Chain",LJ=["?on","math","typed"],zJ=V($J,LJ,t=>{var{on:e,math:r,typed:n}=t;function i(u){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");E2(u)?this.value=u.value:this.value=u}i.prototype.type="Chain",i.prototype.isChain=!0,i.prototype.done=function(){return this.value},i.prototype.valueOf=function(){return this.value},i.prototype.toString=function(){return ht(this.value)},i.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},i.fromJSON=function(u){return new i(u.value)};function a(u,c){typeof c=="function"&&(i.prototype[u]=o(c))}function s(u,c){Rz(i.prototype,u,function(){var d=c();if(typeof d=="function")return o(d)})}function o(u){return function(){if(arguments.length===0)return new i(u(this.value));for(var c=[this.value],f=0;f<arguments.length;f++)c[f+1]=arguments[f];if(n.isTypedFunction(u)){var d=n.resolve(u,c);if(d.params.length===1)throw new Error("chain function "+u.name+" cannot match rest parameter between chain value and additional arguments.");return new i(d.implementation.apply(u,c))}return new i(u.apply(u,c))}}i.createProxy=function(u,c){if(typeof u=="string")a(u,c);else{var f=function(h){Re(u,h)&&l[h]===void 0&&s(h,()=>u[h])};for(var d in u)f(d)}};var l={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return i.createProxy(r),e&&e("import",function(u,c,f){f||s(u,c)}),i},{isClass:!0}),fE={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},qJ={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},UJ={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},HJ={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},VJ={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},WJ={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},GJ={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},jJ={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},KJ={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},JJ={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},YJ={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},dE={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},XJ={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},ZJ={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},QJ={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},eY={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},tY={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},rY={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","bigint","complex","fraction","index","matrix","string","unit"]},nY={name:"bigint",category:"Construction",syntax:["bigint(x)"],description:"Create a bigint, an integer with an arbitrary number of digits, from a number or string.",examples:["123123123123123123 # a large number will lose digits",'bigint("123123123123123123")','bignumber(["1", "3", "5"])'],seealso:["boolean","bignumber","number","complex","fraction","index","matrix","string","unit"]},iY={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},aY={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},sY={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},oY={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},lY={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix","number","range","string","unit"]},uY={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},cY={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","bigint","boolean","complex","fraction","index","matrix","string","unit"]},fY={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},dY={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},pY={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},hY={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},mY={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},gY={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},vY={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]},yY={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},bY={name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]},xY={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]},wY={name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]},SY={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},EY={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},AY={name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]},NY={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},DY={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},CY={name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]},MY={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]},TY={name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]},_Y={name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]},OY={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},FY={name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]},BY={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]},kY={name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]},IY={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},RY={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},PY={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},$Y={name:"ceil",category:"Arithmetic",syntax:["ceil(x)","ceil(x, n)","ceil(unit, valuelessUnit)","ceil(unit, n, valuelessUnit)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)","ceil(3.241cm, cm)","ceil(3.241cm, 2, cm)"],seealso:["floor","fix","round"]},LY={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},zY={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},qY={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},UY={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},HY={name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},VY={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},WY={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},GY={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},jY={name:"fix",category:"Arithmetic",syntax:["fix(x)","fix(x, n)","fix(unit, valuelessUnit)","fix(unit, n, valuelessUnit)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)","fix(3.241cm, cm)","fix(3.241cm, 2, cm)"],seealso:["ceil","floor","round"]},KY={name:"floor",category:"Arithmetic",syntax:["floor(x)","floor(x, n)","floor(unit, valuelessUnit)","floor(unit, n, valuelessUnit)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)","floor(3.241cm, cm)","floor(3.241cm, 2, cm)"],seealso:["ceil","fix","round"]},JY={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},YY={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenuse of a list with values.",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},XY={name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax  1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]},ZY={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},QY={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},eX={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},tX={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},rX={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},nX={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},iX={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},aX={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},sX={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},oX={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},lX={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},uX={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)","round(unit, valuelessUnit)","round(unit, n, valuelessUnit)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)","round(3.241cm, 2, cm)","round([3.2, 3.8, -4.7])"],seealso:["ceil","floor","fix"]},cX={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>0, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},fX={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},dX={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]},pX={name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]},hX={name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]},mX={name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]},gX={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},vX={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},yX={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},bX={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},xX={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},wX={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},SX={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},EX={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},AX={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},NX={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},DX={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},CX={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},MX={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},TX={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},_X={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},OX={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},FX={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},BX={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},kX={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},IX={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},RX={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:["parser","parse","compile"]},PX={name:"parser",category:"Expression",syntax:["parser()"],description:"Create a parser object that keeps a context of variables and their values, allowing the evaluation of expressions in that context.",examples:["myParser = parser()",'myParser.evaluate("sqrt(3^2 + 4^2)")','myParser.set("x", 3)','myParser.evaluate("y = x + 3")','myParser.evaluate(["y = x + 3", "y = y + 1"])','myParser.get("y")'],seealso:["evaluate","parse","compile"]},$X={name:"parse",category:"Expression",syntax:["parse(expr)","parse(expr, options)","parse([expr1, expr2, expr3, ...])","parse([expr1, expr2, expr3, ...], options)"],description:"Parse an expression. Returns a node tree, which can be evaluated by invoking node.evaluate() or transformed into a functional object via node.compile().",examples:['node1 = parse("sqrt(3^2 + 4^2)")',"node1.evaluate()","code1 = node1.compile()","code1.evaluate()","scope = {a: 3, b: 4}",'node2 = parse("a * b")',"node2.evaluate(scope)","code2 = node2.compile()","code2.evaluate(scope)"],seealso:["parser","evaluate","compile"]},LX={name:"compile",category:"Expression",syntax:["compile(expr) ","compile([expr1, expr2, expr3, ...])"],description:"Parse and compile an expression. Returns a an object with a function evaluate([scope]) to evaluate the compiled expression.",examples:['code1 = compile("sqrt(3^2 + 4^2)")',"code1.evaluate() ",'code2 = compile("a * b")',"code2.evaluate({a: 3, b: 4})"],seealso:["parser","parse","evaluate"]},zX={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},qX={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},UX={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},HX={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},VX={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},WX={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},GX={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},jX={name:"mapSlices",category:"Matrix",syntax:["mapSlices(A, dim, callback)"],description:"Generate a matrix one dimension less than A by applying callback to each slice of A along dimension dim.",examples:["A = [[1, 2], [3, 4]]","mapSlices(A, 1, sum)","mapSlices(A, 2, prod)"],seealso:["map","forEach"]},KX={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]},JX={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},YX={name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]},XX={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},ZX={name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},QX={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},eZ={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},tZ={name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicate the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]},rZ={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},nZ={name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and optionally eigenvectors of a square matrix",examples:["eigs([[5, 2.3], [2.3, 1]])","eigs([[1, 2, 3], [4, 5, 6], [7, 8, 9]], { precision: 1e-6, eigenvectors: false })"],seealso:["inv"]},iZ={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},aZ={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},sZ={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]},oZ={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},lZ={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},uZ={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},cZ={name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the MoorePenrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]},fZ={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the Kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},dZ={name:"map",category:"Matrix",syntax:["map(x, callback)","map(x, y, ..., callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array or the matrices/arrays.",examples:["map([1, 2, 3], square)","map([1, 2], [3, 4], f(a,b) = a + b)"],seealso:["filter","forEach"]},pZ={name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]},hZ={name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]},mZ={name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]},gZ={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},vZ={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]},yZ={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},bZ={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]},xZ={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},wZ={name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]},SZ={name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]},EZ={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]},AZ={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},NZ={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},DZ={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},CZ={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},MZ={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},TZ={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},_Z={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},OZ={name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional Fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]},FZ={name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse Fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]},BZ={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},kZ={name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},IZ={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},RZ={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},PZ={name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]},$Z={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},LZ={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},zZ={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},qZ={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},UZ={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},HZ={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},VZ={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},WZ={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},GZ={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},jZ={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},KZ={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},JZ={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},YZ={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not. Comparing a value with NaN returns false.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},XZ={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},ZZ={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not. Comparing a value with NaN returns false.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},QZ={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},eQ={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},tQ={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},rQ={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},nQ={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},iQ={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},aQ={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},sQ={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},oQ={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},lQ={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},uQ={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},cQ={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},fQ={name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]},dQ={name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]},pQ={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},hQ={name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemann's Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]},mQ={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},gQ={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values. If any NaN values are found, the function yields the last NaN in the input.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},vQ={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},yQ={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},bQ={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values. If any NaN values are found, the function yields the last NaN in the input.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},xQ={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},wQ={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},SQ={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:`Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probability are: Number, BigNumber. 

In case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.`,examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},EQ={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},AQ={name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]},NQ={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","variance"]},DQ={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},CQ={name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]},MQ={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},TQ={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},_Q={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},OQ={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the inverse hyperbolic tangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},FQ={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},BQ={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the inverse hyperbolic cosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},kQ={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},IQ={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},RQ={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},PQ={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},$Q={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},LQ={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},zQ={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},qQ={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},UQ={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},HQ={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},VQ={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},WQ={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},GQ={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},jQ={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},KQ={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},JQ={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},YQ={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},XQ={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},ZQ={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},QQ={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},eee={name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]},tee={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables, and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},ree={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},nee={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},iee={name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]},aee={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},see={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},oee={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},lee={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},uee={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},cee={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},fee={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},dee={name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, bigint, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "bigint")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","bigint","fraction","bignumber","string","format"]},pee={name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]},hee={name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]},mee={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},gee={name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]},vee={bignumber:rY,bigint:nY,boolean:iY,complex:aY,createUnit:sY,fraction:oY,index:lY,matrix:uY,number:cY,sparse:fY,splitUnit:dY,string:pY,unit:hY,e:fE,E:fE,false:qJ,i:UJ,Infinity:HJ,LN2:WJ,LN10:VJ,LOG2E:jJ,LOG10E:GJ,NaN:KJ,null:JJ,pi:dE,PI:dE,phi:YJ,SQRT1_2:XJ,SQRT2:ZJ,tau:QJ,true:eY,version:tY,speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Bohr magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Bohr radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:yY,lsolve:xY,lsolveAll:wY,lup:SY,lusolve:EY,leafCount:bY,polynomialRoot:AY,resolve:CY,simplify:MY,simplifyConstant:TY,simplifyCore:_Y,symbolicEqual:FY,rationalize:DY,slu:OY,usolve:BY,usolveAll:kY,qr:NY,abs:IY,add:RY,cbrt:PY,ceil:$Y,cube:LY,divide:zY,dotDivide:qY,dotMultiply:UY,dotPow:HY,exp:VY,expm:WY,expm1:GY,fix:jY,floor:KY,gcd:JY,hypot:YY,lcm:ZY,log:QY,log2:rX,log1p:tX,log10:eX,mod:nX,multiply:iX,norm:aX,nthRoot:sX,nthRoots:oX,pow:lX,round:uX,sign:cX,sqrt:fX,sqrtm:dX,square:gX,subtract:vX,unaryMinus:yX,unaryPlus:bX,xgcd:xX,invmod:XY,bitAnd:wX,bitNot:SX,bitOr:EX,bitXor:AX,leftShift:NX,rightArithShift:DX,rightLogShift:CX,bellNumbers:MX,catalan:TX,composition:_X,stirlingS2:OX,config:mY,import:gY,typed:vY,arg:FX,conj:BX,re:IX,im:kX,evaluate:RX,help:zX,parse:$X,parser:PX,compile:LX,distance:qX,intersect:UX,and:HX,not:VX,or:WX,xor:GX,mapSlices:jX,concat:JX,count:YX,cross:XX,column:KX,ctranspose:ZX,det:QX,diag:eZ,diff:tZ,dot:rZ,getMatrixDataType:oZ,identity:lZ,filter:iZ,flatten:aZ,forEach:sZ,inv:uZ,pinv:cZ,eigs:nZ,kron:fZ,matrixFromFunction:hZ,matrixFromRows:mZ,matrixFromColumns:pZ,map:dZ,ones:gZ,partitionSelect:vZ,range:yZ,resize:xZ,reshape:bZ,rotate:wZ,rotationMatrix:SZ,row:EZ,size:AZ,sort:NZ,squeeze:DZ,subset:CZ,trace:MZ,transpose:TZ,zeros:_Z,fft:OZ,ifft:FZ,sylvester:pX,schur:hX,lyap:mX,solveODE:gee,combinations:BZ,combinationsWithRep:kZ,factorial:IZ,gamma:RZ,kldivergence:$Z,lgamma:PZ,multinomial:LZ,permutations:zZ,pickRandom:qZ,random:UZ,randomInt:HZ,compare:VZ,compareNatural:WZ,compareText:GZ,deepEqual:jZ,equal:KZ,equalText:JZ,larger:YZ,largerEq:XZ,smaller:ZZ,smallerEq:QZ,unequal:eQ,setCartesian:tQ,setDifference:rQ,setDistinct:nQ,setIntersect:iQ,setIsSubset:aQ,setMultiplicity:sQ,setPowerset:oQ,setSize:lQ,setSymDifference:uQ,setUnion:cQ,zpk2tf:fQ,freqz:dQ,erf:pQ,zeta:hQ,cumsum:AQ,mad:mQ,max:gQ,mean:vQ,median:yQ,min:bQ,mode:xQ,prod:wQ,quantileSeq:SQ,std:EQ,sum:NQ,variance:DQ,corr:CQ,acos:MQ,acosh:TQ,acot:_Q,acoth:OQ,acsc:FQ,acsch:BQ,asec:kQ,asech:IQ,asin:RQ,asinh:PQ,atan:$Q,atanh:zQ,atan2:LQ,cos:qQ,cosh:UQ,cot:HQ,coth:VQ,csc:WQ,csch:GQ,sec:jQ,sech:KQ,sin:JQ,sinh:YQ,tan:XQ,tanh:ZQ,to:QQ,clone:tee,format:ree,bin:eee,oct:pee,hex:iee,isNaN:see,isInteger:aee,isNegative:oee,isNumeric:lee,hasNumericValue:nee,isPositive:uee,isPrime:cee,isZero:fee,print:hee,typeOf:mee,numeric:dee},pE="help",yee=["typed","mathWithTransform","Help"],bee=V(pE,yee,t=>{var{typed:e,mathWithTransform:r,Help:n}=t;return e(pE,{any:function(a){var s,o=a;if(typeof a!="string"){for(s in r)if(Re(r,s)&&a===r[s]){o=s;break}}var l=sn(vee,o);if(!l){var u=typeof o=="function"?o.name:o;throw new Error('No documentation found on "'+u+'"')}return new n(l)}})}),hE="chain",xee=["typed","Chain"],wee=V(hE,xee,t=>{var{typed:e,Chain:r}=t;return e(hE,{"":function(){return new r},any:function(i){return new r(i)}})}),mE="det",See=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],Eee=V(mE,See,t=>{var{typed:e,matrix:r,subtractScalar:n,multiply:i,divideScalar:a,isZero:s,unaryMinus:o}=t;return e(mE,{any:function(c){return tt(c)},"Array | Matrix":function(c){var f;switch(Ge(c)?f=c.size():Array.isArray(c)?(c=r(c),f=c.size()):f=[],f.length){case 0:return tt(c);case 1:if(f[0]===1)return tt(c.valueOf()[0]);if(f[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+ht(f)+")");case 2:{var d=f[0],p=f[1];if(d===p)return l(c.clone().valueOf(),d);if(p===0)return 1;throw new RangeError("Matrix must be square (size: "+ht(f)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+ht(f)+")")}}});function l(u,c,f){if(c===1)return tt(u[0][0]);if(c===2)return n(i(u[0][0],u[1][1]),i(u[1][0],u[0][1]));for(var d=!1,p=new Array(c).fill(0).map((A,D)=>D),h=0;h<c;h++){var m=p[h];if(s(u[m][h])){var v=void 0;for(v=h+1;v<c;v++)if(!s(u[p[v]][h])){m=p[v],p[v]=p[h],p[h]=m,d=!d;break}if(v===c)return u[m][h]}for(var y=u[m][h],S=h===0?1:u[p[h-1]][h-1],g=h+1;g<c;g++)for(var w=p[g],x=h+1;x<c;x++)u[w][x]=a(n(i(u[w][x],y),i(u[w][h],u[m][x])),S)}var b=u[p[c-1]][c-1];return d?o(b):b}}),gE="inv",Aee=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],Nee=V(gE,Aee,t=>{var{typed:e,matrix:r,divideScalar:n,addScalar:i,multiply:a,unaryMinus:s,det:o,identity:l,abs:u}=t;return e(gE,{"Array | Matrix":function(d){var p=Ge(d)?d.size():Ze(d);switch(p.length){case 1:if(p[0]===1)return Ge(d)?r([n(1,d.valueOf()[0])]):[n(1,d[0])];throw new RangeError("Matrix must be square (size: "+ht(p)+")");case 2:{var h=p[0],m=p[1];if(h===m)return Ge(d)?r(c(d.valueOf(),h,m),d.storage()):c(d,h,m);throw new RangeError("Matrix must be square (size: "+ht(p)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+ht(p)+")")}},any:function(d){return n(1,d)}});function c(f,d,p){var h,m,v,y,S;if(d===1){if(y=f[0][0],y===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,y)]]}else if(d===2){var g=o(f);if(g===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(f[1][1],g),n(s(f[0][1]),g)],[n(s(f[1][0]),g),n(f[0][0],g)]]}else{var w=f.concat();for(h=0;h<d;h++)w[h]=w[h].concat();for(var x=l(d).valueOf(),b=0;b<p;b++){var A=u(w[b][b]),D=b;for(h=b+1;h<d;)u(w[h][b])>A&&(A=u(w[h][b]),D=h),h++;if(A===0)throw Error("Cannot calculate inverse, determinant is zero");h=D,h!==b&&(S=w[b],w[b]=w[h],w[h]=S,S=x[b],x[b]=x[h],x[h]=S);var E=w[b],N=x[b];for(h=0;h<d;h++){var C=w[h],M=x[h];if(h!==b){if(C[b]!==0){for(v=n(s(C[b]),E[b]),m=b;m<p;m++)C[m]=i(C[m],a(v,E[m]));for(m=0;m<p;m++)M[m]=i(M[m],a(v,N[m]))}}else{for(v=E[b],m=b;m<p;m++)C[m]=n(C[m],v);for(m=0;m<p;m++)M[m]=n(M[m],v)}}}return x}}}),vE="pinv",Dee=["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],Cee=V(vE,Dee,t=>{var{typed:e,matrix:r,inv:n,deepEqual:i,equal:a,dotDivide:s,dot:o,ctranspose:l,divideScalar:u,multiply:c,add:f,Complex:d}=t;return e(vE,{"Array | Matrix":function(g){var w=Ge(g)?g.size():Ze(g);switch(w.length){case 1:return y(g)?l(g):w[0]===1?n(g):s(l(g),o(g,g));case 2:{if(y(g))return l(g);var x=w[0],b=w[1];if(x===b)try{return n(g)}catch(A){if(!(A instanceof Error&&A.message.match(/Cannot calculate inverse, determinant is zero/)))throw A}return Ge(g)?r(p(g.valueOf(),x,b),g.storage()):p(g,x,b)}default:throw new RangeError("Matrix must be two dimensional (size: "+ht(w)+")")}},any:function(g){return a(g,0)?tt(g):u(1,g)}});function p(S,g,w){var{C:x,F:b}=m(S,g,w),A=c(n(c(l(x),x)),l(x)),D=c(l(b),n(c(b,l(b))));return c(D,A)}function h(S,g,w){for(var x=tt(S),b=0,A=0;A<g;A++){if(w<=b)return x;for(var D=A;v(x[D][b]);)if(D++,g===D&&(D=A,b++,w===b))return x;[x[D],x[A]]=[x[A],x[D]];for(var E=x[A][b],N=0;N<w;N++)x[A][N]=s(x[A][N],E);for(var C=0;C<g;C++)if(C!==A){E=x[C][b];for(var M=0;M<w;M++)x[C][M]=f(x[C][M],c(-1,c(E,x[A][M])))}b++}return x}function m(S,g,w){var x=h(S,g,w),b=S.map((D,E)=>D.filter((N,C)=>C<g&&!v(o(x[C],x[C])))),A=x.filter((D,E)=>!v(o(x[E],x[E])));return{C:b,F:A}}function v(S){return a(f(S,d(1,1)),f(0,d(1,1)))}function y(S){return i(f(S,d(1,1)),f(c(S,0),d(1,1)))}});function Mee(t){var{addScalar:e,subtract:r,flatten:n,multiply:i,multiplyScalar:a,divideScalar:s,sqrt:o,abs:l,bignumber:u,diag:c,size:f,reshape:d,inv:p,qr:h,usolve:m,usolveAll:v,equal:y,complex:S,larger:g,smaller:w,matrixFromColumns:x,dot:b}=t;function A(ee,X,Z,pe){var de=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,j=D(ee,X,Z,pe,de);E(ee,X,Z,pe,de,j);var{values:W,C:U}=N(ee,X,Z,pe,de);if(de){var K=C(ee,X,U,j,W,Z,pe);return{values:W,eigenvectors:K}}return{values:W}}function D(ee,X,Z,pe,de){var j=pe==="BigNumber",W=pe==="Complex",U=j?u(0):0,K=j?u(1):W?S(1):1,ae=j?u(1):1,B=j?u(10):2,q=a(B,B),G;de&&(G=Array(X).fill(K));for(var se=!1;!se;){se=!0;for(var P=0;P<X;P++){for(var z=U,Y=U,ne=0;ne<X;ne++)P!==ne&&(z=e(z,l(ee[ne][P])),Y=e(Y,l(ee[P][ne])));if(!y(z,0)&&!y(Y,0)){for(var oe=ae,le=z,ve=s(Y,B),$=a(Y,B);w(le,ve);)le=a(le,q),oe=a(oe,B);for(;g(le,$);)le=s(le,q),oe=s(oe,B);var J=w(s(e(le,Y),oe),a(e(z,Y),.95));if(J){se=!1;for(var re=s(1,oe),fe=0;fe<X;fe++)P!==fe&&(ee[P][fe]=a(ee[P][fe],re),ee[fe][P]=a(ee[fe][P],oe));de&&(G[P]=a(G[P],re))}}}}return de?c(G):null}function E(ee,X,Z,pe,de,j){var W=pe==="BigNumber",U=pe==="Complex",K=W?u(0):U?S(0):0;W&&(Z=u(Z));for(var ae=0;ae<X-2;ae++){for(var B=0,q=K,G=ae+1;G<X;G++){var se=ee[G][ae];w(l(q),l(se))&&(q=se,B=G)}if(!w(l(q),Z)){if(B!==ae+1){var P=ee[B];ee[B]=ee[ae+1],ee[ae+1]=P;for(var z=0;z<X;z++){var Y=ee[z][B];ee[z][B]=ee[z][ae+1],ee[z][ae+1]=Y}if(de){var ne=j[B];j[B]=j[ae+1],j[ae+1]=ne}}for(var oe=ae+2;oe<X;oe++){var le=s(ee[oe][ae],q);if(le!==0){for(var ve=0;ve<X;ve++)ee[oe][ve]=r(ee[oe][ve],a(le,ee[ae+1][ve]));for(var $=0;$<X;$++)ee[$][ae+1]=e(ee[$][ae+1],a(le,ee[$][oe]));if(de)for(var J=0;J<X;J++)j[oe][J]=r(j[oe][J],a(le,j[ae+1][J]))}}}}return j}function N(ee,X,Z,pe,de){var j=pe==="BigNumber",W=pe==="Complex",U=j?u(1):W?S(1):1;j&&(Z=u(Z));for(var K=tt(ee),ae=[],B=X,q=[],G=de?c(Array(X).fill(U)):void 0,se=de?c(Array(B).fill(U)):void 0,P=0;P<=100;){P+=1;for(var z=K[B-1][B-1],Y=0;Y<B;Y++)K[Y][Y]=r(K[Y][Y],z);var{Q:ne,R:oe}=h(K);K=i(oe,ne);for(var le=0;le<B;le++)K[le][le]=e(K[le][le],z);if(de&&(se=i(se,ne)),B===1||w(l(K[B-1][B-2]),Z)){P=0,ae.push(K[B-1][B-1]),de&&(q.unshift([[1]]),I(se,X),G=i(G,se),B>1&&(se=c(Array(B-1).fill(U)))),B-=1,K.pop();for(var ve=0;ve<B;ve++)K[ve].pop()}else if(B===2||w(l(K[B-2][B-3]),Z)){P=0;var $=M(K[B-2][B-2],K[B-2][B-1],K[B-1][B-2],K[B-1][B-1]);ae.push(...$),de&&(q.unshift(F(K[B-2][B-2],K[B-2][B-1],K[B-1][B-2],K[B-1][B-1],$[0],$[1],Z,pe)),I(se,X),G=i(G,se),B>2&&(se=c(Array(B-2).fill(U)))),B-=2,K.pop(),K.pop();for(var J=0;J<B;J++)K[J].pop(),K[J].pop()}if(B===0)break}if(ae.sort((he,me)=>+r(l(he),l(me))),P>100){var re=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+ae.join(", "));throw re.values=ae,re.vectors=[],re}var fe=de?i(G,R(q,X)):void 0;return{values:ae,C:fe}}function C(ee,X,Z,pe,de,j,W){var U=p(Z),K=i(U,ee,Z),ae=W==="BigNumber",B=W==="Complex",q=ae?u(0):B?S(0):0,G=ae?u(1):B?S(1):1,se=[],P=[];for(var z of de){var Y=T(se,z,y);Y===-1?(se.push(z),P.push(1)):P[Y]+=1}for(var ne=[],oe=se.length,le=Array(X).fill(q),ve=c(Array(X).fill(G)),$=function(){var fe=se[J],he=r(K,i(fe,ve)),me=v(he,le);for(me.shift();me.length<P[J];){var Ae=L(he,X,me,j,W);if(Ae===null)break;me.push(Ae)}var xe=i(p(pe),Z);me=me.map(De=>i(xe,De)),ne.push(...me.map(De=>({value:fe,vector:n(De)})))},J=0;J<oe;J++)$();return ne}function M(ee,X,Z,pe){var de=e(ee,pe),j=r(a(ee,pe),a(X,Z)),W=a(de,.5),U=a(o(r(a(de,de),a(4,j))),.5);return[e(W,U),r(W,U)]}function F(ee,X,Z,pe,de,j,W,U){var K=U==="BigNumber",ae=U==="Complex",B=K?u(0):ae?S(0):0,q=K?u(1):ae?S(1):1;if(w(l(Z),W))return[[q,B],[B,q]];if(g(l(r(de,j)),W))return[[r(de,pe),r(j,pe)],[Z,Z]];var G=r(ee,de),se=r(pe,de);return w(l(X),W)&&w(l(se),W)?[[G,q],[Z,B]]:[[X,B],[se,q]]}function I(ee,X){for(var Z=0;Z<ee.length;Z++)ee[Z].push(...Array(X-ee[Z].length).fill(0));for(var pe=ee.length;pe<X;pe++)ee.push(Array(X).fill(0)),ee[pe][pe]=1;return ee}function R(ee,X){for(var Z=[],pe=0;pe<X;pe++)Z[pe]=Array(X).fill(0);var de=0;for(var j of ee){for(var W=j.length,U=0;U<W;U++)for(var K=0;K<W;K++)Z[de+U][de+K]=j[U][K];de+=W}return Z}function T(ee,X,Z){for(var pe=0;pe<ee.length;pe++)if(Z(ee[pe],X))return pe;return-1}function L(ee,X,Z,pe,de){for(var j=de==="BigNumber"?u(1e3):1e3,W,U=0;U<5;++U){W=_(X,Z,de);try{W=m(ee,W)}catch{continue}if(g(k(W),j))break}if(U>=5)return null;for(U=0;;){var K=m(ee,W);if(w(k(H(W,[K])),pe))break;if(++U>=10)return null;W=ie(K)}return W}function _(ee,X,Z){var pe=Z==="BigNumber",de=Z==="Complex",j=Array(ee).fill(0).map(W=>2*Math.random()-1);return pe&&(j=j.map(W=>u(W))),de&&(j=j.map(W=>S(W))),j=H(j,X),ie(j,Z)}function H(ee,X){var Z=f(ee);for(var pe of X)pe=d(pe,Z),ee=r(ee,i(s(b(pe,ee),b(pe,pe)),pe));return ee}function k(ee){return l(o(b(ee,ee)))}function ie(ee,X){var Z=X==="BigNumber",pe=X==="Complex",de=Z?u(1):pe?S(1):1;return i(s(de,k(ee)),ee)}return A}function Tee(t){var{config:e,addScalar:r,subtract:n,abs:i,atan:a,cos:s,sin:o,multiplyScalar:l,inv:u,bignumber:c,multiply:f,add:d}=t;function p(E,N){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.relTol,M=arguments.length>3?arguments[3]:void 0,F=arguments.length>4?arguments[4]:void 0;if(M==="number")return h(E,C,F);if(M==="BigNumber")return m(E,C,F);throw TypeError("Unsupported data type: "+M)}function h(E,N,C){var M=E.length,F=Math.abs(N/M),I,R;if(C){R=new Array(M);for(var T=0;T<M;T++)R[T]=Array(M).fill(0),R[T][T]=1}for(var L=b(E);Math.abs(L[1])>=Math.abs(F);){var _=L[0][0],H=L[0][1];I=v(E[_][_],E[H][H],E[_][H]),E=x(E,I,_,H),C&&(R=S(R,I,_,H)),L=b(E)}for(var k=Array(M).fill(0),ie=0;ie<M;ie++)k[ie]=E[ie][ie];return D(tt(k),R,C)}function m(E,N,C){var M=E.length,F=i(N/M),I,R;if(C){R=new Array(M);for(var T=0;T<M;T++)R[T]=Array(M).fill(0),R[T][T]=1}for(var L=A(E);i(L[1])>=i(F);){var _=L[0][0],H=L[0][1];I=y(E[_][_],E[H][H],E[_][H]),E=w(E,I,_,H),C&&(R=g(R,I,_,H)),L=A(E)}for(var k=Array(M).fill(0),ie=0;ie<M;ie++)k[ie]=E[ie][ie];return D(tt(k),R,C)}function v(E,N,C){var M=N-E;return Math.abs(M)<=e.relTol?Math.PI/4:.5*Math.atan(2*C/(N-E))}function y(E,N,C){var M=n(N,E);return i(M)<=e.relTol?c(-1).acos().div(4):l(.5,a(f(2,C,u(M))))}function S(E,N,C,M){for(var F=E.length,I=Math.cos(N),R=Math.sin(N),T=Array(F).fill(0),L=Array(F).fill(0),_=0;_<F;_++)T[_]=I*E[_][C]-R*E[_][M],L[_]=R*E[_][C]+I*E[_][M];for(var H=0;H<F;H++)E[H][C]=T[H],E[H][M]=L[H];return E}function g(E,N,C,M){for(var F=E.length,I=s(N),R=o(N),T=Array(F).fill(c(0)),L=Array(F).fill(c(0)),_=0;_<F;_++)T[_]=n(l(I,E[_][C]),l(R,E[_][M])),L[_]=r(l(R,E[_][C]),l(I,E[_][M]));for(var H=0;H<F;H++)E[H][C]=T[H],E[H][M]=L[H];return E}function w(E,N,C,M){for(var F=E.length,I=c(s(N)),R=c(o(N)),T=l(I,I),L=l(R,R),_=Array(F).fill(c(0)),H=Array(F).fill(c(0)),k=f(c(2),I,R,E[C][M]),ie=r(n(l(T,E[C][C]),k),l(L,E[M][M])),ee=d(l(L,E[C][C]),k,l(T,E[M][M])),X=0;X<F;X++)_[X]=n(l(I,E[C][X]),l(R,E[M][X])),H[X]=r(l(R,E[C][X]),l(I,E[M][X]));E[C][C]=ie,E[M][M]=ee,E[C][M]=c(0),E[M][C]=c(0);for(var Z=0;Z<F;Z++)Z!==C&&Z!==M&&(E[C][Z]=_[Z],E[Z][C]=_[Z],E[M][Z]=H[Z],E[Z][M]=H[Z]);return E}function x(E,N,C,M){for(var F=E.length,I=Math.cos(N),R=Math.sin(N),T=I*I,L=R*R,_=Array(F).fill(0),H=Array(F).fill(0),k=T*E[C][C]-2*I*R*E[C][M]+L*E[M][M],ie=L*E[C][C]+2*I*R*E[C][M]+T*E[M][M],ee=0;ee<F;ee++)_[ee]=I*E[C][ee]-R*E[M][ee],H[ee]=R*E[C][ee]+I*E[M][ee];E[C][C]=k,E[M][M]=ie,E[C][M]=0,E[M][C]=0;for(var X=0;X<F;X++)X!==C&&X!==M&&(E[C][X]=_[X],E[X][C]=_[X],E[M][X]=H[X],E[X][M]=H[X]);return E}function b(E){for(var N=E.length,C=0,M=[0,1],F=0;F<N;F++)for(var I=F+1;I<N;I++)Math.abs(C)<Math.abs(E[F][I])&&(C=Math.abs(E[F][I]),M=[F,I]);return[M,C]}function A(E){for(var N=E.length,C=0,M=[0,1],F=0;F<N;F++)for(var I=F+1;I<N;I++)i(C)<i(E[F][I])&&(C=i(E[F][I]),M=[F,I]);return[M,C]}function D(E,N,C){var M=E.length,F=Array(M),I;if(C){I=Array(M);for(var R=0;R<M;R++)I[R]=Array(M)}for(var T=0;T<M;T++){for(var L=0,_=E[0],H=0;H<E.length;H++)i(E[H])<i(_)&&(L=H,_=E[L]);if(F[T]=E.splice(L,1)[0],C)for(var k=0;k<M;k++)I[T][k]=N[k][L],N[k].splice(L,1)}if(!C)return{values:F};var ie=I.map((ee,X)=>({value:F[X],vector:ee}));return{values:F,eigenvectors:ie}}return p}var _ee="eigs",Oee=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],Fee=V(_ee,Oee,t=>{var{config:e,typed:r,matrix:n,addScalar:i,subtract:a,equal:s,abs:o,atan:l,cos:u,sin:c,multiplyScalar:f,divideScalar:d,inv:p,bignumber:h,multiply:m,add:v,larger:y,column:S,flatten:g,number:w,complex:x,sqrt:b,diag:A,size:D,reshape:E,qr:N,usolve:C,usolveAll:M,im:F,re:I,smaller:R,matrixFromColumns:T,dot:L}=t,_=Tee({config:e,addScalar:i,subtract:a,abs:o,atan:l,cos:u,sin:c,multiplyScalar:f,inv:p,bignumber:h,multiply:m,add:v}),H=Mee({addScalar:i,subtract:a,multiply:m,multiplyScalar:f,flatten:g,divideScalar:d,sqrt:b,abs:o,bignumber:h,diag:A,size:D,reshape:E,qr:N,inv:p,usolve:C,usolveAll:M,equal:s,complex:x,larger:y,smaller:R,matrixFromColumns:T,dot:L});return r("eigs",{Array:function(j){return k(n(j))},"Array, number|BigNumber":function(j,W){return k(n(j),{precision:W})},"Array, Object"(de,j){return k(n(de),j)},Matrix:function(j){return k(j,{matricize:!0})},"Matrix, number|BigNumber":function(j,W){return k(j,{precision:W,matricize:!0})},"Matrix, Object":function(j,W){var U={matricize:!0};return pr(U,W),k(j,U)}});function k(de){var j,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},U="eigenvectors"in W?W.eigenvectors:!0,K=(j=W.precision)!==null&&j!==void 0?j:e.relTol,ae=ie(de,K,U);return W.matricize&&(ae.values=n(ae.values),U&&(ae.eigenvectors=ae.eigenvectors.map(B=>{var{value:q,vector:G}=B;return{value:q,vector:n(G)}}))),U&&Object.defineProperty(ae,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),ae}function ie(de,j,W){var U=de.toArray(),K=de.size();if(K.length!==2||K[0]!==K[1])throw new RangeError("Matrix must be square (size: ".concat(ht(K),")"));var ae=K[0];if(X(U,ae,j)&&(Z(U,ae),ee(U,ae,j))){var B=pe(de,U,ae);return _(U,ae,j,B,W)}var q=pe(de,U,ae);return H(U,ae,j,q,W)}function ee(de,j,W){for(var U=0;U<j;U++)for(var K=U;K<j;K++)if(y(h(o(a(de[U][K],de[K][U]))),W))return!1;return!0}function X(de,j,W){for(var U=0;U<j;U++)for(var K=0;K<j;K++)if(y(h(o(F(de[U][K]))),W))return!1;return!0}function Z(de,j){for(var W=0;W<j;W++)for(var U=0;U<j;U++)de[W][U]=I(de[W][U])}function pe(de,j,W){var U=de.datatype();if(U==="number"||U==="BigNumber"||U==="Complex")return U;for(var K=!1,ae=!1,B=!1,q=0;q<W;q++)for(var G=0;G<W;G++){var se=j[q][G];if(at(se)||Yu(se))K=!0;else if(lt(se))ae=!0;else if(ha(se))B=!0;else throw TypeError("Unsupported type in Matrix: "+It(se))}if(ae&&B&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),B){for(var P=0;P<W;P++)for(var z=0;z<W;z++)j[P][z]=x(j[P][z]);return"Complex"}if(ae){for(var Y=0;Y<W;Y++)for(var ne=0;ne<W;ne++)j[Y][ne]=h(j[Y][ne]);return"BigNumber"}if(K){for(var oe=0;oe<W;oe++)for(var le=0;le<W;le++)j[oe][le]=w(j[oe][le]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}}),yE="expm",Bee=["typed","abs","add","identity","inv","multiply"],kee=V(yE,Bee,t=>{var{typed:e,abs:r,add:n,identity:i,inv:a,multiply:s}=t;return e(yE,{Matrix:function(f){var d=f.size();if(d.length!==2||d[0]!==d[1])throw new RangeError("Matrix must be square (size: "+ht(d)+")");for(var p=d[0],h=1e-15,m=o(f),v=l(m,h),y=v.q,S=v.j,g=s(f,Math.pow(2,-S)),w=i(p),x=i(p),b=1,A=g,D=-1,E=1;E<=y;E++)E>1&&(A=s(A,g),D=-D),b=b*(y-E+1)/((2*y-E+1)*E),w=n(w,s(b,A)),x=n(x,s(b*D,A));for(var N=s(a(x),w),C=0;C<S;C++)N=s(N,N);return Ps(f)?f.createSparseMatrix(N):N}});function o(c){for(var f=c.size()[0],d=0,p=0;p<f;p++){for(var h=0,m=0;m<f;m++)h+=r(c.get([p,m]));d=Math.max(h,d)}return d}function l(c,f){for(var d=30,p=0;p<d;p++)for(var h=0;h<=p;h++){var m=p-h;if(u(c,h,m)<f)return{q:h,j:m}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}function u(c,f,d){for(var p=1,h=2;h<=f;h++)p*=h;for(var m=p,v=f+1;v<=2*f;v++)m*=v;var y=m*(2*f+1);return 8*Math.pow(c/Math.pow(2,d),2*f)*p*p/(m*y)}}),bE="sqrtm",Iee=["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],Ree=V(bE,Iee,t=>{var{typed:e,abs:r,add:n,multiply:i,map:a,sqrt:s,subtract:o,inv:l,size:u,max:c,identity:f}=t,d=1e3,p=1e-6;function h(m){var v,y=0,S=m,g=f(u(m));do{var w=S;if(S=i(.5,n(w,l(g))),g=i(.5,n(g,l(w))),v=c(r(o(S,w))),v>p&&++y>d)throw new Error("computing square root of matrix: iterative method could not converge")}while(v>p);return S}return e(bE,{"Array | Matrix":function(v){var y=Ge(v)?v.size():Ze(v);switch(y.length){case 1:if(y[0]===1)return a(v,s);throw new RangeError("Matrix must be square (size: "+ht(y)+")");case 2:{var S=y[0],g=y[1];if(S===g)return h(v);throw new RangeError("Matrix must be square (size: "+ht(y)+")")}default:throw new RangeError("Matrix must be at most two dimensional (size: "+ht(y)+")")}}})}),xE="sylvester",Pee=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],$ee=V(xE,Pee,t=>{var{typed:e,schur:r,matrixFromColumns:n,matrix:i,multiply:a,range:s,concat:o,transpose:l,index:u,subset:c,add:f,subtract:d,identity:p,lusolve:h,abs:m}=t;return e(xE,{"Matrix, Matrix, Matrix":v,"Array, Matrix, Matrix":function(S,g,w){return v(i(S),g,w)},"Array, Array, Matrix":function(S,g,w){return v(i(S),i(g),w)},"Array, Matrix, Array":function(S,g,w){return v(i(S),g,i(w))},"Matrix, Array, Matrix":function(S,g,w){return v(S,i(g),w)},"Matrix, Array, Array":function(S,g,w){return v(S,i(g),i(w))},"Matrix, Matrix, Array":function(S,g,w){return v(S,g,i(w))},"Array, Array, Array":function(S,g,w){return v(i(S),i(g),i(w)).toArray()}});function v(y,S,g){for(var w=S.size()[0],x=y.size()[0],b=r(y),A=b.T,D=b.U,E=r(a(-1,S)),N=E.T,C=E.U,M=a(a(l(D),g),C),F=s(0,x),I=[],R=(B,q)=>o(B,q,1),T=(B,q)=>o(B,q,0),L=0;L<w;L++)if(L<w-1&&m(c(N,u(L+1,L)))>1e-5){for(var _=T(c(M,u(F,L)),c(M,u(F,L+1))),H=0;H<L;H++)_=f(_,T(a(I[H],c(N,u(H,L))),a(I[H],c(N,u(H,L+1)))));var k=a(p(x),a(-1,c(N,u(L,L)))),ie=a(p(x),a(-1,c(N,u(L+1,L)))),ee=a(p(x),a(-1,c(N,u(L,L+1)))),X=a(p(x),a(-1,c(N,u(L+1,L+1)))),Z=T(R(f(A,k),ie),R(ee,f(A,X))),pe=h(Z,_);I[L]=pe.subset(u(s(0,x),0)),I[L+1]=pe.subset(u(s(x,2*x),0)),L++}else{for(var de=c(M,u(F,L)),j=0;j<L;j++)de=f(de,a(I[j],c(N,u(j,L))));var W=c(N,u(L,L)),U=d(A,a(W,p(x)));I[L]=h(U,de)}var K=i(n(...I)),ae=a(D,a(K,l(C)));return ae}}),wE="schur",Lee=["typed","matrix","identity","multiply","qr","norm","subtract"],zee=V(wE,Lee,t=>{var{typed:e,matrix:r,identity:n,multiply:i,qr:a,norm:s,subtract:o}=t;return e(wE,{Array:function(c){var f=l(r(c));return{U:f.U.valueOf(),T:f.T.valueOf()}},Matrix:function(c){return l(c)}});function l(u){var c=u.size()[0],f=u,d=n(c),p=0,h;do{h=f;var m=a(f),v=m.Q,y=m.R;if(f=i(y,v),d=i(d,v),p++>100)break}while(s(o(f,h))>1e-4);return{U:d,T:f}}}),SE="lyap",qee=["typed","matrix","sylvester","multiply","transpose"],Uee=V(SE,qee,t=>{var{typed:e,matrix:r,sylvester:n,multiply:i,transpose:a}=t;return e(SE,{"Matrix, Matrix":function(o,l){return n(o,a(o),i(-1,l))},"Array, Matrix":function(o,l){return n(r(o),a(r(o)),i(-1,l))},"Matrix, Array":function(o,l){return n(o,a(r(o)),r(i(-1,l)))},"Array, Array":function(o,l){return n(r(o),a(r(o)),r(i(-1,l))).toArray()}})}),Hee="divide",Vee=["typed","matrix","multiply","equalScalar","divideScalar","inv"],Wee=V(Hee,Vee,t=>{var{typed:e,matrix:r,multiply:n,equalScalar:i,divideScalar:a,inv:s}=t,o=zr({typed:e,equalScalar:i}),l=xi({typed:e});return e("divide",A2({"Array | Matrix, Array | Matrix":function(c,f){return n(c,s(f))},"DenseMatrix, any":function(c,f){return l(c,f,a,!1)},"SparseMatrix, any":function(c,f){return o(c,f,a,!1)},"Array, any":function(c,f){return l(r(c),f,a,!1).valueOf()},"any, Array | Matrix":function(c,f){return n(c,s(f))}},a.signatures))}),EE="distance",Gee=["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],jee=V(EE,Gee,t=>{var{typed:e,addScalar:r,subtractScalar:n,multiplyScalar:i,divideScalar:a,deepEqual:s,sqrt:o,abs:l}=t;return e(EE,{"Array, Array, Array":function(x,b,A){if(x.length===2&&b.length===2&&A.length===2){if(!c(x))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!c(b))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!c(A))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(s(b,A))throw new TypeError("LinePoint1 should not be same with LinePoint2");var D=n(A[1],b[1]),E=n(b[0],A[0]),N=n(i(A[0],b[1]),i(b[0],A[1]));return v(x[0],x[1],D,E,N)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(x,b,A){if(Object.keys(x).length===2&&Object.keys(b).length===2&&Object.keys(A).length===2){if(!c(x))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!c(b))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!c(A))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(s(h(b),h(A)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in x&&"pointY"in x&&"lineOnePtX"in b&&"lineOnePtY"in b&&"lineTwoPtX"in A&&"lineTwoPtY"in A){var D=n(A.lineTwoPtY,b.lineOnePtY),E=n(b.lineOnePtX,A.lineTwoPtX),N=n(i(A.lineTwoPtX,b.lineOnePtY),i(b.lineOnePtX,A.lineTwoPtY));return v(x.pointX,x.pointY,D,E,N)}else throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(x,b){if(x.length===2&&b.length===3){if(!c(x))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!f(b))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return v(x[0],x[1],b[0],b[1],b[2])}else if(x.length===3&&b.length===6){if(!f(x))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!p(b))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return y(x[0],x[1],x[2],b[0],b[1],b[2],b[3],b[4],b[5])}else if(x.length===b.length&&x.length>0){if(!d(x))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!d(b))throw new TypeError("All values of an array should be numbers or BigNumbers");return S(x,b)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(x,b){if(Object.keys(x).length===2&&Object.keys(b).length===3){if(!c(x))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!f(b))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in x&&"pointY"in x&&"xCoeffLine"in b&&"yCoeffLine"in b&&"constant"in b)return v(x.pointX,x.pointY,b.xCoeffLine,b.yCoeffLine,b.constant);throw new TypeError("Key names do not match")}else if(Object.keys(x).length===3&&Object.keys(b).length===6){if(!f(x))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!p(b))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in x&&"pointY"in x&&"x0"in b&&"y0"in b&&"z0"in b&&"a"in b&&"b"in b&&"c"in b)return y(x.pointX,x.pointY,x.pointZ,b.x0,b.y0,b.z0,b.a,b.b,b.c);throw new TypeError("Key names do not match")}else if(Object.keys(x).length===2&&Object.keys(b).length===2){if(!c(x))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!c(b))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in x&&"pointOneY"in x&&"pointTwoX"in b&&"pointTwoY"in b)return S([x.pointOneX,x.pointOneY],[b.pointTwoX,b.pointTwoY]);throw new TypeError("Key names do not match")}else if(Object.keys(x).length===3&&Object.keys(b).length===3){if(!f(x))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!f(b))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in x&&"pointOneY"in x&&"pointOneZ"in x&&"pointTwoX"in b&&"pointTwoY"in b&&"pointTwoZ"in b)return S([x.pointOneX,x.pointOneY,x.pointOneZ],[b.pointTwoX,b.pointTwoY,b.pointTwoZ]);throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},Array:function(x){if(!m(x))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return g(x)}});function u(w){return typeof w=="number"||lt(w)}function c(w){return w.constructor!==Array&&(w=h(w)),u(w[0])&&u(w[1])}function f(w){return w.constructor!==Array&&(w=h(w)),u(w[0])&&u(w[1])&&u(w[2])}function d(w){return Array.isArray(w)||(w=h(w)),w.every(u)}function p(w){return w.constructor!==Array&&(w=h(w)),u(w[0])&&u(w[1])&&u(w[2])&&u(w[3])&&u(w[4])&&u(w[5])}function h(w){for(var x=Object.keys(w),b=[],A=0;A<x.length;A++)b.push(w[x[A]]);return b}function m(w){if(w[0].length===2&&u(w[0][0])&&u(w[0][1])){if(w.some(x=>x.length!==2||!u(x[0])||!u(x[1])))return!1}else if(w[0].length===3&&u(w[0][0])&&u(w[0][1])&&u(w[0][2])){if(w.some(x=>x.length!==3||!u(x[0])||!u(x[1])||!u(x[2])))return!1}else return!1;return!0}function v(w,x,b,A,D){var E=l(r(r(i(b,w),i(A,x)),D)),N=o(r(i(b,b),i(A,A)));return a(E,N)}function y(w,x,b,A,D,E,N,C,M){var F=[n(i(n(D,x),M),i(n(E,b),C)),n(i(n(E,b),N),i(n(A,w),M)),n(i(n(A,w),C),i(n(D,x),N))];F=o(r(r(i(F[0],F[0]),i(F[1],F[1])),i(F[2],F[2])));var I=o(r(r(i(N,N),i(C,C)),i(M,M)));return a(F,I)}function S(w,x){for(var b=w.length,A=0,D=0,E=0;E<b;E++)D=n(w[E],x[E]),A=r(i(D,D),A);return o(A)}function g(w){for(var x=[],b=[],A=[],D=0;D<w.length-1;D++)for(var E=D+1;E<w.length;E++)w[0].length===2?(b=[w[D][0],w[D][1]],A=[w[E][0],w[E][1]]):w[0].length===3&&(b=[w[D][0],w[D][1],w[D][2]],A=[w[E][0],w[E][1],w[E][2]]),x.push(S(b,A));return x}}),Kee="intersect",Jee=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],Yee=V(Kee,Jee,t=>{var{typed:e,config:r,abs:n,add:i,addScalar:a,matrix:s,multiply:o,multiplyScalar:l,divideScalar:u,subtract:c,smaller:f,equalScalar:d,flatten:p,isZero:h,isNumeric:m}=t;return e("intersect",{"Array, Array, Array":v,"Array, Array, Array, Array":y,"Matrix, Matrix, Matrix":function(C,M,F){var I=v(C.valueOf(),M.valueOf(),F.valueOf());return I===null?null:s(I)},"Matrix, Matrix, Matrix, Matrix":function(C,M,F,I){var R=y(C.valueOf(),M.valueOf(),F.valueOf(),I.valueOf());return R===null?null:s(R)}});function v(N,C,M){if(N=S(N),C=S(C),M=S(M),!w(N))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!w(C))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!x(M))throw new TypeError("Array with 4 numbers expected as third argument");return E(N[0],N[1],N[2],C[0],C[1],C[2],M[0],M[1],M[2],M[3])}function y(N,C,M,F){if(N=S(N),C=S(C),M=S(M),F=S(F),N.length===2){if(!g(N))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!g(C))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!g(M))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!g(F))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return b(N,C,M,F)}else if(N.length===3){if(!w(N))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!w(C))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!w(M))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!w(F))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return D(N[0],N[1],N[2],C[0],C[1],C[2],M[0],M[1],M[2],F[0],F[1],F[2])}else throw new TypeError("Arrays with two or thee dimensional points expected")}function S(N){return N.length===1?N[0]:N.length>1&&Array.isArray(N[0])&&N.every(C=>Array.isArray(C)&&C.length===1)?p(N):N}function g(N){return N.length===2&&m(N[0])&&m(N[1])}function w(N){return N.length===3&&m(N[0])&&m(N[1])&&m(N[2])}function x(N){return N.length===4&&m(N[0])&&m(N[1])&&m(N[2])&&m(N[3])}function b(N,C,M,F){var I=N,R=M,T=c(I,C),L=c(R,F),_=c(l(T[0],L[1]),l(L[0],T[1]));if(h(_)||f(n(_),r.relTol))return null;var H=l(L[0],I[1]),k=l(L[1],I[0]),ie=l(L[0],R[1]),ee=l(L[1],R[0]),X=u(a(c(c(H,k),ie),ee),_);return i(o(T,X),I)}function A(N,C,M,F,I,R,T,L,_,H,k,ie){var ee=l(c(N,C),c(M,F)),X=l(c(I,R),c(T,L)),Z=l(c(_,H),c(k,ie));return a(a(ee,X),Z)}function D(N,C,M,F,I,R,T,L,_,H,k,ie){var ee=A(N,T,H,T,C,L,k,L,M,_,ie,_),X=A(H,T,F,N,k,L,I,C,ie,_,R,M),Z=A(N,T,F,N,C,L,I,C,M,_,R,M),pe=A(H,T,H,T,k,L,k,L,ie,_,ie,_),de=A(F,N,F,N,I,C,I,C,R,M,R,M),j=c(l(ee,X),l(Z,pe)),W=c(l(de,pe),l(X,X));if(h(W))return null;var U=u(j,W),K=u(a(ee,l(U,X)),pe),ae=a(N,l(U,c(F,N))),B=a(C,l(U,c(I,C))),q=a(M,l(U,c(R,M))),G=a(T,l(K,c(H,T))),se=a(L,l(K,c(k,L))),P=a(_,l(K,c(ie,_)));return d(ae,G)&&d(B,se)&&d(q,P)?[ae,B,q]:null}function E(N,C,M,F,I,R,T,L,_,H){var k=l(N,T),ie=l(F,T),ee=l(C,L),X=l(I,L),Z=l(M,_),pe=l(R,_),de=c(c(c(H,k),ee),Z),j=c(c(c(a(a(ie,X),pe),k),ee),Z),W=u(de,j),U=a(N,l(W,c(F,N))),K=a(C,l(W,c(I,C))),ae=a(M,l(W,c(R,M)));return[U,K,ae]}}),AE="sum",Xee=["typed","config","add","numeric"],mT=V(AE,Xee,t=>{var{typed:e,config:r,add:n,numeric:i}=t;return e(AE,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":s,"...":function(l){if(hl(l))throw new TypeError("Scalar values expected in function sum");return a(l)}});function a(o){var l;return ss(o,function(u){try{l=l===void 0?u:n(l,u)}catch(c){throw hn(c,"sum",u)}}),l===void 0&&(l=i(0,r.number)),typeof l=="string"&&(l=i(l,fs(l,r))),l}function s(o,l){try{var u=$p(o,l,n);return u}catch(c){throw hn(c,"sum")}}}),af="cumsum",Zee=["typed","add","unaryPlus"],gT=V(af,Zee,t=>{var{typed:e,add:r,unaryPlus:n}=t;return e(af,{Array:i,Matrix:function(u){return u.create(i(u.valueOf(),u.datatype()))},"Array, number | BigNumber":s,"Matrix, number | BigNumber":function(u,c){return u.create(s(u.valueOf(),c),u.datatype())},"...":function(u){if(hl(u))throw new TypeError("All values expected to be scalar in function cumsum");return i(u)}});function i(l){try{return a(l)}catch(u){throw hn(u,af)}}function a(l){if(l.length===0)return[];for(var u=[n(l[0])],c=1;c<l.length;++c)u.push(r(u[c-1],l[c]));return u}function s(l,u){var c=Ze(l);if(u<0||u>=c.length)throw new yi(u,c.length);try{return o(l,u)}catch(f){throw hn(f,af)}}function o(l,u){var c,f,d;if(u<=0){var p=l[0][0];if(Array.isArray(p)){for(d=Z2(l),f=[],c=0;c<d.length;c++)f[c]=o(d[c],u-1);return f}else return a(l)}else{for(f=[],c=0;c<l.length;c++)f[c]=o(l[c],u-1);return f}}}),NE="mean",Qee=["typed","add","divide"],vT=V(NE,Qee,t=>{var{typed:e,add:r,divide:n}=t;return e(NE,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":i,"...":function(o){if(hl(o))throw new TypeError("Scalar values expected in function mean");return a(o)}});function i(s,o){try{var l=$p(s,o,r),u=Array.isArray(s)?Ze(s):s.size();return n(l,u[o])}catch(c){throw hn(c,"mean")}}function a(s){var o,l=0;if(ss(s,function(u){try{o=o===void 0?u:r(o,u),l++}catch(c){throw hn(c,"mean",u)}}),l===0)throw new Error("Cannot calculate the mean of an empty array");return n(o,l)}}),DE="median",ete=["typed","add","divide","compare","partitionSelect"],tte=V(DE,ete,t=>{var{typed:e,add:r,divide:n,compare:i,partitionSelect:a}=t;function s(u){try{u=Dt(u.valueOf());var c=u.length;if(c===0)throw new Error("Cannot calculate median of an empty array");if(c%2===0){for(var f=c/2-1,d=a(u,f+1),p=u[f],h=0;h<f;++h)i(u[h],p)>0&&(p=u[h]);return l(p,d)}else{var m=a(u,(c-1)/2);return o(m)}}catch(v){throw hn(v,"median")}}var o=e({"number | BigNumber | Complex | Unit":function(c){return c}}),l=e({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(c,f){return n(r(c,f),2)}});return e(DE,{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(c,f){throw new Error("median(A, dim) is not yet supported")},"...":function(c){if(hl(c))throw new TypeError("Scalar values expected in function median");return s(c)}})}),CE="mad",rte=["typed","abs","map","median","subtract"],nte=V(CE,rte,t=>{var{typed:e,abs:r,map:n,median:i,subtract:a}=t;return e(CE,{"Array | Matrix":s,"...":function(l){return s(l)}});function s(o){if(o=Dt(o.valueOf()),o.length===0)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var l=i(o);return i(n(o,function(u){return r(a(u,l))}))}catch(u){throw u instanceof TypeError&&u.message.includes("median")?new TypeError(u.message.replace("median","mad")):hn(u,"mad")}}}),gm="unbiased",ME="variance",ite=["typed","add","subtract","multiply","divide","mapSlices","isNaN"],yT=V(ME,ite,t=>{var{typed:e,add:r,subtract:n,multiply:i,divide:a,mapSlices:s,isNaN:o}=t;return e(ME,{"Array | Matrix":function(f){return l(f,gm)},"Array | Matrix, string":l,"Array | Matrix, number | BigNumber":function(f,d){return u(f,d,gm)},"Array | Matrix, number | BigNumber, string":u,"...":function(f){return l(f,gm)}});function l(c,f){var d,p=0;if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(ss(c,function(v){try{d=d===void 0?v:r(d,v),p++}catch(y){throw hn(y,"variance",v)}}),p===0)throw new Error("Cannot calculate variance of an empty array");var h=a(d,p);if(d=void 0,ss(c,function(v){var y=n(v,h);d=d===void 0?i(y,y):r(d,i(y,y))}),o(d))return d;switch(f){case"uncorrected":return a(d,p);case"biased":return a(d,p+1);case"unbiased":{var m=lt(d)?d.mul(0):0;return p===1?m:a(d,p-1)}default:throw new Error('Unknown normalization "'+f+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function u(c,f,d){try{if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return s(c,f,p=>l(p,d))}catch(p){throw hn(p,"variance")}}}),TE="quantileSeq",ate=["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger","mapSlices"],bT=V(TE,ate,t=>{var{typed:e,bignumber:r,add:n,subtract:i,divide:a,multiply:s,partitionSelect:o,compare:l,isInteger:u,smaller:c,smallerEq:f,larger:d,mapSlices:p}=t;return e(TE,{"Array | Matrix, number | BigNumber":(S,g)=>m(S,g,!1),"Array | Matrix, number | BigNumber, number":(S,g,w)=>h(S,g,!1,w,m),"Array | Matrix, number | BigNumber, boolean":m,"Array | Matrix, number | BigNumber, boolean, number":(S,g,w,x)=>h(S,g,w,x,m),"Array | Matrix, Array | Matrix":(S,g)=>v(S,g,!1),"Array | Matrix, Array | Matrix, number":(S,g,w)=>h(S,g,!1,w,v),"Array | Matrix, Array | Matrix, boolean":v,"Array | Matrix, Array | Matrix, boolean, number":(S,g,w,x)=>h(S,g,w,x,v)});function h(S,g,w,x,b){return p(S,x,A=>b(A,g,w))}function m(S,g,w){var x,b=S.valueOf();if(c(g,0))throw new Error("N/prob must be non-negative");if(f(g,1))return at(g)?y(b,g,w):r(y(b,g,w));if(d(g,1)){if(!u(g))throw new Error("N must be a positive integer");if(d(g,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var A=n(g,1);x=[];for(var D=0;c(D,g);D++){var E=a(D+1,A);x.push(y(b,E,w))}return at(g)?x:r(x)}}function v(S,g,w){for(var x=S.valueOf(),b=g.valueOf(),A=[],D=0;D<b.length;++D)A.push(y(x,b[D],w));return A}function y(S,g,w){var x=Dt(S),b=x.length;if(b===0)throw new Error("Cannot calculate quantile of an empty sequence");var A=at(g)?g*(b-1):g.times(b-1),D=at(g)?Math.floor(A):A.floor().toNumber(),E=at(g)?A%1:A.minus(D);if(u(A))return w?x[A]:o(x,at(g)?A:A.valueOf());var N,C;if(w)N=x[D],C=x[D+1];else{C=o(x,D+1),N=x[D];for(var M=0;M<D;++M)l(x[M],N)>0&&(N=x[M])}return n(s(N,i(1,E)),s(C,E))}}),_E="std",ste=["typed","map","sqrt","variance"],xT=V(_E,ste,t=>{var{typed:e,map:r,sqrt:n,variance:i}=t;return e(_E,{"Array | Matrix":a,"Array | Matrix, string":a,"Array | Matrix, number | BigNumber":a,"Array | Matrix, number | BigNumber, string":a,"...":function(o){return a(o)}});function a(s,o){if(s.length===0)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var l=i.apply(null,arguments);return Qn(l)?r(l,n):n(l)}catch(u){throw u instanceof TypeError&&u.message.includes(" variance")?new TypeError(u.message.replace(" variance"," std")):u}}}),OE="corr",ote=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],lte=V(OE,ote,t=>{var{typed:e,matrix:r,sqrt:n,sum:i,add:a,subtract:s,multiply:o,pow:l,divide:u}=t;return e(OE,{"Array, Array":function(p,h){return c(p,h)},"Matrix, Matrix":function(p,h){var m=c(p.toArray(),h.toArray());return Array.isArray(m)?r(m):m}});function c(d,p){var h=[];if(Array.isArray(d[0])&&Array.isArray(p[0])){if(d.length!==p.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var m=0;m<d.length;m++){if(d[m].length!==p[m].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");h.push(f(d[m],p[m]))}return h}else{if(d.length!==p.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return f(d,p)}}function f(d,p){var h=d.length,m=i(d),v=i(p),y=d.reduce((b,A,D)=>a(b,o(A,p[D])),0),S=i(d.map(b=>l(b,2))),g=i(p.map(b=>l(b,2))),w=s(o(h,y),o(m,v)),x=n(o(s(o(h,S),l(m,2)),s(o(h,g),l(v,2))));return u(w,x)}}),FE="combinations",ute=["typed"],cte=V(FE,ute,t=>{var{typed:e}=t;return e(FE,{"number, number":bM,"BigNumber, BigNumber":function(n,i){var a=n.constructor,s,o,l=n.minus(i),u=new a(1);if(!BE(n)||!BE(i))throw new TypeError("Positive integer value expected in function combinations");if(i.gt(n))throw new TypeError("k must be less than n in function combinations");if(s=u,i.lt(l))for(o=u;o.lte(l);o=o.plus(u))s=s.times(i.plus(o)).dividedBy(o);else for(o=u;o.lte(i);o=o.plus(u))s=s.times(l.plus(o)).dividedBy(o);return s}})});function BE(t){return t.isInteger()&&t.gte(0)}var kE="combinationsWithRep",fte=["typed"],dte=V(kE,fte,t=>{var{typed:e}=t;return e(kE,{"number, number":function(n,i){if(!Le(n)||n<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!Le(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n<1)throw new TypeError("k must be less than or equal to n + k - 1");if(i<n-1){var a=ua(n,n+i-1);return a/ua(1,i)}var s=ua(i+1,n+i-1);return s/ua(1,n-1)},"BigNumber, BigNumber":function(n,i){var a=n.constructor,s,o,l=new a(1),u=n.minus(l);if(!IE(n)||!IE(i))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n.lt(l))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(s=l,i.lt(u))for(o=l;o.lte(u);o=o.plus(l))s=s.times(i.plus(o)).dividedBy(o);else for(o=l;o.lte(i);o=o.plus(l))s=s.times(u.plus(o)).dividedBy(o);return s}})});function IE(t){return t.isInteger()&&t.gte(0)}var RE="gamma",pte=["typed","config","multiplyScalar","pow","BigNumber","Complex"],hte=V(RE,pte,t=>{var{typed:e,config:r,multiplyScalar:n,pow:i,BigNumber:a,Complex:s}=t;function o(u){if(u.im===0)return $d(u.re);if(u.re<.5){var c=new s(1-u.re,-u.im),f=new s(Math.PI*u.re,Math.PI*u.im);return new s(Math.PI).div(f.sin()).div(o(c))}u=new s(u.re-1,u.im);for(var d=new s(Go[0],0),p=1;p<Go.length;++p){var h=new s(Go[p],0);d=d.add(h.div(u.add(p)))}var m=new s(u.re+wM+.5,u.im),v=Math.sqrt(2*Math.PI),y=m.pow(u.add(.5)),S=m.neg().exp();return d.mul(v).mul(y).mul(S)}return e(RE,{number:$d,Complex:o,BigNumber:function(c){if(c.isInteger())return c.isNegative()||c.isZero()?new a(1/0):l(c.minus(1));if(!c.isFinite())return new a(c.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function l(u){if(u<8)return new a([1,1,2,6,24,120,720,5040][u]);var c=r.precision+(Math.log(u.toNumber())|0),f=a.clone({precision:c});if(u%2===1)return u.times(l(new a(u-1)));for(var d=u,p=new f(u),h=u.toNumber();d>2;)d-=2,h+=d,p=p.times(h);return new a(p.toPrecision(a.precision))}}),PE="lgamma",mte=["Complex","typed"],gte=V(PE,mte,t=>{var{Complex:e,typed:r}=t,n=7,i=7,a=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return r(PE,{number:Ld,Complex:s,BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function s(u){var c=6.283185307179586,f=1.1447298858494002,d=.1;if(u.isNaN())return new e(NaN,NaN);if(u.im===0)return new e(Ld(u.re),0);if(u.re>=n||Math.abs(u.im)>=i)return o(u);if(u.re<=d){var p=n6(c,u.im)*Math.floor(.5*u.re+.25),h=u.mul(Math.PI).sin().log(),m=s(new e(1-u.re,-u.im));return new e(f,p).sub(h).sub(m)}else return u.im>=0?l(u):l(u.conjugate()).conjugate()}function o(u){for(var c=u.sub(.5).mul(u.log()).sub(u).add(SM),f=new e(1,0).div(u),d=f.div(u),p=a[0],h=a[1],m=2*d.re,v=d.re*d.re+d.im*d.im,y=2;y<8;y++){var S=h;h=-v*p+a[y],p=m*p+S}var g=f.mul(d.mul(p).add(h));return c.add(g)}function l(u){var c=0,f=0,d=u;for(u=u.add(1);u.re<=n;){d=d.mul(u);var p=d.im<0?1:0;p!==0&&f===0&&c++,f=p,u=u.add(1)}return o(u).sub(d.log()).sub(new e(0,c*2*Math.PI*1))}}),$E="factorial",vte=["typed","gamma"],yte=V($E,vte,t=>{var{typed:e,gamma:r}=t;return e($E,{number:function(i){if(i<0)throw new Error("Value must be non-negative");return r(i+1)},BigNumber:function(i){if(i.isNegative())throw new Error("Value must be non-negative");return r(i.plus(1))},"Array | Matrix":e.referToSelf(n=>i=>ut(i,n))})}),LE="kldivergence",bte=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],xte=V(LE,bte,t=>{var{typed:e,matrix:r,divide:n,sum:i,multiply:a,map:s,dotDivide:o,log:l,isNumeric:u}=t;return e(LE,{"Array, Array":function(d,p){return c(r(d),r(p))},"Matrix, Array":function(d,p){return c(d,r(p))},"Array, Matrix":function(d,p){return c(r(d),p)},"Matrix, Matrix":function(d,p){return c(d,p)}});function c(f,d){var p=d.size().length,h=f.size().length;if(p>1)throw new Error("first object must be one dimensional");if(h>1)throw new Error("second object must be one dimensional");if(p!==h)throw new Error("Length of two vectors must be equal");var m=i(f);if(m===0)throw new Error("Sum of elements in first object must be non zero");var v=i(d);if(v===0)throw new Error("Sum of elements in second object must be non zero");var y=n(f,i(f)),S=n(d,i(d)),g=i(a(y,s(o(y,S),w=>l(w))));return u(g)?g:Number.NaN}}),zE="multinomial",wte=["typed","add","divide","multiply","factorial","isInteger","isPositive"],Ste=V(zE,wte,t=>{var{typed:e,add:r,divide:n,multiply:i,factorial:a,isInteger:s,isPositive:o}=t;return e(zE,{"Array | Matrix":function(u){var c=0,f=1;return ss(u,function(d){if(!s(d)||!o(d))throw new TypeError("Positive integer value expected in function multinomial");c=r(c,d),f=i(f,a(d))}),n(a(c),f)}})}),qE="permutations",Ete=["typed","factorial"],Ate=V(qE,Ete,t=>{var{typed:e,factorial:r}=t;return e(qE,{"number | BigNumber":r,"number, number":function(i,a){if(!Le(i)||i<0)throw new TypeError("Positive integer value expected in function permutations");if(!Le(a)||a<0)throw new TypeError("Positive integer value expected in function permutations");if(a>i)throw new TypeError("second argument k must be less than or equal to first argument n");return ua(i-a+1,i)},"BigNumber, BigNumber":function(i,a){var s,o;if(!UE(i)||!UE(a))throw new TypeError("Positive integer value expected in function permutations");if(a.gt(i))throw new TypeError("second argument k must be less than or equal to first argument n");var l=i.mul(0).add(1);for(s=l,o=i.minus(a).plus(1);o.lte(i);o=o.plus(1))s=s.times(o);return s}})});function UE(t){return t.isInteger()&&t.gte(0)}var Sf={exports:{}},Nte=Sf.exports,HE;function Dte(){return HE||(HE=1,function(t){(function(e,r,n){function i(l){var u=this,c=o();u.next=function(){var f=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=f-(u.c=f|0)},u.c=1,u.s0=c(" "),u.s1=c(" "),u.s2=c(" "),u.s0-=c(l),u.s0<0&&(u.s0+=1),u.s1-=c(l),u.s1<0&&(u.s1+=1),u.s2-=c(l),u.s2<0&&(u.s2+=1),c=null}function a(l,u){return u.c=l.c,u.s0=l.s0,u.s1=l.s1,u.s2=l.s2,u}function s(l,u){var c=new i(l),f=u&&u.state,d=c.next;return d.int32=function(){return c.next()*4294967296|0},d.double=function(){return d()+(d()*2097152|0)*11102230246251565e-32},d.quick=d,f&&(typeof f=="object"&&a(f,c),d.state=function(){return a(c,{})}),d}function o(){var l=4022871197,u=function(c){c=String(c);for(var f=0;f<c.length;f++){l+=c.charCodeAt(f);var d=.02519603282416938*l;l=d>>>0,d-=l,d*=l,l=d>>>0,d-=l,l+=d*4294967296}return(l>>>0)*23283064365386963e-26};return u}r&&r.exports?r.exports=s:this.alea=s})(Nte,t)}(Sf)),Sf.exports}var Ef={exports:{}},Cte=Ef.exports,VE;function Mte(){return VE||(VE=1,function(t){(function(e,r,n){function i(o){var l=this,u="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var f=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^f^f>>>8},o===(o|0)?l.x=o:u+=o;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,l.next()}function a(o,l){return l.x=o.x,l.y=o.y,l.z=o.z,l.w=o.w,l}function s(o,l){var u=new i(o),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,p=(u.next()>>>0)/4294967296,h=(d+p)/(1<<21);while(h===0);return h},f.int32=u.next,f.quick=f,c&&(typeof c=="object"&&a(c,u),f.state=function(){return a(u,{})}),f}r&&r.exports?r.exports=s:this.xor128=s})(Cte,t)}(Ef)),Ef.exports}var Af={exports:{}},Tte=Af.exports,WE;function _te(){return WE||(WE=1,function(t){(function(e,r,n){function i(o){var l=this,u="";l.next=function(){var f=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(f^f<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,o===(o|0)?l.x=o:u+=o;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,c==u.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function a(o,l){return l.x=o.x,l.y=o.y,l.z=o.z,l.w=o.w,l.v=o.v,l.d=o.d,l}function s(o,l){var u=new i(o),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,p=(u.next()>>>0)/4294967296,h=(d+p)/(1<<21);while(h===0);return h},f.int32=u.next,f.quick=f,c&&(typeof c=="object"&&a(c,u),f.state=function(){return a(u,{})}),f}r&&r.exports?r.exports=s:this.xorwow=s})(Tte,t)}(Af)),Af.exports}var Nf={exports:{}},Ote=Nf.exports,GE;function Fte(){return GE||(GE=1,function(t){(function(e,r,n){function i(o){var l=this;l.next=function(){var c=l.x,f=l.i,d,p;return d=c[f],d^=d>>>7,p=d^d<<24,d=c[f+1&7],p^=d^d>>>10,d=c[f+3&7],p^=d^d>>>3,d=c[f+4&7],p^=d^d<<7,d=c[f+7&7],d=d^d<<13,p^=d^d<<9,c[f]=p,l.i=f+1&7,p};function u(c,f){var d,p=[];if(f===(f|0))p[0]=f;else for(f=""+f,d=0;d<f.length;++d)p[d&7]=p[d&7]<<15^f.charCodeAt(d)+p[d+1&7]<<13;for(;p.length<8;)p.push(0);for(d=0;d<8&&p[d]===0;++d);for(d==8?p[7]=-1:p[d],c.x=p,c.i=0,d=256;d>0;--d)c.next()}u(l,o)}function a(o,l){return l.x=o.x.slice(),l.i=o.i,l}function s(o,l){o==null&&(o=+new Date);var u=new i(o),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,p=(u.next()>>>0)/4294967296,h=(d+p)/(1<<21);while(h===0);return h},f.int32=u.next,f.quick=f,c&&(c.x&&a(c,u),f.state=function(){return a(u,{})}),f}r&&r.exports?r.exports=s:this.xorshift7=s})(Ote,t)}(Nf)),Nf.exports}var Df={exports:{}},Bte=Df.exports,jE;function kte(){return jE||(jE=1,function(t){(function(e,r,n){function i(o){var l=this;l.next=function(){var c=l.w,f=l.X,d=l.i,p,h;return l.w=c=c+1640531527|0,h=f[d+34&127],p=f[d=d+1&127],h^=h<<13,p^=p<<17,h^=h>>>15,p^=p>>>12,h=f[d]=h^p,l.i=d,h+(c^c>>>16)|0};function u(c,f){var d,p,h,m,v,y=[],S=128;for(f===(f|0)?(p=f,f=null):(f=f+"\0",p=0,S=Math.max(S,f.length)),h=0,m=-32;m<S;++m)f&&(p^=f.charCodeAt((m+32)%f.length)),m===0&&(v=p),p^=p<<10,p^=p>>>15,p^=p<<4,p^=p>>>13,m>=0&&(v=v+1640531527|0,d=y[m&127]^=p+v,h=d==0?h+1:0);for(h>=128&&(y[(f&&f.length||0)&127]=-1),h=127,m=4*128;m>0;--m)p=y[h+34&127],d=y[h=h+1&127],p^=p<<13,d^=d<<17,p^=p>>>15,d^=d>>>12,y[h]=p^d;c.w=v,c.X=y,c.i=h}u(l,o)}function a(o,l){return l.i=o.i,l.w=o.w,l.X=o.X.slice(),l}function s(o,l){o==null&&(o=+new Date);var u=new i(o),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,p=(u.next()>>>0)/4294967296,h=(d+p)/(1<<21);while(h===0);return h},f.int32=u.next,f.quick=f,c&&(c.X&&a(c,u),f.state=function(){return a(u,{})}),f}r&&r.exports?r.exports=s:this.xor4096=s})(Bte,t)}(Df)),Df.exports}var Cf={exports:{}},Ite=Cf.exports,KE;function Rte(){return KE||(KE=1,function(t){(function(e,r,n){function i(o){var l=this,u="";l.next=function(){var f=l.b,d=l.c,p=l.d,h=l.a;return f=f<<25^f>>>7^d,d=d-p|0,p=p<<24^p>>>8^h,h=h-f|0,l.b=f=f<<20^f>>>12^d,l.c=d=d-p|0,l.d=p<<16^d>>>16^h,l.a=h-f|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,o===Math.floor(o)?(l.a=o/4294967296|0,l.b=o|0):u+=o;for(var c=0;c<u.length+20;c++)l.b^=u.charCodeAt(c)|0,l.next()}function a(o,l){return l.a=o.a,l.b=o.b,l.c=o.c,l.d=o.d,l}function s(o,l){var u=new i(o),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,p=(u.next()>>>0)/4294967296,h=(d+p)/(1<<21);while(h===0);return h},f.int32=u.next,f.quick=f,c&&(typeof c=="object"&&a(c,u),f.state=function(){return a(u,{})}),f}r&&r.exports?r.exports=s:this.tychei=s})(Ite,t)}(Cf)),Cf.exports}var Mf={exports:{}};const Pte={},$te=Object.freeze(Object.defineProperty({__proto__:null,default:Pte},Symbol.toStringTag,{value:"Module"})),Lte=wW($te);var zte=Mf.exports,JE;function qte(){return JE||(JE=1,function(t){(function(e,r,n){var i=256,a=6,s=52,o="random",l=n.pow(i,a),u=n.pow(2,s),c=u*2,f=i-1,d;function p(w,x,b){var A=[];x=x==!0?{entropy:!0}:x||{};var D=y(v(x.entropy?[w,g(r)]:w??S(),3),A),E=new h(A),N=function(){for(var C=E.g(a),M=l,F=0;C<u;)C=(C+F)*i,M*=i,F=E.g(1);for(;C>=c;)C/=2,M/=2,F>>>=1;return(C+F)/M};return N.int32=function(){return E.g(4)|0},N.quick=function(){return E.g(4)/4294967296},N.double=N,y(g(E.S),r),(x.pass||b||function(C,M,F,I){return I&&(I.S&&m(I,E),C.state=function(){return m(E,{})}),F?(n[o]=C,M):C})(N,D,"global"in x?x.global:this==n,x.state)}function h(w){var x,b=w.length,A=this,D=0,E=A.i=A.j=0,N=A.S=[];for(b||(w=[b++]);D<i;)N[D]=D++;for(D=0;D<i;D++)N[D]=N[E=f&E+w[D%b]+(x=N[D])],N[E]=x;(A.g=function(C){for(var M,F=0,I=A.i,R=A.j,T=A.S;C--;)M=T[I=f&I+1],F=F*i+T[f&(T[I]=T[R=f&R+M])+(T[R]=M)];return A.i=I,A.j=R,F})(i)}function m(w,x){return x.i=w.i,x.j=w.j,x.S=w.S.slice(),x}function v(w,x){var b=[],A=typeof w,D;if(x&&A=="object")for(D in w)try{b.push(v(w[D],x-1))}catch{}return b.length?b:A=="string"?w:w+"\0"}function y(w,x){for(var b=w+"",A,D=0;D<b.length;)x[f&D]=f&(A^=x[f&D]*19)+b.charCodeAt(D++);return g(x)}function S(){try{var w;return d&&(w=d.randomBytes)?w=w(i):(w=new Uint8Array(i),(e.crypto||e.msCrypto).getRandomValues(w)),g(w)}catch{var x=e.navigator,b=x&&x.plugins;return[+new Date,e,b,e.screen,g(r)]}}function g(w){return String.fromCharCode.apply(0,w)}if(y(n.random(),r),t.exports){t.exports=p;try{d=Lte}catch{}}else n["seed"+o]=p})(typeof self<"u"?self:zte,[],Math)}(Mf)),Mf.exports}var vm,YE;function Ute(){if(YE)return vm;YE=1;var t=Dte(),e=Mte(),r=_te(),n=Fte(),i=kte(),a=Rte(),s=qte();return s.alea=t,s.xor128=e,s.xorwow=r,s.xorshift7=n,s.xor4096=i,s.tychei=a,vm=s,vm}var Hte=Ute();const wT=f0(Hte);var Vte=wT(Date.now());function ll(t){var e;function r(i){e=i===null?Vte:wT(String(i))}r(t);function n(){return e()}return n}var XE="pickRandom",Wte=["typed","config","?on"],Gte=V(XE,Wte,t=>{var{typed:e,config:r,on:n}=t,i=ll(r.randomSeed);return n&&n("config",function(s,o){s.randomSeed!==o.randomSeed&&(i=ll(s.randomSeed))}),e(XE,{"Array | Matrix":function(o){return a(o,{})},"Array | Matrix, Object":function(o,l){return a(o,l)},"Array | Matrix, number":function(o,l){return a(o,{number:l})},"Array | Matrix, Array | Matrix":function(o,l){return a(o,{weights:l})},"Array | Matrix, Array | Matrix, number":function(o,l,u){return a(o,{number:u,weights:l})},"Array | Matrix, number, Array | Matrix":function(o,l,u){return a(o,{number:l,weights:u})}});function a(s,o){var{number:l,weights:u,elementWise:c=!0}=o,f=typeof l>"u";f&&(l=1);var d=Ge(s)?s.create:Ge(u)?u.create:null;s=s.valueOf(),u&&(u=u.valueOf()),c===!0&&(s=Dt(s),u=Dt(u));var p=0;if(typeof u<"u"){if(u.length!==s.length)throw new Error("Weights must have the same length as possibles");for(var h=0,m=u.length;h<m;h++){if(!at(u[h])||u[h]<0)throw new Error("Weights must be an array of positive numbers");p+=u[h]}}for(var v=s.length,y=[],S;y.length<l;){if(typeof u>"u")S=s[Math.floor(i()*v)];else for(var g=i()*p,w=0,x=s.length;w<x;w++)if(g-=u[w],g<0){S=s[w];break}y.push(S)}return f?y[0]:d?d(y):y}});function p0(t,e){var r=[];if(t=t.slice(0),t.length>1)for(var n=0,i=t.shift();n<i;n++)r.push(p0(t,e));else for(var a=0,s=t.shift();a<s;a++)r.push(e());return r}var ZE="random",jte=["typed","config","?on"],Kte=V(ZE,jte,t=>{var{typed:e,config:r,on:n}=t,i=ll(r.randomSeed);return n&&n("config",function(o,l){o.randomSeed!==l.randomSeed&&(i=ll(o.randomSeed))}),e(ZE,{"":()=>s(0,1),number:o=>s(0,o),"number, number":(o,l)=>s(o,l),"Array | Matrix":o=>a(o,0,1),"Array | Matrix, number":(o,l)=>a(o,0,l),"Array | Matrix, number, number":(o,l,u)=>a(o,l,u)});function a(o,l,u){var c=p0(o.valueOf(),()=>s(l,u));return Ge(o)?o.create(c,"number"):c}function s(o,l){return o+i()*(l-o)}}),QE="randomInt",Jte=["typed","config","log2","?on"],Yte=2n**30n,Xte=V(QE,Jte,t=>{var{typed:e,config:r,log2:n,on:i}=t,a=ll(r.randomSeed);return i&&i("config",function(u,c){u.randomSeed!==c.randomSeed&&(a=ll(u.randomSeed))}),e(QE,{"":()=>o(0,2),number:u=>o(0,u),"number, number":(u,c)=>o(u,c),bigint:u=>l(0n,u),"bigint, bigint":l,"Array | Matrix":u=>s(u,0,1),"Array | Matrix, number":(u,c)=>s(u,0,c),"Array | Matrix, number, number":(u,c,f)=>s(u,c,f)});function s(u,c,f){var d=p0(u.valueOf(),()=>o(c,f));return Ge(u)?u.create(d,"number"):d}function o(u,c){return Math.floor(u+a()*(c-u))}function l(u,c){var f=c-u;if(f<=Yte)return u+BigInt(o(0,Number(f)));for(var d=n(f),p=f;p>=f;){p=0n;for(var h=0;h<d;++h)p=2n*p+(a()<.5?0n:1n)}return u+p}}),eA="stirlingS2",Zte=["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],Qte=V(eA,Zte,t=>{var{typed:e,addScalar:r,subtractScalar:n,multiplyScalar:i,divideScalar:a,pow:s,factorial:o,combinations:l,isNegative:u,isInteger:c,number:f,bignumber:d,larger:p}=t,h=[],m=[];return e(eA,{"number | BigNumber, number | BigNumber":function(y,S){if(!c(y)||u(y)||!c(S)||u(S))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(p(S,y))throw new TypeError("k must be less than or equal to n in function stirlingS2");var g=!(at(y)&&at(S)),w=g?m:h,x=g?d:f,b=f(y),A=f(S);if(w[b]&&w[b].length>A)return w[b][A];for(var D=0;D<=b;++D)if(w[D]||(w[D]=[x(D===0?1:0)]),D!==0)for(var E=w[D],N=w[D-1],C=E.length;C<=D&&C<=A;++C)C===D?E[C]=1:E[C]=r(i(x(C),N[C]),N[C-1]);return w[b][A]}})}),tA="bellNumbers",ere=["typed","addScalar","isNegative","isInteger","stirlingS2"],tre=V(tA,ere,t=>{var{typed:e,addScalar:r,isNegative:n,isInteger:i,stirlingS2:a}=t;return e(tA,{"number | BigNumber":function(o){if(!i(o)||n(o))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var l=0,u=0;u<=o;u++)l=r(l,a(o,u));return l}})}),rA="catalan",rre=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],nre=V(rA,rre,t=>{var{typed:e,addScalar:r,divideScalar:n,multiplyScalar:i,combinations:a,isNegative:s,isInteger:o}=t;return e(rA,{"number | BigNumber":function(u){if(!o(u)||s(u))throw new TypeError("Non-negative integer value expected in function catalan");return n(a(i(u,2),u),r(u,1))}})}),nA="composition",ire=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],are=V(nA,ire,t=>{var{typed:e,addScalar:r,combinations:n,isPositive:i,isNegative:a,isInteger:s,larger:o}=t;return e(nA,{"number | BigNumber, number | BigNumber":function(u,c){if(!s(u)||!i(u)||!s(c)||!i(c))throw new TypeError("Positive integer value expected in function composition");if(o(c,u))throw new TypeError("k must be less than or equal to n in function composition");return n(r(u,-1),r(c,-1))}})}),iA="leafCount",sre=["parse","typed"],ore=V(iA,sre,t=>{var{parse:e,typed:r}=t;function n(i){var a=0;return i.forEach(s=>{a+=n(s)}),a||1}return r(iA,{Node:function(a){return n(a)}})});function aA(t){return Et(t)||ir(t)&&t.isUnary()&&Et(t.args[0])}function Jd(t){return!!(Et(t)||(ns(t)||ir(t))&&t.args.every(Jd)||ya(t)&&Jd(t.content))}function sA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ym(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sA(Object(r),!0).forEach(function(n){cr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var lre="simplifyUtil",ure=["FunctionNode","OperatorNode","SymbolNode"],h0=V(lre,ure,t=>{var{FunctionNode:e,OperatorNode:r,SymbolNode:n}=t,i=!0,a=!1,s="defaultF",o={add:{trivial:i,total:i,commutative:i,associative:i},unaryPlus:{trivial:i,total:i,commutative:i,associative:i},subtract:{trivial:a,total:i,commutative:a,associative:a},multiply:{trivial:i,total:i,commutative:i,associative:i},divide:{trivial:a,total:i,commutative:a,associative:a},paren:{trivial:i,total:i,commutative:i,associative:a},defaultF:{trivial:a,total:i,commutative:a,associative:a}},l={divide:{total:a},log:{total:a}},u={subtract:{total:a},abs:{trivial:i},log:{total:i}};function c(g,w){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o,b=s;if(typeof g=="string"?b=g:ir(g)?b=g.fn.toString():ns(g)?b=g.name:ya(g)&&(b="paren"),Re(x,b)){var A=x[b];if(Re(A,w))return A[w];if(Re(o,b))return o[b][w]}if(Re(x,s)){var D=x[s];return Re(D,w)?D[w]:o[s][w]}if(Re(o,b)){var E=o[b];if(Re(E,w))return E[w]}return o[s][w]}function f(g){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o;return c(g,"commutative",w)}function d(g){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o;return c(g,"associative",w)}function p(g,w){var x=ym({},g);for(var b in w)Re(g,b)?x[b]=ym(ym({},w[b]),g[b]):x[b]=w[b];return x}function h(g,w){if(!g.args||g.args.length===0)return g;g.args=m(g,w);for(var x=0;x<g.args.length;x++)h(g.args[x],w)}function m(g,w){var x,b=[],A=function(E){for(var N=0;N<E.args.length;N++){var C=E.args[N];ir(C)&&x===C.op?A(C):b.push(C)}};return d(g,w)?(x=g.op,A(g),b):g.args}function v(g,w){if(!(!g.args||g.args.length===0)){for(var x=S(g),b=g.args.length,A=0;A<b;A++)v(g.args[A],w);if(b>2&&d(g,w)){for(var D=g.args.pop();g.args.length>0;)D=x([g.args.pop(),D]);g.args=D.args}}}function y(g,w){if(!(!g.args||g.args.length===0)){for(var x=S(g),b=g.args.length,A=0;A<b;A++)y(g.args[A],w);if(b>2&&d(g,w)){for(var D=g.args.shift();g.args.length>0;)D=x([D,g.args.shift()]);g.args=D.args}}}function S(g){return ir(g)?function(w){try{return new r(g.op,g.fn,w,g.implicit)}catch(x){return console.error(x),[]}}:function(w){return new e(new n(g.name),w)}}return{createMakeNodeFunction:S,hasProperty:c,isCommutative:f,isAssociative:d,mergeContext:p,flatten:h,allChildren:m,unflattenr:v,unflattenl:y,defaultContext:o,realContext:l,positiveContext:u}}),cre="simplify",fre=["typed","parse","equal","resolve","simplifyConstant","simplifyCore","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode","replacer"],dre=V(cre,fre,t=>{var{typed:e,parse:r,equal:n,resolve:i,simplifyConstant:a,simplifyCore:s,AccessorNode:o,ArrayNode:l,ConstantNode:u,FunctionNode:c,IndexNode:f,ObjectNode:d,OperatorNode:p,ParenthesisNode:h,SymbolNode:m,replacer:v}=t,{hasProperty:y,isCommutative:S,isAssociative:g,mergeContext:w,flatten:x,unflattenr:b,unflattenl:A,createMakeNodeFunction:D,defaultContext:E,realContext:N,positiveContext:C}=h0({FunctionNode:c,OperatorNode:p,SymbolNode:m});e.addConversion({from:"Object",to:"Map",convert:Vo});var M=e("simplify",{Node:H,"Node, Map":(W,U)=>H(W,!1,U),"Node, Map, Object":(W,U,K)=>H(W,!1,U,K),"Node, Array":H,"Node, Array, Map":H,"Node, Array, Map, Object":H});e.removeConversion({from:"Object",to:"Map",convert:Vo}),M.defaultContext=E,M.realContext=N,M.positiveContext=C;function F(W){return W.transform(function(U){return ya(U)?F(U.content):U})}var I={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};M.rules=[s,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},a,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},a,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];function R(W,U){var K={};if(W.s){var ae=W.s.split("->");if(ae.length===2)K.l=ae[0],K.r=ae[1];else throw SyntaxError("Could not parse rule: "+W.s)}else K.l=W.l,K.r=W.r;K.l=F(r(K.l)),K.r=F(r(K.r));for(var B of["imposeContext","repeat","assuming"])B in W&&(K[B]=W[B]);if(W.evaluate&&(K.evaluate=r(W.evaluate)),g(K.l,U)){var q=!S(K.l,U),G;q&&(G=_());var se=D(K.l),P=_();K.expanded={},K.expanded.l=se([K.l,P]),x(K.expanded.l,U),b(K.expanded.l,U),K.expanded.r=se([K.r,P]),q&&(K.expandedNC1={},K.expandedNC1.l=se([G,K.l]),K.expandedNC1.r=se([G,K.r]),K.expandedNC2={},K.expandedNC2.l=se([G,K.expanded.l]),K.expandedNC2.r=se([G,K.expanded.r]))}return K}function T(W,U){for(var K=[],ae=0;ae<W.length;ae++){var B=W[ae],q=void 0,G=typeof B;switch(G){case"string":B={s:B};case"object":q=R(B,U);break;case"function":q=B;break;default:throw TypeError("Unsupported type of rule: "+G)}K.push(q)}return K}var L=0;function _(){return new m("_p"+L++)}function H(W,U){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ku(),ae=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},B=ae.consoleDebug;U=T(U||M.rules,ae.context);var q=i(W,K);q=F(q);for(var G={},se=q.toString({parenthesis:"all"});!G[se];){G[se]=!0,L=0;var P=se;B&&console.log("Working on: ",se);for(var z=0;z<U.length;z++){var Y="";if(typeof U[z]=="function"?(q=U[z](q,ae),B&&(Y=U[z].name)):(x(q,ae.context),q=ie(q,U[z],ae.context),B&&(Y="".concat(U[z].l.toString()," -> ").concat(U[z].r.toString()))),B){var ne=q.toString({parenthesis:"all"});ne!==P&&(console.log("Applying",Y,"produced",ne),P=ne)}A(q,ae.context)}se=q.toString({parenthesis:"all"})}return q}function k(W,U,K){var ae=W;if(W)for(var B=0;B<W.length;++B){var q=ie(W[B],U,K);q!==W[B]&&(ae===W&&(ae=W.slice()),ae[B]=q)}return ae}function ie(W,U,K){if(U.assuming){for(var ae in U.assuming)for(var B in U.assuming[ae])if(y(ae,B,K)!==U.assuming[ae][B])return W}var q=w(U.imposeContext,K),G=W;if(G instanceof p||G instanceof c){var se=k(G.args,U,K);se!==G.args&&(G=G.clone(),G.args=se)}else if(G instanceof h){if(G.content){var P=ie(G.content,U,K);P!==G.content&&(G=new h(P))}}else if(G instanceof l){var z=k(G.items,U,K);z!==G.items&&(G=new l(z))}else if(G instanceof o){var Y=G.object;G.object&&(Y=ie(G.object,U,K));var ne=G.index;G.index&&(ne=ie(G.index,U,K)),(Y!==G.object||ne!==G.index)&&(G=new o(Y,ne))}else if(G instanceof f){var oe=k(G.dimensions,U,K);oe!==G.dimensions&&(G=new f(oe))}else if(G instanceof d){var le=!1,ve={};for(var $ in G.properties)ve[$]=ie(G.properties[$],U,K),ve[$]!==G.properties[$]&&(le=!0);le&&(G=new d(ve))}var J=U.r,re=de(U.l,G,q)[0];if(!re&&U.expanded&&(J=U.expanded.r,re=de(U.expanded.l,G,q)[0]),!re&&U.expandedNC1&&(J=U.expandedNC1.r,re=de(U.expandedNC1.l,G,q)[0],re||(J=U.expandedNC2.r,re=de(U.expandedNC2.l,G,q)[0])),re){var fe=G.implicit;G=J.clone(),fe&&"implicit"in J&&(G.implicit=!0),G=G.transform(function(he){return he.isSymbolNode&&Re(re.placeholders,he.name)?re.placeholders[he.name].clone():he})}return U.repeat&&G!==W&&(G=ie(G,U,K)),G}function ee(W,U){var K=[],ae,B,q=D(W);if(S(W,U))for(var G=0;G<W.args.length;G++)B=W.args.slice(0),B.splice(G,1),ae=B.length===1?B[0]:q(B),K.push(q([W.args[G],ae]));else for(var se=1;se<W.args.length;se++){var P=W.args[0];se>1&&(P=q(W.args.slice(0,se))),B=W.args.slice(se),ae=B.length===1?B[0]:q(B),K.push(q([P,ae]))}return K}function X(W,U){var K={placeholders:{}};if(!W.placeholders&&!U.placeholders)return K;if(W.placeholders){if(!U.placeholders)return W}else return U;for(var ae in W.placeholders)if(Re(W.placeholders,ae)&&(K.placeholders[ae]=W.placeholders[ae],Re(U.placeholders,ae)&&!j(W.placeholders[ae],U.placeholders[ae])))return null;for(var B in U.placeholders)Re(U.placeholders,B)&&(K.placeholders[B]=U.placeholders[B]);return K}function Z(W,U){var K=[];if(W.length===0||U.length===0)return K;for(var ae,B=0;B<W.length;B++)for(var q=0;q<U.length;q++)ae=X(W[B],U[q]),ae&&K.push(ae);return K}function pe(W){if(W.length===0)return W;for(var U=W.reduce(Z),K=[],ae={},B=0;B<U.length;B++){var q=JSON.stringify(U[B],v);ae[q]||(ae[q]=!0,K.push(U[B]))}return K}function de(W,U,K,ae){var B=[{placeholders:{}}];if(W instanceof p&&U instanceof p||W instanceof c&&U instanceof c){if(W instanceof p){if(W.op!==U.op||W.fn!==U.fn)return[]}else if(W instanceof c&&W.name!==U.name)return[];if(U.args.length===1&&W.args.length===1||!g(U,K)&&U.args.length===W.args.length||ae){for(var q=[],G=0;G<W.args.length;G++){var se=de(W.args[G],U.args[G],K);if(se.length===0)break;q.push(se)}if(q.length!==W.args.length){if(!S(U,K)||W.args.length===1)return[];if(W.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var P=de(W.args[0],U.args[1],K);if(P.length===0)return[];var z=de(W.args[1],U.args[0],K);if(z.length===0)return[];q=[P,z]}B=pe(q)}else if(U.args.length>=2&&W.args.length===2){for(var Y=ee(U,K),ne=[],oe=0;oe<Y.length;oe++){var le=de(W,Y[oe],K,!0);ne=ne.concat(le)}return ne}else{if(W.args.length>2)throw Error("Unexpected non-binary associative function: "+W.toString());return[]}}else if(W instanceof m){if(W.name.length===0)throw new Error("Symbol in rule has 0 length...!?");if(I[W.name]){if(W.name!==U.name)return[]}else switch(W.name[1]>="a"&&W.name[1]<="z"?W.name.substring(0,2):W.name[0]){case"n":case"_p":B[0].placeholders[W.name]=U;break;case"c":case"cl":if(Et(U))B[0].placeholders[W.name]=U;else return[];break;case"v":if(!Et(U))B[0].placeholders[W.name]=U;else return[];break;case"vl":if(Sr(U))B[0].placeholders[W.name]=U;else return[];break;case"cd":if(aA(U))B[0].placeholders[W.name]=U;else return[];break;case"vd":if(!aA(U))B[0].placeholders[W.name]=U;else return[];break;case"ce":if(Jd(U))B[0].placeholders[W.name]=U;else return[];break;case"ve":if(!Jd(U))B[0].placeholders[W.name]=U;else return[];break;default:throw new Error("Invalid symbol in rule: "+W.name)}}else if(W instanceof u){if(!n(W.value,U.value))return[]}else return[];return B}function j(W,U){if(W instanceof u&&U instanceof u){if(!n(W.value,U.value))return!1}else if(W instanceof m&&U instanceof m){if(W.name!==U.name)return!1}else if(W instanceof p&&U instanceof p||W instanceof c&&U instanceof c){if(W instanceof p){if(W.op!==U.op||W.fn!==U.fn)return!1}else if(W instanceof c&&W.name!==U.name)return!1;if(W.args.length!==U.args.length)return!1;for(var K=0;K<W.args.length;K++)if(!j(W.args[K],U.args[K]))return!1}else return!1;return!0}return M}),pre="simplifyConstant",hre=["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],mre=V(pre,hre,t=>{var{typed:e,config:r,mathWithTransform:n,matrix:i,fraction:a,bignumber:s,AccessorNode:o,ArrayNode:l,ConstantNode:u,FunctionNode:c,IndexNode:f,ObjectNode:d,OperatorNode:p,SymbolNode:h}=t,{isCommutative:m,isAssociative:v,allChildren:y,createMakeNodeFunction:S}=h0({FunctionNode:c,OperatorNode:p,SymbolNode:h}),g=e("simplifyConstant",{Node:R=>A(I(R,{})),"Node, Object":function(T,L){return A(I(T,L))}});function w(R){return Yu(R)?R.valueOf():R instanceof Array?R.map(w):Ge(R)?i(w(R.valueOf())):R}function x(R,T,L){try{return n[R].apply(null,T)}catch{return T=T.map(w),E(n[R].apply(null,T),L)}}var b=e({Fraction:C,number:function(T){return T<0?N(new u(-T)):new u(T)},BigNumber:function(T){return T<0?N(new u(-T)):new u(T)},bigint:function(T){return T<0n?N(new u(-T)):new u(T)},Complex:function(T){throw new Error("Cannot convert Complex number to Node")},string:function(T){return new u(T)},Matrix:function(T){return new l(T.valueOf().map(L=>b(L)))}});function A(R){return Ot(R)?R:b(R)}function D(R,T){var L=T&&T.exactFractions!==!1;if(L&&isFinite(R)&&a){var _=a(R),H=T&&typeof T.fractionsLimit=="number"?T.fractionsLimit:1/0;if(_.valueOf()===R&&_.n<H&&_.d<H)return _}return R}var E=e({"string, Object":function(T,L){var _=fs(T,r);if(_==="BigNumber")return s===void 0&&l0(),s(T);if(_==="bigint")return BigInt(T);if(_==="Fraction")return a===void 0&&eT(),a(T);var H=parseFloat(T);return D(H,L)},"Fraction, Object":function(T,L){return T},"BigNumber, Object":function(T,L){return T},"number, Object":function(T,L){return D(T,L)},"bigint, Object":function(T,L){return T},"Complex, Object":function(T,L){return T.im!==0?T:D(T.re,L)},"Matrix, Object":function(T,L){return i(D(T.valueOf()))},"Array, Object":function(T,L){return T.map(D)}});function N(R){return new p("-","unaryMinus",[R])}function C(R){var T=H=>r.number==="BigNumber"&&s?s(H):Number(H),L=R.s*R.n,_=L<0n?new p("-","unaryMinus",[new u(-T(L))]):new u(T(L));return R.d===1n?_:new p("/","divide",[_,new u(T(R.d))])}function M(R,T,L){if(!pl(T))return new o(A(R),A(T));if(Hn(R)||Ge(R)){for(var _=Array.from(T.dimensions);_.length>0;)if(Et(_[0])&&typeof _[0].value!="string"){var H=E(_.shift().value,L);Hn(R)?R=R.items[H-1]:(R=R.valueOf()[H-1],R instanceof Array&&(R=i(R)))}else if(_.length>1&&Et(_[1])&&typeof _[1].value!="string"){var k=E(_[1].value,L),ie=[],ee=Hn(R)?R.items:R.valueOf();for(var X of ee)if(Hn(X))ie.push(X.items[k-1]);else if(Ge(R))ie.push(X[k-1]);else break;if(ie.length===ee.length)Hn(R)?R=new l(ie):R=i(ie),_.splice(1,1);else break}else break;return _.length===T.dimensions.length?new o(A(R),T):_.length>0?(T=new f(_),new o(A(R),T)):R}if(Fp(R)&&T.dimensions.length===1&&Et(T.dimensions[0])){var Z=T.dimensions[0].value;return Z in R.properties?R.properties[Z]:new u}return new o(A(R),T)}function F(R,T,L,_){var H=T.shift(),k=T.reduce((ie,ee)=>{if(!Ot(ee)){var X=ie.pop();if(Ot(X))return[X,ee];try{return ie.push(x(R,[X,ee],_)),ie}catch{ie.push(X)}}ie.push(A(ie.pop()));var Z=ie.length===1?ie[0]:L(ie);return[L([Z,A(ee)])]},[H]);return k.length===1?k[0]:L([k[0],b(k[1])])}function I(R,T){switch(R.type){case"SymbolNode":return R;case"ConstantNode":switch(typeof R.value){case"number":return E(R.value,T);case"bigint":return E(R.value,T);case"string":return R.value;default:if(!isNaN(R.value))return E(R.value,T)}return R;case"FunctionNode":if(n[R.name]&&n[R.name].rawArgs)return R;{var L=["add","multiply"];if(!L.includes(R.name)){var _=R.args.map(ae=>I(ae,T));if(!_.some(Ot))try{return x(R.name,_,T)}catch{}if(R.name==="size"&&_.length===1&&Hn(_[0])){for(var H=[],k=_[0];Hn(k);)H.push(k.items.length),k=k.items[0];return i(H)}return new c(R.name,_.map(A))}}case"OperatorNode":{var ie=R.fn.toString(),ee,X,Z=S(R);if(ir(R)&&R.isUnary())ee=[I(R.args[0],T)],Ot(ee[0])?X=Z(ee):X=x(ie,ee,T);else if(v(R,T.context))if(ee=y(R,T.context),ee=ee.map(ae=>I(ae,T)),m(ie,T.context)){for(var pe=[],de=[],j=0;j<ee.length;j++)Ot(ee[j])?de.push(ee[j]):pe.push(ee[j]);pe.length>1?(X=F(ie,pe,Z,T),de.unshift(X),X=F(ie,de,Z,T)):X=F(ie,ee,Z,T)}else X=F(ie,ee,Z,T);else ee=R.args.map(ae=>I(ae,T)),X=F(ie,ee,Z,T);return X}case"ParenthesisNode":return I(R.content,T);case"AccessorNode":return M(I(R.object,T),I(R.index,T),T);case"ArrayNode":{var W=R.items.map(ae=>I(ae,T));return W.some(Ot)?new l(W.map(A)):i(W)}case"IndexNode":return new f(R.dimensions.map(ae=>g(ae,T)));case"ObjectNode":{var U={};for(var K in R.properties)U[K]=g(R.properties[K],T);return new d(U)}case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(R.type))}}return g}),oA="simplifyCore",gre=["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],vre=V(oA,gre,t=>{var{typed:e,parse:r,equal:n,isZero:i,add:a,subtract:s,multiply:o,divide:l,pow:u,AccessorNode:c,ArrayNode:f,ConstantNode:d,FunctionNode:p,IndexNode:h,ObjectNode:m,OperatorNode:v,ParenthesisNode:y,SymbolNode:S}=t,g=new d(0),w=new d(1),x=new d(!0),b=new d(!1);function A(C){return ir(C)&&["and","not","or"].includes(C.op)}var{hasProperty:D,isCommutative:E}=h0({FunctionNode:p,OperatorNode:v,SymbolNode:S});function N(C){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},F=M?M.context:void 0;if(D(C,"trivial",F)){if(ns(C)&&C.args.length===1)return N(C.args[0],M);var I=!1,R=0;if(C.forEach(de=>{++R,R===1&&(I=N(de,M))}),R===1)return I}var T=C;if(ns(T)){var L=hK(T.name);if(L){if(T.args.length>2&&D(T,"associative",F))for(;T.args.length>2;){var _=T.args.pop(),H=T.args.pop();T.args.push(new v(L,T.name,[_,H]))}T=new v(L,T.name,T.args)}else return new p(N(T.fn),T.args.map(de=>N(de,M)))}if(ir(T)&&T.isUnary()){var k=N(T.args[0],M);if(T.op==="~"&&ir(k)&&k.isUnary()&&k.op==="~"||T.op==="not"&&ir(k)&&k.isUnary()&&k.op==="not"&&A(k.args[0]))return k.args[0];var ie=!0;if(T.op==="-"&&ir(k)&&(k.isBinary()&&k.fn==="subtract"&&(T=new v("-","subtract",[k.args[1],k.args[0]]),ie=!1),k.isUnary()&&k.op==="-"))return k.args[0];if(ie)return new v(T.op,T.fn,[k])}if(ir(T)&&T.isBinary()){var ee=N(T.args[0],M),X=N(T.args[1],M);if(T.op==="+"){if(Et(ee)&&i(ee.value))return X;if(Et(X)&&i(X.value))return ee;ir(X)&&X.isUnary()&&X.op==="-"&&(X=X.args[0],T=new v("-","subtract",[ee,X]))}if(T.op==="-")return ir(X)&&X.isUnary()&&X.op==="-"?N(new v("+","add",[ee,X.args[0]]),M):Et(ee)&&i(ee.value)?N(new v("-","unaryMinus",[X])):Et(X)&&i(X.value)?ee:new v(T.op,T.fn,[ee,X]);if(T.op==="*"){if(Et(ee)){if(i(ee.value))return g;if(n(ee.value,1))return X}if(Et(X)){if(i(X.value))return g;if(n(X.value,1))return ee;if(E(T,F))return new v(T.op,T.fn,[X,ee],T.implicit)}return new v(T.op,T.fn,[ee,X],T.implicit)}if(T.op==="/")return Et(ee)&&i(ee.value)?g:Et(X)&&n(X.value,1)?ee:new v(T.op,T.fn,[ee,X]);if(T.op==="^"&&Et(X)){if(i(X.value))return w;if(n(X.value,1))return ee}if(T.op==="and"){if(Et(ee))if(ee.value){if(A(X))return X;if(Et(X))return X.value?x:b}else return b;if(Et(X))if(X.value){if(A(ee))return ee}else return b}if(T.op==="or"){if(Et(ee)){if(ee.value)return x;if(A(X))return X}if(Et(X)){if(X.value)return x;if(A(ee))return ee}}return new v(T.op,T.fn,[ee,X])}if(ir(T))return new v(T.op,T.fn,T.args.map(de=>N(de,M)));if(Hn(T))return new f(T.items.map(de=>N(de,M)));if(Qs(T))return new c(N(T.object,M),N(T.index,M));if(pl(T))return new h(T.dimensions.map(de=>N(de,M)));if(Fp(T)){var Z={};for(var pe in T.properties)Z[pe]=N(T.properties[pe],M);return new m(Z)}return T}return e(oA,{Node:N,"Node,Object":N})}),yre="resolve",bre=["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],xre=V(yre,bre,t=>{var{typed:e,parse:r,ConstantNode:n,FunctionNode:i,OperatorNode:a,ParenthesisNode:s}=t;function o(l,u){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(!u)return l;if(Sr(l)){if(c.has(l.name)){var f=Array.from(c).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(f,"}"))}var d=u.get(l.name);if(Ot(d)){var p=new Set(c);return p.add(l.name),o(d,u,p)}else return typeof d=="number"?r(String(d)):d!==void 0?new n(d):l}else if(ir(l)){var h=l.args.map(function(v){return o(v,u,c)});return new a(l.op,l.fn,h,l.implicit)}else{if(ya(l))return new s(o(l.content,u,c));if(ns(l)){var m=l.args.map(function(v){return o(v,u,c)});return new i(l.name,m)}}return l.map(v=>o(v,u,c))}return e("resolve",{Node:o,"Node, Map | null | undefined":o,"Node, Object":(l,u)=>o(l,Vo(u)),"Array | Matrix":e.referToSelf(l=>u=>u.map(c=>l(c))),"Array | Matrix, null | undefined":e.referToSelf(l=>u=>u.map(c=>l(c))),"Array, Object":e.referTo("Array,Map",l=>(u,c)=>l(u,Vo(c))),"Matrix, Object":e.referTo("Matrix,Map",l=>(u,c)=>l(u,Vo(c))),"Array | Matrix, Map":e.referToSelf(l=>(u,c)=>u.map(f=>l(f,c)))})}),lA="symbolicEqual",wre=["parse","simplify","typed","OperatorNode"],Sre=V(lA,wre,t=>{var{parse:e,simplify:r,typed:n,OperatorNode:i}=t;function a(s,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=new i("-","subtract",[s,o]),c=r(u,{},l);return Et(c)&&!c.value}return n(lA,{"Node, Node":a,"Node, Node, Object":a})}),uA="derivative",Ere=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],Are=V(uA,Ere,t=>{var{typed:e,config:r,parse:n,simplify:i,equal:a,isZero:s,numeric:o,ConstantNode:l,FunctionNode:u,OperatorNode:c,ParenthesisNode:f,SymbolNode:d}=t;function p(w,x){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{simplify:!0},A=new Map,D=x.name;function E(C){var M=A.get(C);if(M!==void 0)return M;var F=y(E,C,D);return A.set(C,F),F}var N=S(w,E);return b.simplify?i(N):N}function h(w){var x=n(w);if(!x.isSymbolNode)throw new TypeError("Invalid variable. "+"Cannot parse ".concat(JSON.stringify(w)," into a variable in function derivative"));return x}var m=e(uA,{"Node, SymbolNode":p,"Node, SymbolNode, Object":p,"Node, string":(w,x)=>p(w,h(x)),"Node, string, Object":(w,x,b)=>p(w,h(x),b)});m._simplify=!0,m.toTex=function(w){return v.apply(null,w.args)};var v=e("_derivTex",{"Node, SymbolNode":function(x,b){return Et(x)&&It(x.value)==="string"?v(n(x.value).toString(),b.toString(),1):v(x.toTex(),b.toString(),1)},"Node, ConstantNode":function(x,b){if(It(b.value)==="string")return v(x,n(b.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(x,b,A){return v(x.toString(),b.name,A.value)},"string, string, number":function(x,b,A){var D;return A===1?D="{d\\over d"+b+"}":D="{d^{"+A+"}\\over d"+b+"^{"+A+"}}",D+"\\left[".concat(x,"\\right]")}}),y=e("_isConst",{"function, ConstantNode, string":function(){return!0},"function, SymbolNode, string":function(x,b,A){return b.name!==A},"function, ParenthesisNode, string":function(x,b,A){return x(b.content,A)},"function, FunctionAssignmentNode, string":function(x,b,A){return b.params.includes(A)?x(b.expr,A):!0},"function, FunctionNode | OperatorNode, string":function(x,b,A){return b.args.every(D=>x(D,A))}}),S=e("_derivative",{"ConstantNode, function":function(){return g(0)},"SymbolNode, function":function(x,b){return b(x)?g(0):g(1)},"ParenthesisNode, function":function(x,b){return new f(S(x.content,b))},"FunctionAssignmentNode, function":function(x,b){return b(x)?g(0):S(x.expr,b)},"FunctionNode, function":function(x,b){if(b(x))return g(0);var A=x.args[0],D,E=!1,N=!1,C;switch(x.name){case"cbrt":E=!0,C=new c("*","multiply",[g(3),new c("^","pow",[A,new c("/","divide",[g(2),g(3)])])]);break;case"sqrt":case"nthRoot":if(x.args.length===1)E=!0,C=new c("*","multiply",[g(2),new u("sqrt",[A])]);else if(x.args.length===2)return D=new c("/","divide",[g(1),x.args[1]]),S(new c("^","pow",[A,D]),b);break;case"log10":D=g(10);case"log":if(!D&&x.args.length===1)C=A.clone(),E=!0;else if(x.args.length===1&&D||x.args.length===2&&b(x.args[1]))C=new c("*","multiply",[A.clone(),new u("log",[D||x.args[1]])]),E=!0;else if(x.args.length===2)return S(new c("/","divide",[new u("log",[A]),new u("log",[x.args[1]])]),b);break;case"pow":if(x.args.length===2)return S(new c("^","pow",[A,x.args[1]]),b);break;case"exp":C=new u("exp",[A.clone()]);break;case"sin":C=new u("cos",[A.clone()]);break;case"cos":C=new c("-","unaryMinus",[new u("sin",[A.clone()])]);break;case"tan":C=new c("^","pow",[new u("sec",[A.clone()]),g(2)]);break;case"sec":C=new c("*","multiply",[x,new u("tan",[A.clone()])]);break;case"csc":N=!0,C=new c("*","multiply",[x,new u("cot",[A.clone()])]);break;case"cot":N=!0,C=new c("^","pow",[new u("csc",[A.clone()]),g(2)]);break;case"asin":E=!0,C=new u("sqrt",[new c("-","subtract",[g(1),new c("^","pow",[A.clone(),g(2)])])]);break;case"acos":E=!0,N=!0,C=new u("sqrt",[new c("-","subtract",[g(1),new c("^","pow",[A.clone(),g(2)])])]);break;case"atan":E=!0,C=new c("+","add",[new c("^","pow",[A.clone(),g(2)]),g(1)]);break;case"asec":E=!0,C=new c("*","multiply",[new u("abs",[A.clone()]),new u("sqrt",[new c("-","subtract",[new c("^","pow",[A.clone(),g(2)]),g(1)])])]);break;case"acsc":E=!0,N=!0,C=new c("*","multiply",[new u("abs",[A.clone()]),new u("sqrt",[new c("-","subtract",[new c("^","pow",[A.clone(),g(2)]),g(1)])])]);break;case"acot":E=!0,N=!0,C=new c("+","add",[new c("^","pow",[A.clone(),g(2)]),g(1)]);break;case"sinh":C=new u("cosh",[A.clone()]);break;case"cosh":C=new u("sinh",[A.clone()]);break;case"tanh":C=new c("^","pow",[new u("sech",[A.clone()]),g(2)]);break;case"sech":N=!0,C=new c("*","multiply",[x,new u("tanh",[A.clone()])]);break;case"csch":N=!0,C=new c("*","multiply",[x,new u("coth",[A.clone()])]);break;case"coth":N=!0,C=new c("^","pow",[new u("csch",[A.clone()]),g(2)]);break;case"asinh":E=!0,C=new u("sqrt",[new c("+","add",[new c("^","pow",[A.clone(),g(2)]),g(1)])]);break;case"acosh":E=!0,C=new u("sqrt",[new c("-","subtract",[new c("^","pow",[A.clone(),g(2)]),g(1)])]);break;case"atanh":E=!0,C=new c("-","subtract",[g(1),new c("^","pow",[A.clone(),g(2)])]);break;case"asech":E=!0,N=!0,C=new c("*","multiply",[A.clone(),new u("sqrt",[new c("-","subtract",[g(1),new c("^","pow",[A.clone(),g(2)])])])]);break;case"acsch":E=!0,N=!0,C=new c("*","multiply",[new u("abs",[A.clone()]),new u("sqrt",[new c("+","add",[new c("^","pow",[A.clone(),g(2)]),g(1)])])]);break;case"acoth":E=!0,N=!0,C=new c("-","subtract",[g(1),new c("^","pow",[A.clone(),g(2)])]);break;case"abs":C=new c("/","divide",[new u(new d("abs"),[A.clone()]),A.clone()]);break;case"gamma":default:throw new Error('Cannot process function "'+x.name+'" in derivative: the function is not supported, undefined, or the number of arguments passed to it are not supported')}var M,F;E?(M="/",F="divide"):(M="*",F="multiply");var I=S(A,b);return N&&(I=new c("-","unaryMinus",[I])),new c(M,F,[I,C])},"OperatorNode, function":function(x,b){if(b(x))return g(0);if(x.op==="+")return new c(x.op,x.fn,x.args.map(function(T){return S(T,b)}));if(x.op==="-"){if(x.isUnary())return new c(x.op,x.fn,[S(x.args[0],b)]);if(x.isBinary())return new c(x.op,x.fn,[S(x.args[0],b),S(x.args[1],b)])}if(x.op==="*"){var A=x.args.filter(function(T){return b(T)});if(A.length>0){var D=x.args.filter(function(T){return!b(T)}),E=D.length===1?D[0]:new c("*","multiply",D),N=A.concat(S(E,b));return new c("*","multiply",N)}return new c("+","add",x.args.map(function(T){return new c("*","multiply",x.args.map(function(L){return L===T?S(L,b):L.clone()}))}))}if(x.op==="/"&&x.isBinary()){var C=x.args[0],M=x.args[1];return b(M)?new c("/","divide",[S(C,b),M]):b(C)?new c("*","multiply",[new c("-","unaryMinus",[C]),new c("/","divide",[S(M,b),new c("^","pow",[M.clone(),g(2)])])]):new c("/","divide",[new c("-","subtract",[new c("*","multiply",[S(C,b),M.clone()]),new c("*","multiply",[C.clone(),S(M,b)])]),new c("^","pow",[M.clone(),g(2)])])}if(x.op==="^"&&x.isBinary()){var F=x.args[0],I=x.args[1];if(b(F))return Et(F)&&(s(F.value)||a(F.value,1))?g(0):new c("*","multiply",[x,new c("*","multiply",[new u("log",[F.clone()]),S(I.clone(),b)])]);if(b(I)){if(Et(I)){if(s(I.value))return g(0);if(a(I.value,1))return S(F,b)}var R=new c("^","pow",[F.clone(),new c("-","subtract",[I,g(1)])]);return new c("*","multiply",[I.clone(),new c("*","multiply",[S(F,b),R])])}return new c("*","multiply",[new c("^","pow",[F.clone(),I.clone()]),new c("+","add",[new c("*","multiply",[S(F,b),new c("/","divide",[I.clone(),F.clone()])]),new c("*","multiply",[S(I,b),new u("log",[F.clone()])])])])}throw new Error('Cannot process operator "'+x.op+'" in derivative: the operator is not supported, undefined, or the number of arguments passed to it are not supported')}});function g(w,x){return new l(o(w,fs(String(w),r)))}return m}),cA="rationalize",Nre=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],Dre=V(cA,Nre,t=>{var{config:e,typed:r,equal:n,isZero:i,add:a,subtract:s,multiply:o,divide:l,pow:u,parse:c,simplifyConstant:f,simplifyCore:d,simplify:p,fraction:h,bignumber:m,mathWithTransform:v,matrix:y,AccessorNode:S,ArrayNode:g,ConstantNode:w,FunctionNode:x,IndexNode:b,ObjectNode:A,OperatorNode:D,SymbolNode:E,ParenthesisNode:N}=t;function C(T){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,H=F(),k=M(T,L,!0,H.firstRules),ie=k.variables.length,ee={exactFractions:!1},X={exactFractions:!0};if(T=k.expression,ie>=1){T=I(T);var Z,pe,de=!0,j=!1;T=p(T,H.firstRules,{},ee);for(var W;pe=de?H.distrDivRules:H.sucDivRules,T=p(T,pe,{},X),de=!de,W=T.toString(),W!==Z;)j=!0,Z=W;j&&(T=p(T,H.firstRulesAgain,{},ee)),T=p(T,H.finalRules,{},ee)}var U=[],K={};return T.type==="OperatorNode"&&T.isBinary()&&T.op==="/"?(ie===1&&(T.args[0]=R(T.args[0],U),T.args[1]=R(T.args[1])),_&&(K.numerator=T.args[0],K.denominator=T.args[1])):(ie===1&&(T=R(T,U)),_&&(K.numerator=T,K.denominator=null)),_?(K.coefficients=U,K.variables=k.variables,K.expression=T,K):T}return r(cA,{Node:C,"Node, boolean":(T,L)=>C(T,{},L),"Node, Object":C,"Node, Object, boolean":C});function M(T,L,_,H){var k=[],ie=p(T,H,L,{exactFractions:!1});_=!!_;var ee="+-*"+(_?"/":"");Z(ie);var X={};return X.expression=ie,X.variables=k,X;function Z(pe){var de=pe.type;if(de==="FunctionNode")throw new Error("There is an unsolved function call");if(de==="OperatorNode")if(pe.op==="^"){if(pe.args[1].type!=="ConstantNode"||!Le(parseFloat(pe.args[1].value)))throw new Error("There is a non-integer exponent");Z(pe.args[0])}else{if(!ee.includes(pe.op))throw new Error("Operator "+pe.op+" invalid in polynomial expression");for(var j=0;j<pe.args.length;j++)Z(pe.args[j])}else if(de==="SymbolNode"){var W=pe.name,U=k.indexOf(W);U===-1&&k.push(W)}else if(de==="ParenthesisNode")Z(pe.content);else if(de!=="ConstantNode")throw new Error("type "+de+" is not allowed in polynomial expression")}}function F(){var T=[d,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},f,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],L=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],_=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],H=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],k={};return k.firstRules=T.concat(L,H),k.distrDivRules=_,k.sucDivRules=H,k.firstRulesAgain=T.concat(L),k.finalRules=[d,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},f,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],k}function I(T,L,_){var H=T.type,k=arguments.length>1;if(H==="OperatorNode"&&T.isBinary()){var ie=!1,ee;if(T.op==="^"&&(T.args[0].type==="ParenthesisNode"||T.args[0].type==="OperatorNode")&&T.args[1].type==="ConstantNode"&&(ee=parseFloat(T.args[1].value),ie=ee>=2&&Le(ee)),ie){if(ee>2){var X=T.args[0],Z=new D("^","pow",[T.args[0].cloneDeep(),new w(ee-1)]);T=new D("*","multiply",[X,Z])}else T=new D("*","multiply",[T.args[0],T.args[0].cloneDeep()]);k&&(_==="content"?L.content=T:L.args[_]=T)}}if(H==="ParenthesisNode")I(T.content,T,"content");else if(H!=="ConstantNode"&&H!=="SymbolNode")for(var pe=0;pe<T.args.length;pe++)I(T.args[pe],T,pe);if(!k)return T}function R(T,L){L===void 0&&(L=[]),L[0]=0;var _={};_.cte=1,_.oper="+",_.fire="";var H=0,k="";W(T,null,_),H=L.length-1;for(var ie=!0,ee,X=H;X>=0;X--)if(L[X]!==0){var Z=new w(ie?L[X]:Math.abs(L[X])),pe=L[X]<0?"-":"+";if(X>0){var de=new E(k);if(X>1){var j=new w(X);de=new D("^","pow",[de,j])}L[X]===-1&&ie?Z=new D("-","unaryMinus",[de]):Math.abs(L[X])===1?Z=de:Z=new D("*","multiply",[Z,de])}ie?ee=Z:pe==="+"?ee=new D("+","add",[ee,Z]):ee=new D("-","subtract",[ee,Z]),ie=!1}if(ie)return new w(0);return ee;function W(U,K,ae){var B=U.type;if(B==="FunctionNode")throw new Error("There is an unsolved function call");if(B==="OperatorNode"){if(!"+-*^".includes(U.op))throw new Error("Operator "+U.op+" invalid");if(K!==null){if((U.fn==="unaryMinus"||U.fn==="pow")&&K.fn!=="add"&&K.fn!=="subtract"&&K.fn!=="multiply")throw new Error("Invalid "+U.op+" placing");if((U.fn==="subtract"||U.fn==="add"||U.fn==="multiply")&&K.fn!=="add"&&K.fn!=="subtract")throw new Error("Invalid "+U.op+" placing");if((U.fn==="subtract"||U.fn==="add"||U.fn==="unaryMinus")&&ae.noFil!==0)throw new Error("Invalid "+U.op+" placing")}(U.op==="^"||U.op==="*")&&(ae.fire=U.op);for(var q=0;q<U.args.length;q++)U.fn==="unaryMinus"&&(ae.oper="-"),(U.op==="+"||U.fn==="subtract")&&(ae.fire="",ae.cte=1,ae.oper=q===0?"+":U.op),ae.noFil=q,W(U.args[q],U,ae)}else if(B==="SymbolNode"){if(U.name!==k&&k!=="")throw new Error("There is more than one variable");if(k=U.name,K===null){L[1]=1;return}if(K.op==="^"&&ae.noFil!==0)throw new Error("In power the variable should be the first parameter");if(K.op==="*"&&ae.noFil!==1)throw new Error("In multiply the variable should be the second parameter");(ae.fire===""||ae.fire==="*")&&(H<1&&(L[1]=0),L[1]+=ae.cte*(ae.oper==="+"?1:-1),H=Math.max(1,H))}else if(B==="ConstantNode"){var G=parseFloat(U.value);if(K===null){L[0]=G;return}if(K.op==="^"){if(ae.noFil!==1)throw new Error("Constant cannot be powered");if(!Le(G)||G<=0)throw new Error("Non-integer exponent is not allowed");for(var se=H+1;se<G;se++)L[se]=0;G>H&&(L[G]=0),L[G]+=ae.cte*(ae.oper==="+"?1:-1),H=Math.max(G,H);return}ae.cte=G,ae.fire===""&&(L[0]+=ae.cte*(ae.oper==="+"?1:-1))}else throw new Error("Type "+B+" is not allowed")}}}),fA="zpk2tf",Cre=["typed","add","multiply","Complex","number"],Mre=V(fA,Cre,t=>{var{typed:e,add:r,multiply:n,Complex:i,number:a}=t;return e(fA,{"Array,Array,number":function(u,c,f){return s(u,c,f)},"Array,Array":function(u,c){return s(u,c,1)},"Matrix,Matrix,number":function(u,c,f){return s(u.valueOf(),c.valueOf(),f)},"Matrix,Matrix":function(u,c){return s(u.valueOf(),c.valueOf(),1)}});function s(l,u,c){l.some(S=>S.type==="BigNumber")&&(l=l.map(S=>a(S))),u.some(S=>S.type==="BigNumber")&&(u=u.map(S=>a(S)));for(var f=[i(1,0)],d=[i(1,0)],p=0;p<l.length;p++){var h=l[p];typeof h=="number"&&(h=i(h,0)),f=o(f,[i(1,0),i(-h.re,-h.im)])}for(var m=0;m<u.length;m++){var v=u[m];typeof v=="number"&&(v=i(v,0)),d=o(d,[i(1,0),i(-v.re,-v.im)])}for(var y=0;y<f.length;y++)f[y]=n(f[y],c);return[f,d]}function o(l,u){for(var c=[],f=0;f<l.length+u.length-1;f++){c[f]=i(0,0);for(var d=0;d<l.length;d++)f-d>=0&&f-d<u.length&&(c[f]=r(c[f],n(l[d],u[f-d])))}return c}}),dA="freqz",Tre=["typed","add","multiply","Complex","divide","matrix"],_re=V(dA,Tre,t=>{var{typed:e,add:r,multiply:n,Complex:i,divide:a,matrix:s}=t;return e(dA,{"Array, Array":function(c,f){var d=l(512);return o(c,f,d)},"Array, Array, Array":function(c,f,d){return o(c,f,d)},"Array, Array, number":function(c,f,d){if(d<0)throw new Error("w must be a positive number");var p=l(d);return o(c,f,p)},"Matrix, Matrix":function(c,f){var d=l(512),{w:p,h}=o(c.valueOf(),f.valueOf(),d);return{w:s(p),h:s(h)}},"Matrix, Matrix, Matrix":function(c,f,d){var{h:p}=o(c.valueOf(),f.valueOf(),d.valueOf());return{h:s(p),w:s(d)}},"Matrix, Matrix, number":function(c,f,d){if(d<0)throw new Error("w must be a positive number");var p=l(d),{h}=o(c.valueOf(),f.valueOf(),p);return{h:s(h),w:s(p)}}});function o(u,c,f){for(var d=[],p=[],h=0;h<f.length;h++){for(var m=i(0,0),v=i(0,0),y=0;y<u.length;y++)m=r(m,n(u[y],i(Math.cos(-y*f[h]),Math.sin(-y*f[h]))));for(var S=0;S<c.length;S++)v=r(v,n(c[S],i(Math.cos(-S*f[h]),Math.sin(-S*f[h]))));d.push(m),p.push(v)}for(var g=[],w=0;w<d.length;w++)g.push(a(d[w],p[w]));return{h:g,w:f}}function l(u){for(var c=[],f=0;f<u;f++)c.push(f/u*Math.PI);return c}}),Ore="reviver",Fre=["classes"],Bre=V(Ore,Fre,t=>{var{classes:e}=t;return function(n,i){var a=e[i&&i.mathjs];return a&&typeof a.fromJSON=="function"?a.fromJSON(i):i}}),kre="replacer",Ire=[],Rre=V(kre,Ire,()=>function(e,r){return typeof r=="number"&&(!isFinite(r)||isNaN(r))?{mathjs:"number",value:String(r)}:typeof r=="bigint"?{mathjs:"bigint",value:String(r)}:r}),Pre="14.5.0",$re=V("true",[],()=>!0),Lre=V("false",[],()=>!1),zre=V("null",[],()=>null),qre=Bn("Infinity",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(1/0):1/0}),Ure=Bn("NaN",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(NaN):NaN}),Hre=Bn("pi",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?d0(r):W9}),Vre=Bn("tau",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?yG(r):G9}),Wre=Bn("e",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?gG(r):j9}),Gre=Bn("phi",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?vG(r):K9}),jre=Bn("LN2",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(2).ln():Math.LN2}),Kre=Bn("LN10",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(10).ln():Math.LN10}),Jre=Bn("LOG2E",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(1).div(new r(2).ln()):Math.LOG2E}),Yre=Bn("LOG10E",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(1).div(new r(10).ln()):Math.LOG10E}),Xre=Bn("SQRT1_2",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r("0.5").sqrt():Math.SQRT1_2}),Zre=Bn("SQRT2",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(2).sqrt():Math.SQRT2}),Qre=Bn("i",["Complex"],t=>{var{Complex:e}=t;return e.I}),ene=V("version",[],()=>Pre);function Bn(t,e,r){return V(t,e,r,{recreateOnConfigChange:!0})}var tne=nt("speedOfLight","299792458","m s^-1"),rne=nt("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),nne=nt("planckConstant","6.62607015e-34","J s"),ine=nt("reducedPlanckConstant","1.0545718176461565e-34","J s"),ane=nt("magneticConstant","1.25663706212e-6","N A^-2"),sne=nt("electricConstant","8.8541878128e-12","F m^-1"),one=nt("vacuumImpedance","376.730313667","ohm"),lne=nt("coulomb","8.987551792261171e9","N m^2 C^-2"),une=nt("elementaryCharge","1.602176634e-19","C"),cne=nt("bohrMagneton","9.2740100783e-24","J T^-1"),fne=nt("conductanceQuantum","7.748091729863649e-5","S"),dne=nt("inverseConductanceQuantum","12906.403729652257","ohm"),pne=nt("magneticFluxQuantum","2.0678338484619295e-15","Wb"),hne=nt("nuclearMagneton","5.0507837461e-27","J T^-1"),mne=nt("klitzing","25812.807459304513","ohm"),gne=nt("bohrRadius","5.29177210903e-11","m"),vne=nt("classicalElectronRadius","2.8179403262e-15","m"),yne=nt("electronMass","9.1093837015e-31","kg"),bne=nt("fermiCoupling","1.1663787e-5","GeV^-2"),xne=Up("fineStructure",.0072973525693),wne=nt("hartreeEnergy","4.3597447222071e-18","J"),Sne=nt("protonMass","1.67262192369e-27","kg"),Ene=nt("deuteronMass","3.3435830926e-27","kg"),Ane=nt("neutronMass","1.6749271613e-27","kg"),Nne=nt("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),Dne=nt("rydberg","10973731.568160","m^-1"),Cne=nt("thomsonCrossSection","6.6524587321e-29","m^2"),Mne=Up("weakMixingAngle",.2229),Tne=Up("efimovFactor",22.7),_ne=nt("atomicMass","1.66053906660e-27","kg"),One=nt("avogadro","6.02214076e23","mol^-1"),Fne=nt("boltzmann","1.380649e-23","J K^-1"),Bne=nt("faraday","96485.33212331001","C mol^-1"),kne=nt("firstRadiation","3.7417718521927573e-16","W m^2"),Ine=nt("loschmidt","2.686780111798444e25","m^-3"),Rne=nt("gasConstant","8.31446261815324","J K^-1 mol^-1"),Pne=nt("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),$ne=nt("molarVolume","0.022413969545014137","m^3 mol^-1"),Lne=Up("sackurTetrode",-1.16487052358),zne=nt("secondRadiation","0.014387768775039337","m K"),qne=nt("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),Une=nt("wienDisplacement","2.897771955e-3","m K"),Hne=nt("molarMass","0.99999999965e-3","kg mol^-1"),Vne=nt("molarMassC12","11.9999999958e-3","kg mol^-1"),Wne=nt("gravity","9.80665","m s^-2"),Gne=nt("planckLength","1.616255e-35","m"),jne=nt("planckMass","2.176435e-8","kg"),Kne=nt("planckTime","5.391245e-44","s"),Jne=nt("planckCharge","1.87554603778e-18","C"),Yne=nt("planckTemperature","1.416785e+32","K");function nt(t,e,r){var n=["config","Unit","BigNumber"];return V(t,n,i=>{var{config:a,Unit:s,BigNumber:o}=i,l=a.number==="BigNumber"?new o(e):parseFloat(e),u=new s(l,r);return u.fixPrefix=!0,u})}function Up(t,e){var r=["config","BigNumber"];return V(t,r,n=>{var{config:i,BigNumber:a}=n;return i.number==="BigNumber"?new a(e):e})}function pA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xne(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pA(Object(r),!0).forEach(function(n){cr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Zne="mapSlices",Qne=["typed","isInteger"],eie=V(Zne,Qne,t=>{var{typed:e,isInteger:r}=t,n=Rg({typed:e,isInteger:r});return e("mapSlices",{"...any":function(a){var s=a[1];at(s)?a[1]=s-1:lt(s)&&(a[1]=s.minus(1));try{return n.apply(null,a)}catch(o){throw vn(o)}}})},Xne({isTransformFunction:!0},Rg.meta)),tie="column",rie=["typed","Index","matrix","range"],nie=V(tie,rie,t=>{var{typed:e,Index:r,matrix:n,range:i}=t,a=JM({typed:e,Index:r,matrix:n,range:i});return e("column",{"...any":function(o){var l=o.length-1,u=o[l];at(u)&&(o[l]=u-1);try{return a.apply(null,o)}catch(c){throw vn(c)}}})},{isTransformFunction:!0});function m0(t,e,r){var n=t.filter(function(l){return Sr(l)&&!(l.name in e)&&!r.has(l.name)})[0];if(!n)throw new Error('No undefined variable found in inline expression "'+t+'"');var i=n.name,a=new Map,s=new b2(r,a,new Set([i])),o=t.compile();return function(u){return a.set(i,u),o.evaluate(s)}}var iie="transformCallback",aie=["typed"],g0=V(iie,aie,t=>{var{typed:e}=t;return function(n,i){return e.isTypedFunction(n)?r(n,i):hA(n,n.length,i)};function r(n,i){var a=Object.fromEntries(Object.entries(n.signatures).map(s=>{var[o,l]=s,u=o.split(",").length;return e.isTypedFunction(l)?[o,r(l,i)]:[o,hA(l,u,i)]}));return typeof n.name=="string"?e(n.name,a):e(a)}});function hA(t,e,r){return e===r?t:e===r+1?function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.slice(0,r),o=mA(i[r]);return t(...s,o)}:e>r+1?function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.slice(0,r),o=mA(i[r]),l=i.slice(r+1);return t(...s,o,...l)}:t}function mA(t){return t.map(e=>e+1)}var sie="filter",oie=["typed"],lie=V(sie,oie,t=>{var{typed:e}=t;function r(i,a,s){var o=YM({typed:e}),l=g0({typed:e});if(i.length===0)return o();var u=i[0];if(i.length===1)return o(u);var c=i.length-1,f=i[c];return u&&(u=n(u,s)),f&&(Sr(f)||Xu(f)?f=n(f,s):f=m0(f,a,s)),o(u,l(f,c))}r.rawArgs=!0;function n(i,a){return i.compile().evaluate(a)}return r},{isTransformFunction:!0}),uie="forEach",cie=["typed"],fie=V(uie,cie,t=>{var{typed:e}=t,r=XM({typed:e}),n=g0({typed:e});function i(s,o,l){if(s.length===0)return r();var u=s[0];if(s.length===1)return r(u);var c=s.length-1,f=s[c];return u&&(u=a(u,l)),f&&(Sr(f)||Xu(f)?f=a(f,l):f=m0(f,o,l)),r(u,n(f,c))}i.rawArgs=!0;function a(s,o){return s.compile().evaluate(o)}return i},{isTransformFunction:!0}),die="index",pie=["Index","getMatrixDataType"],hie=V(die,pie,t=>{var{Index:e,getMatrixDataType:r}=t;return function(){for(var i=[],a=0,s=arguments.length;a<s;a++){var o=arguments[a];if(Yv(o))o.start--,o.end-=o.step>0?0:2;else if(o&&o.isSet===!0)o=o.map(function(u){return u-1});else if(Bt(o)||Ge(o))r(o)!=="boolean"&&(o=o.map(function(u){return u-1}));else if(at(o)||pu(o))o--;else if(lt(o))o=o.toNumber()-1;else if(typeof o!="string")throw new TypeError("Dimension must be an Array, Matrix, number, bigint, string, or Range");i[a]=o}var l=new e;return e.apply(l,i),l}},{isTransformFunction:!0}),mie="map",gie=["typed"],vie=V(mie,gie,t=>{var{typed:e}=t,r=ZM({typed:e}),n=g0({typed:e});function i(a,s,o){if(a.length===0)return r();if(a.length===1)return r(a[0]);var l=a.length-1,u=a.slice(0,l),c=a[l];return u=u.map(d=>f(d,o)),c&&(Sr(c)||Xu(c)?c=f(c,o):c=m0(c,s,o)),r(...u,n(c,l));function f(d,p){return d.compile().evaluate(p)}}return i.rawArgs=!0,i},{isTransformFunction:!0});function yie(t){return at(t)?t-1:lt(t)?t.minus(1):t}function bie(t){return at(t)||lt(t)}function hs(t){if(t.length===2&&Qn(t[0])){t=t.slice();var e=t[1];bie(e)&&(t[1]=yie(e))}return t}var xie="max",wie=["typed","config","numeric","larger","isNaN"],Sie=V(xie,wie,t=>{var{typed:e,config:r,numeric:n,larger:i,isNaN:a}=t,s=lT({typed:e,config:r,numeric:n,larger:i,isNaN:a});return e("max",{"...any":function(l){l=hs(l);try{return s.apply(null,l)}catch(u){throw vn(u)}}})},{isTransformFunction:!0}),Eie="mean",Aie=["typed","add","divide"],Nie=V(Eie,Aie,t=>{var{typed:e,add:r,divide:n}=t,i=vT({typed:e,add:r,divide:n});return e("mean",{"...any":function(s){s=hs(s);try{return i.apply(null,s)}catch(o){throw vn(o)}}})},{isTransformFunction:!0}),Die="min",Cie=["typed","config","numeric","smaller","isNaN"],Mie=V(Die,Cie,t=>{var{typed:e,config:r,numeric:n,smaller:i,isNaN:a}=t,s=uT({typed:e,config:r,numeric:n,smaller:i,isNaN:a});return e("min",{"...any":function(l){l=hs(l);try{return s.apply(null,l)}catch(u){throw vn(u)}}})},{isTransformFunction:!0}),Tie="range",_ie=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],Oie=V(Tie,_ie,t=>{var{typed:e,config:r,matrix:n,bignumber:i,smaller:a,smallerEq:s,larger:o,largerEq:l,add:u,isPositive:c}=t,f=rT({typed:e,config:r,matrix:n,bignumber:i,smaller:a,smallerEq:s,larger:o,largerEq:l,add:u,isPositive:c});return e("range",{"...any":function(p){var h=p.length-1,m=p[h];return typeof m!="boolean"&&p.push(!0),f.apply(null,p)}})},{isTransformFunction:!0}),Fie="row",Bie=["typed","Index","matrix","range"],kie=V(Fie,Bie,t=>{var{typed:e,Index:r,matrix:n,range:i}=t,a=nT({typed:e,Index:r,matrix:n,range:i});return e("row",{"...any":function(o){var l=o.length-1,u=o[l];at(u)&&(o[l]=u-1);try{return a.apply(null,o)}catch(c){throw vn(c)}}})},{isTransformFunction:!0}),Iie="subset",Rie=["typed","matrix","zeros","add"],Pie=V(Iie,Rie,t=>{var{typed:e,matrix:r,zeros:n,add:i}=t,a=iT({typed:e,matrix:r,zeros:n,add:i});return e("subset",{"...any":function(o){try{return a.apply(null,o)}catch(l){throw vn(l)}}})},{isTransformFunction:!0}),$ie="concat",Lie=["typed","matrix","isInteger"],zie=V($ie,Lie,t=>{var{typed:e,matrix:r,isInteger:n}=t,i=KM({typed:e,matrix:r,isInteger:n});return e("concat",{"...any":function(s){var o=s.length-1,l=s[o];at(l)?s[o]=l-1:lt(l)&&(s[o]=l.minus(1));try{return i.apply(null,s)}catch(u){throw vn(u)}}})},{isTransformFunction:!0}),gA="diff",qie=["typed","matrix","subtract","number","bignumber"],Uie=V(gA,qie,t=>{var{typed:e,matrix:r,subtract:n,number:i,bignumber:a}=t,s=QM({typed:e,matrix:r,subtract:n,number:i,bignumber:a});return e(gA,{"...any":function(l){l=hs(l);try{return s.apply(null,l)}catch(u){throw vn(u)}}})},{isTransformFunction:!0}),Hie="std",Vie=["typed","map","sqrt","variance"],Wie=V(Hie,Vie,t=>{var{typed:e,map:r,sqrt:n,variance:i}=t,a=xT({typed:e,map:r,sqrt:n,variance:i});return e("std",{"...any":function(o){o=hs(o);try{return a.apply(null,o)}catch(l){throw vn(l)}}})},{isTransformFunction:!0}),vA="sum",Gie=["typed","config","add","numeric"],jie=V(vA,Gie,t=>{var{typed:e,config:r,add:n,numeric:i}=t,a=mT({typed:e,config:r,add:n,numeric:i});return e(vA,{"...any":function(o){o=hs(o);try{return a.apply(null,o)}catch(l){throw vn(l)}}})},{isTransformFunction:!0}),Kie="quantileSeq",Jie=["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger","mapSlices"],Yie=V(Kie,Jie,t=>{var{typed:e,bignumber:r,add:n,subtract:i,divide:a,multiply:s,partitionSelect:o,compare:l,isInteger:u,smaller:c,smallerEq:f,larger:d,mapSlices:p}=t,h=bT({typed:e,bignumber:r,add:n,subtract:i,divide:a,multiply:s,partitionSelect:o,compare:l,isInteger:u,smaller:c,smallerEq:f,larger:d,mapSlices:p});return e("quantileSeq",{"Array | Matrix, number | BigNumber":h,"Array | Matrix, number | BigNumber, number":(v,y,S)=>h(v,y,m(S)),"Array | Matrix, number | BigNumber, boolean":h,"Array | Matrix, number | BigNumber, boolean, number":(v,y,S,g)=>h(v,y,S,m(g)),"Array | Matrix, Array | Matrix":h,"Array | Matrix, Array | Matrix, number":(v,y,S)=>h(v,y,m(S)),"Array | Matrix, Array | Matrix, boolean":h,"Array | Matrix, Array | Matrix, boolean, number":(v,y,S,g)=>h(v,y,S,m(g))});function m(v){return hs([[],v])[1]}},{isTransformFunction:!0}),yA="cumsum",Xie=["typed","add","unaryPlus"],Zie=V(yA,Xie,t=>{var{typed:e,add:r,unaryPlus:n}=t,i=gT({typed:e,add:r,unaryPlus:n});return e(yA,{"...any":function(s){if(s.length===2&&Qn(s[0])){var o=s[1];at(o)?s[1]=o-1:lt(o)&&(s[1]=o.minus(1))}try{return i.apply(null,s)}catch(l){throw vn(l)}}})},{isTransformFunction:!0}),bA="variance",Qie=["typed","add","subtract","multiply","divide","mapSlices","isNaN"],eae=V(bA,Qie,t=>{var{typed:e,add:r,subtract:n,multiply:i,divide:a,mapSlices:s,isNaN:o}=t,l=yT({typed:e,add:r,subtract:n,multiply:i,divide:a,mapSlices:s,isNaN:o});return e(bA,{"...any":function(c){c=hs(c);try{return l.apply(null,c)}catch(f){throw vn(f)}}})},{isTransformFunction:!0}),xA="print",tae=["typed","matrix","zeros","add"],rae=V(xA,tae,t=>{var{typed:e,matrix:r,zeros:n,add:i}=t,a=sT({typed:e,matrix:r,zeros:n,add:i});return e(xA,{"string, Object | Array":function(l,u){return a(s(l),u)},"string, Object | Array, number | Object":function(l,u,c){return a(s(l),u,c)}});function s(o){return o.replace(aT,l=>{var u=l.slice(1).split("."),c=u.map(function(f){return!isNaN(f)&&f.length>0?parseInt(f)-1:f});return"$"+c.join(".")})}},{isTransformFunction:!0}),nae="and",iae=["typed","matrix","zeros","add","equalScalar","not","concat"],aae=V(nae,iae,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,not:a,concat:s}=t,o=oT({typed:e,matrix:r,equalScalar:n,zeros:i,not:a,concat:s});function l(u,c,f){var d=u[0].compile().evaluate(f);if(!Qn(d)&&!o(d,!0))return!1;var p=u[1].compile().evaluate(f);return o(d,p)}return l.rawArgs=!0,l},{isTransformFunction:!0}),sae="or",oae=["typed","matrix","equalScalar","DenseMatrix","concat"],lae=V(sae,oae,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=t,s=jM({typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a});function o(l,u,c){var f=l[0].compile().evaluate(c);if(!Qn(f)&&s(f,!1))return!0;var d=l[1].compile().evaluate(c);return s(f,d)}return o.rawArgs=!0,o},{isTransformFunction:!0}),uae="bitAnd",cae=["typed","matrix","zeros","add","equalScalar","not","concat"],fae=V(uae,cae,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,not:a,concat:s}=t,o=WM({typed:e,matrix:r,equalScalar:n,zeros:i,not:a,concat:s});function l(u,c,f){var d=u[0].compile().evaluate(f);if(!Qn(d)){if(isNaN(d))return NaN;if(d===0||d===!1)return 0}var p=u[1].compile().evaluate(f);return o(d,p)}return l.rawArgs=!0,l},{isTransformFunction:!0}),dae="bitOr",pae=["typed","matrix","equalScalar","DenseMatrix","concat"],hae=V(dae,pae,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=t,s=GM({typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a});function o(l,u,c){var f=l[0].compile().evaluate(c);if(!Qn(f)){if(isNaN(f))return NaN;if(f===-1)return-1;if(f===!0)return 1}var d=l[1].compile().evaluate(c);return s(f,d)}return o.rawArgs=!0,o},{isTransformFunction:!0}),Te=a9({config:be}),Rt=c9({}),wA=Wre({BigNumber:Te,config:be}),mae=Lre({}),gae=xne({BigNumber:Te,config:be}),lo=v9({}),ST=Qre({Complex:Rt}),vae=qre({BigNumber:Te,config:be}),yae=Kre({BigNumber:Te,config:be}),bae=Yre({BigNumber:Te,config:be}),Hp=E9({}),xae=Ure({BigNumber:Te,config:be}),wae=zre({}),Sae=Gre({BigNumber:Te,config:be}),Eae=x9({}),ET=u6({}),Aae=Xre({BigNumber:Te,config:be}),Nae=Lne({BigNumber:Te,config:be}),AT=Vre({BigNumber:Te,config:be}),Dae=$re({}),Cae=ene({}),ft=L9({Matrix:Hp}),Mae=Tne({BigNumber:Te,config:be}),Tae=jre({BigNumber:Te,config:be}),Vg=Hre({BigNumber:Te,config:be}),NT=Rre({}),_ae=Zre({BigNumber:Te,config:be}),Q=a6({BigNumber:Te,Complex:Rt,DenseMatrix:ft,Fraction:lo}),Oae=Mne({BigNumber:Te,config:be}),yn=eq({typed:Q}),Fae=TG({Complex:Rt,config:be,typed:Q}),Bae=BG({BigNumber:Te,typed:Q}),kae=PG({BigNumber:Te,Complex:Rt,config:be,typed:Q}),mr=iq({typed:Q}),Iae=GU({typed:Q}),Rae=HG({BigNumber:Te,Complex:Rt,config:be,typed:Q}),Pae=KG({typed:Q}),DT=XG({typed:Q}),$ae=tj({Complex:Rt,config:be,typed:Q}),Lae=N7({typed:Q}),zae=LU({typed:Q}),qae=T7({typed:Q}),Uae=q9({typed:Q}),Vp=cte({typed:Q}),Wp=I7({Complex:Rt,typed:Q}),uo=KU({typed:Q}),v0=nj({typed:Q}),Hae=oj({BigNumber:Te,typed:Q}),Vae=fj({BigNumber:Te,typed:Q}),Wae=xq({typed:Q}),gt=h7({config:be,typed:Q}),Gae=dV({typed:Q}),CT=Sq({typed:Q}),jae=Aq({Complex:Rt,typed:Q}),Kae=YM({typed:Q}),tc=mH({typed:Q}),Jae=XM({typed:Q}),rc=EV({typed:Q}),y0=bH({typed:Q}),Yae=TV({format:rc,typed:Q}),b0=YU({typed:Q}),An=H9({typed:Q}),ms=Q9({config:be,typed:Q}),co=a7({config:be,typed:Q}),qi=o7({equalScalar:gt,typed:Q}),Xae=Jre({BigNumber:Te,config:be}),Zae=gte({Complex:Rt,typed:Q}),Qae=aU({Complex:Rt,config:be,typed:Q}),x0=oU({Complex:Rt,config:be,typed:Q}),fo=ZM({typed:Q}),rr=cU({typed:Q}),Yd=eH({typed:Q}),wa=S7({typed:Q}),ese=CV({format:rc,typed:Q}),tse=Gte({config:be,typed:Q}),rse=sT({typed:Q}),nse=Kte({config:be,typed:Q}),w0=ZU({typed:Q}),ise=mj({BigNumber:Te,typed:Q}),MT=gU({BigNumber:Te,Fraction:lo,complex:Wp,typed:Q}),Gp=bj({typed:Q}),gr=v7({Matrix:Hp,equalScalar:gt,typed:Q}),ase=K7({typed:Q}),sse=wU({typed:Q}),ose=C7({typed:Q}),ti=sq({typed:Q}),lse=Ej({typed:Q}),S0=f7({typed:Q}),use=OG({Complex:Rt,config:be,typed:Q}),cse=LG({BigNumber:Te,typed:Q}),fse=qG({BigNumber:Te,Complex:Rt,config:be,typed:Q}),Nn=F7({BigNumber:Te,typed:Q}),dse=dte({typed:Q}),pse=aj({typed:Q}),hse=pj({BigNumber:Te,typed:Q}),ma=u7({typed:Q}),mse=kV({typed:Q}),Lu=Rg({isInteger:An,typed:Q}),Ce=z7({DenseMatrix:ft,Matrix:Hp,SparseMatrix:gr,typed:Q}),gse=U7({isZero:qi,matrix:Ce,typed:Q}),vse=MH({BigNumber:Te,config:be,matrix:Ce,typed:Q}),yse=Xte({config:be,log2:x0,typed:Q}),TT=OH({isInteger:An,matrix:Ce,typed:Q}),bse=vj({BigNumber:Te,typed:Q}),xse=wj({typed:Q}),wse=NG({SparseMatrix:gr,typed:Q}),Si=bU({Complex:Rt,config:be,typed:Q}),Sse=HH({typed:Q}),Ese=Dj({typed:Q}),nc=JH({matrix:Ce,typed:Q}),_T=NU({BigNumber:Te,config:be,matrix:Ce,typed:Q}),Rr=QH({BigNumber:Te,config:be,matrix:Ce,typed:Q}),Ase=IG({BigNumber:Te,Complex:Rt,config:be,typed:Q}),Nse=WG({Complex:Rt,config:be,typed:Q}),Dse=NV({format:rc,typed:Q}),At=KM({isInteger:An,matrix:Ce,typed:Q}),Cse=uj({BigNumber:Te,typed:Q}),E0=XH({conj:uo,transpose:nc,typed:Q}),OT=fH({DenseMatrix:ft,SparseMatrix:gr,matrix:Ce,typed:Q}),Mse=OU({concat:At,equalScalar:gt,matrix:Ce,multiplyScalar:rr,typed:Q}),ri=_W({DenseMatrix:ft,SparseMatrix:gr,concat:At,equalScalar:gt,matrix:Ce,typed:Q}),ic=$7({Fraction:lo,typed:Q}),gs=wH({BigNumber:Te,DenseMatrix:ft,SparseMatrix:gr,config:be,matrix:Ce,typed:Q}),po=t7({typed:Q}),Tse=EH({matrix:Ce,multiplyScalar:rr,typed:Q}),jp=VW({DenseMatrix:ft,SparseMatrix:gr,concat:At,config:be,matrix:Ce,typed:Q}),_se=dW({DenseMatrix:ft,concat:At,equalScalar:gt,matrix:Ce,typed:Q,zeros:Rr}),Ose=bV({isNaN:ma,isNumeric:po,typed:Q}),Fse=hU({BigNumber:Te,concat:At,equalScalar:gt,matrix:Ce,typed:Q}),Yn=PV({bignumber:Nn,fraction:ic,number:wa}),FT=wV({config:be,multiplyScalar:rr,numeric:Yn,typed:Q}),Bse=kH({config:be,matrix:Ce}),kse=hW({DenseMatrix:ft,concat:At,equalScalar:gt,matrix:Ce,typed:Q,zeros:Rr}),bl=HV({BigNumber:Te,DenseMatrix:ft,config:be,equalScalar:gt,matrix:Ce,typed:Q,zeros:Rr}),qr=qH({matrix:Ce,config:be,typed:Q}),on=IW({DenseMatrix:ft,SparseMatrix:gr,bignumber:Nn,concat:At,config:be,matrix:Ce,typed:Q}),Ise=FV({concat:At,matrix:Ce,typed:Q}),Ui=Y7({typed:Q}),Rse=JW({DenseMatrix:ft,SparseMatrix:gr,concat:At,config:be,equalScalar:gt,matrix:Ce,typed:Q}),Pse=nH({DenseMatrix:ft,SparseMatrix:gr,concat:At,matrix:Ce,typed:Q}),wt=Kj({DenseMatrix:ft,SparseMatrix:gr,addScalar:mr,concat:At,equalScalar:gt,matrix:Ce,typed:Q}),$se=QG({BigNumber:Te,DenseMatrix:ft,concat:At,equalScalar:gt,matrix:Ce,typed:Q}),Lse=WM({concat:At,equalScalar:gt,matrix:Ce,typed:Q}),zse=GM({DenseMatrix:ft,concat:At,equalScalar:gt,matrix:Ce,typed:Q}),qse=VU({DenseMatrix:ft,SparseMatrix:gr,concat:At,matrix:Ce,typed:Q}),BT=lq({BigNumber:Te,Complex:Rt,Fraction:lo,config:be,isNegative:ms,matrix:Ce,typed:Q,unaryMinus:Ui}),ho=bW({BigNumber:Te,DenseMatrix:ft,Fraction:lo,concat:At,config:be,equalScalar:gt,matrix:Ce,typed:Q}),kT=MW({concat:At,matrix:Ce,typed:Q}),Use=oH({prod:FT,size:qr,typed:Q}),A0=jW({equal:ri,typed:Q}),Xt=LV({numeric:Yn,typed:Q}),ac=eW({DenseMatrix:ft,SparseMatrix:gr,concat:At,divideScalar:Xt,equalScalar:gt,matrix:Ce,typed:Q}),Hse=BW({compareText:kT,isZero:qi,typed:Q}),IT=UM({DenseMatrix:ft,config:be,equalScalar:gt,matrix:Ce,round:bl,typed:Q,zeros:Rr}),Vse=Zq({BigNumber:Te,DenseMatrix:ft,concat:At,config:be,equalScalar:gt,matrix:Ce,round:bl,typed:Q,zeros:Rr}),Wse=n7({isNumeric:po,typed:Q}),Gse=Yj({abs:yn,addScalar:mr,divideScalar:Xt,isPositive:co,multiplyScalar:rr,smaller:on,sqrt:Si,typed:Q}),RT=aG({DenseMatrix:ft,smaller:on}),Jr=lG({ImmutableDenseMatrix:RT,getMatrixDataType:y0}),ln=qW({DenseMatrix:ft,SparseMatrix:gr,bignumber:Nn,concat:At,config:be,matrix:Ce,typed:Q}),N0=GV({Complex:Rt,config:be,divideScalar:Xt,typeOf:S0,typed:Q}),PT=rW({DenseMatrix:ft,divideScalar:Xt,equalScalar:gt,matrix:Ce,multiplyScalar:rr,subtractScalar:ti,typed:Q}),D0=G7({flatten:tc,matrix:Ce,size:qr,typed:Q}),C0=lT({config:be,isNaN:ma,larger:ln,numeric:Yn,typed:Q}),jse=uT({config:be,isNaN:ma,numeric:Yn,smaller:on,typed:Q}),$T=HM({DenseMatrix:ft,concat:At,config:be,equalScalar:gt,matrix:Ce,round:bl,typed:Q,zeros:Rr}),Kse=YV({Complex:Rt,config:be,divideScalar:Xt,typed:Q}),Jse=jM({DenseMatrix:ft,concat:At,equalScalar:gt,matrix:Ce,typed:Q}),Kp=ZW({compare:ho,isNaN:ma,isNumeric:po,typed:Q}),M0=sJ({addScalar:mr,complex:Wp,conj:uo,divideScalar:Xt,equal:ri,identity:gs,isZero:qi,matrix:Ce,multiplyScalar:rr,sign:MT,sqrt:Si,subtractScalar:ti,typed:Q,unaryMinus:Ui,zeros:Rr}),Yse=gW({DenseMatrix:ft,concat:At,equalScalar:gt,matrix:Ce,typed:Q,zeros:Rr}),ul=$W({DenseMatrix:ft,SparseMatrix:gr,concat:At,config:be,matrix:Ce,typed:Q}),kn=iT({add:wt,matrix:Ce,typed:Q,zeros:Rr}),sr=EU({DenseMatrix:ft,concat:At,equalScalar:gt,matrix:Ce,subtractScalar:ti,typed:Q,unaryMinus:Ui}),Xse=nK({add:wt,matrix:Ce,typed:Q}),T0=iW({DenseMatrix:ft,divideScalar:Xt,equalScalar:gt,matrix:Ce,multiplyScalar:rr,subtractScalar:ti,typed:Q}),Zse=nre({addScalar:mr,combinations:Vp,divideScalar:Xt,isInteger:An,isNegative:ms,multiplyScalar:rr,typed:Q}),Hi=NW({compare:ho,typed:Q}),Qse=are({addScalar:mr,combinations:Vp,isInteger:An,isNegative:ms,isPositive:co,larger:ln,typed:Q}),eoe=QM({matrix:Ce,number:wa,subtract:sr,typed:Q}),toe=jee({abs:yn,addScalar:mr,deepEqual:A0,divideScalar:Xt,multiplyScalar:rr,sqrt:Si,subtractScalar:ti,typed:Q}),Jp=eK({addScalar:mr,conj:uo,multiplyScalar:rr,size:qr,typed:Q}),LT=fG({larger:ln,smaller:on}),zT=aK({Index:Jr,typed:Q}),roe=CU({BigNumber:Te,add:wt,config:be,equal:ri,isInteger:An,mod:$T,smaller:on,typed:Q,xgcd:_T}),noe=rU({concat:At,equalScalar:gt,matrix:Ce,typed:Q}),ioe=KV({Complex:Rt,config:be,divideScalar:Xt,log:N0,typed:Q}),aoe=sW({DenseMatrix:ft,divideScalar:Xt,equalScalar:gt,matrix:Ce,multiplyScalar:rr,subtractScalar:ti,typed:Q}),soe=V7({flatten:tc,matrix:Ce,size:qr,typed:Q}),Mt=dU({addScalar:mr,dot:Jp,equalScalar:gt,matrix:Ce,multiplyScalar:rr,typed:Q}),cl=rT({bignumber:Nn,matrix:Ce,add:wt,config:be,isPositive:co,larger:ln,largerEq:jp,smaller:on,smallerEq:ul,typed:Q}),ooe=nT({Index:Jr,matrix:Ce,range:cl,typed:Q}),loe=Mj({DenseMatrix:ft,Index:Jr,compareNatural:Hi,size:qr,subset:kn,typed:Q}),uoe=Fj({DenseMatrix:ft,Index:Jr,compareNatural:Hi,size:qr,subset:kn,typed:Q}),coe=Rj({Index:Jr,compareNatural:Hi,size:qr,subset:kn,typed:Q}),foe=zj({Index:Jr,compareNatural:Hi,size:qr,subset:kn,typed:Q}),qT=_J({SparseMatrix:gr,abs:yn,add:wt,divideScalar:Xt,larger:ln,largerEq:jp,multiply:Mt,subtract:sr,transpose:nc,typed:Q}),doe=eG({compare:ho,compareNatural:Hi,matrix:Ce,typed:Q}),_0=Z7({config:be,numeric:Yn,typed:Q}),UT=lW({DenseMatrix:ft,divideScalar:Xt,equalScalar:gt,matrix:Ce,multiplyScalar:rr,subtractScalar:ti,typed:Q}),poe=Mre({Complex:Rt,add:wt,multiply:Mt,number:wa,typed:Q}),hoe=oT({concat:At,equalScalar:gt,matrix:Ce,not:Yd,typed:Q,zeros:Rr}),O0=yq({DenseMatrix:ft,config:be,equalScalar:gt,matrix:Ce,round:bl,typed:Q,zeros:Rr}),HT=JM({Index:Jr,matrix:Ce,range:cl,typed:Q}),moe=uH({matrix:Ce,multiply:Mt,subtract:sr,typed:Q}),VT=Eee({divideScalar:Xt,isZero:qi,matrix:Ce,multiply:Mt,subtractScalar:ti,typed:Q,unaryMinus:Ui}),WT=Cq({Complex:Rt,DenseMatrix:ft,ceil:O0,equalScalar:gt,floor:IT,matrix:Ce,typed:Q,zeros:Rr}),mo=Nee({abs:yn,addScalar:mr,det:VT,divideScalar:Xt,identity:gs,matrix:Ce,multiply:Mt,typed:Q,unaryMinus:Ui}),goe=Cee({Complex:Rt,add:wt,ctranspose:E0,deepEqual:A0,divideScalar:Xt,dot:Jp,dotDivide:ac,equal:ri,inv:mo,matrix:Ce,multiply:Mt,typed:Q}),Ei=qV({Complex:Rt,config:be,fraction:ic,identity:gs,inv:mo,matrix:Ce,multiply:Mt,number:wa,typed:Q}),GT=_j({DenseMatrix:ft,Index:Jr,compareNatural:Hi,size:qr,subset:kn,typed:Q}),voe=$j({Index:Jr,compareNatural:Hi,size:qr,subset:kn,typed:Q}),jT=Vj({Index:Jr,concat:At,setDifference:GT,size:qr,subset:kn,typed:Q}),KT=hG({FibonacciHeap:LT,addScalar:mr,equalScalar:gt}),yoe=Ree({abs:yn,add:wt,identity:gs,inv:mo,map:fo,max:C0,multiply:Mt,size:qr,sqrt:Si,subtract:sr,typed:Q}),F0=mT({add:wt,config:be,numeric:Yn,typed:Q}),Ye=wG({BigNumber:Te,Complex:Rt,Fraction:lo,abs:yn,addScalar:mr,config:be,divideScalar:Xt,equal:ri,fix:WT,format:rc,isNumeric:po,multiplyScalar:rr,number:wa,pow:Ei,round:bl,subtractScalar:ti}),boe=one({BigNumber:Te,Unit:Ye,config:be}),xoe=Une({BigNumber:Te,Unit:Ye,config:be}),woe=_ne({BigNumber:Te,Unit:Ye,config:be}),Soe=cne({BigNumber:Te,Unit:Ye,config:be}),Eoe=Fne({BigNumber:Te,Unit:Ye,config:be}),Aoe=fne({BigNumber:Te,Unit:Ye,config:be}),Noe=lne({BigNumber:Te,Unit:Ye,config:be}),Doe=gT({add:wt,typed:Q,unaryPlus:_0}),Coe=Ene({BigNumber:Te,Unit:Ye,config:be}),Moe=ZV({DenseMatrix:ft,SparseMatrix:gr,concat:At,equalScalar:gt,matrix:Ce,pow:Ei,typed:Q}),Toe=sne({BigNumber:Te,Unit:Ye,config:be}),_oe=une({BigNumber:Te,Unit:Ye,config:be}),Ooe=kee({abs:yn,add:wt,identity:gs,inv:mo,multiply:Mt,typed:Q}),Foe=Bne({BigNumber:Te,Unit:Ye,config:be}),JT=tV({addScalar:mr,ceil:O0,conj:uo,divideScalar:Xt,dotDivide:ac,exp:CT,i:ST,log2:x0,matrix:Ce,multiplyScalar:rr,pow:Ei,tau:AT,typed:Q}),B0=hte({BigNumber:Te,Complex:Rt,config:be,multiplyScalar:rr,pow:Ei,typed:Q}),Boe=rne({BigNumber:Te,Unit:Ye,config:be}),koe=wne({BigNumber:Te,Unit:Ye,config:be}),Ioe=nV({conj:uo,dotDivide:ac,fft:JT,typed:Q}),Roe=dne({BigNumber:Te,Unit:Ye,config:be}),Poe=mne({BigNumber:Te,Unit:Ye,config:be}),$oe=Ine({BigNumber:Te,Unit:Ye,config:be}),Loe=ane({BigNumber:Te,Unit:Ye,config:be}),zoe=Hne({BigNumber:Te,Unit:Ye,config:be}),qoe=Pne({BigNumber:Te,Unit:Ye,config:be}),Uoe=Ane({BigNumber:Te,Unit:Ye,config:be}),Hoe=hne({BigNumber:Te,Unit:Ye,config:be}),Voe=Jne({BigNumber:Te,Unit:Ye,config:be}),Woe=Gne({BigNumber:Te,Unit:Ye,config:be}),Goe=Yne({BigNumber:Te,Unit:Ye,config:be}),joe=Sne({BigNumber:Te,Unit:Ye,config:be}),Koe=Nne({BigNumber:Te,Unit:Ye,config:be}),Joe=ine({BigNumber:Te,Unit:Ye,config:be}),Yoe=Dne({BigNumber:Te,Unit:Ye,config:be}),Xoe=zne({BigNumber:Te,Unit:Ye,config:be}),Zoe=Uj({compareNatural:Hi,typed:Q}),Qoe=tne({BigNumber:Te,Unit:Ye,config:be}),ele=qne({BigNumber:Te,Unit:Ye,config:be}),tle=Cne({BigNumber:Te,Unit:Ye,config:be}),rle=One({BigNumber:Te,Unit:Ye,config:be}),nle=gne({BigNumber:Te,Unit:Ye,config:be}),ile=CG({Unit:Ye,typed:Q}),Pr=Wee({divideScalar:Xt,equalScalar:gt,inv:mo,matrix:Ce,multiply:Mt,typed:Q}),ale=yne({BigNumber:Te,Unit:Ye,config:be}),sc=yte({gamma:B0,typed:Q}),sle=kne({BigNumber:Te,Unit:Ye,config:be}),ole=Wne({BigNumber:Te,Unit:Ye,config:be}),lle=Yee({abs:yn,add:wt,addScalar:mr,config:be,divideScalar:Xt,equalScalar:gt,flatten:tc,isNumeric:po,isZero:qi,matrix:Ce,multiply:Mt,multiplyScalar:rr,smaller:on,subtract:sr,typed:Q}),YT=iJ({DenseMatrix:ft,Spa:KT,SparseMatrix:gr,abs:yn,addScalar:mr,divideScalar:Xt,equalScalar:gt,larger:ln,matrix:Ce,multiplyScalar:rr,subtractScalar:ti,typed:Q,unaryMinus:Ui}),ule=pne({BigNumber:Te,Unit:Ye,config:be}),cle=Vne({BigNumber:Te,Unit:Ye,config:be}),fle=Ste({add:wt,divide:Pr,factorial:sc,isInteger:An,isPositive:co,multiply:Mt,typed:Q}),dle=Ate({factorial:sc,typed:Q}),ple=jne({BigNumber:Te,Unit:Ye,config:be}),hle=kJ({add:wt,cbrt:BT,divide:Pr,equalScalar:gt,im:b0,isZero:qi,multiply:Mt,re:w0,sqrt:Si,subtract:sr,typeOf:S0,typed:Q,unaryMinus:Ui}),XT=kj({DenseMatrix:ft,Index:Jr,compareNatural:Hi,size:qr,subset:kn,typed:Q}),mle=uV({abs:yn,add:wt,bignumber:Nn,divide:Pr,isNegative:ms,isPositive:co,larger:ln,map:fo,matrix:Ce,max:C0,multiply:Mt,smaller:on,subtract:sr,typed:Q,unaryMinus:Ui}),ZT=Qte({bignumber:Nn,addScalar:mr,combinations:Vp,divideScalar:Xt,factorial:sc,isInteger:An,isNegative:ms,larger:ln,multiplyScalar:rr,number:wa,pow:Ei,subtractScalar:ti,typed:Q}),gle=EG({Unit:Ye,typed:Q}),vle=tre({addScalar:mr,isInteger:An,isNegative:ms,stirlingS2:ZT,typed:Q}),QT=Fee({abs:yn,add:wt,addScalar:mr,atan:DT,bignumber:Nn,column:HT,complex:Wp,config:be,cos:v0,diag:OT,divideScalar:Xt,dot:Jp,equal:ri,flatten:tc,im:b0,inv:mo,larger:ln,matrix:Ce,matrixFromColumns:D0,multiply:Mt,multiplyScalar:rr,number:wa,qr:M0,re:w0,reshape:TT,sin:Gp,size:qr,smaller:on,sqrt:Si,subtract:sr,typed:Q,usolve:T0,usolveAll:UT}),yle=bne({BigNumber:Te,Unit:Ye,config:be}),ble=Rne({BigNumber:Te,Unit:Ye,config:be}),xle=xte({divide:Pr,dotDivide:ac,isNumeric:po,log:N0,map:fo,matrix:Ce,multiply:Mt,sum:F0,typed:Q}),e_=FJ({DenseMatrix:ft,lsolve:PT,lup:YT,matrix:Ce,slu:qT,typed:Q,usolve:T0}),t_=vT({add:wt,divide:Pr,typed:Q}),wle=$ne({BigNumber:Te,Unit:Ye,config:be}),Sle=nne({BigNumber:Te,Unit:Ye,config:be}),Ele=bT({bignumber:Nn,add:wt,compare:ho,divide:Pr,isInteger:An,larger:ln,mapSlices:Lu,multiply:Mt,partitionSelect:Kp,smaller:on,smallerEq:ul,subtract:sr,typed:Q}),Ale=Gj({Index:Jr,concat:At,setIntersect:XT,setSymDifference:jT,size:qr,subset:kn,typed:Q}),k0=yT({add:wt,divide:Pr,isNaN:ma,mapSlices:Lu,multiply:Mt,subtract:sr,typed:Q}),Nle=vne({BigNumber:Te,Unit:Ye,config:be}),r_=tte({add:wt,compare:ho,divide:Pr,partitionSelect:Kp,typed:Q}),Dle=lte({add:wt,divide:Pr,matrix:Ce,mean:t_,multiply:Mt,pow:Ei,sqrt:Si,subtract:sr,sum:F0,typed:Q}),Cle=_re({Complex:Rt,add:wt,divide:Pr,matrix:Ce,multiply:Mt,typed:Q}),Mle=nte({abs:yn,map:fo,median:r_,subtract:sr,typed:Q}),Tle=xT({map:fo,sqrt:Si,typed:Q,variance:k0}),_le=vV({BigNumber:Te,Complex:Rt,add:wt,config:be,divide:Pr,equal:ri,factorial:sc,gamma:B0,isNegative:ms,multiply:Mt,pi:Vg,pow:Ei,sin:Gp,smallerEq:ul,subtract:sr,typed:Q}),I0=Zj({abs:yn,add:wt,conj:uo,ctranspose:E0,eigs:QT,equalScalar:gt,larger:ln,matrix:Ce,multiply:Mt,pow:Ei,smaller:on,sqrt:Si,typed:Q}),n_=$H({BigNumber:Te,DenseMatrix:ft,SparseMatrix:gr,addScalar:mr,config:be,cos:v0,matrix:Ce,multiplyScalar:rr,norm:I0,sin:Gp,typed:Q,unaryMinus:Ui}),Ole=Kne({BigNumber:Te,Unit:Ye,config:be}),i_=zee({identity:gs,matrix:Ce,multiply:Mt,norm:I0,qr:M0,subtract:sr,typed:Q}),Fle=RH({multiply:Mt,rotationMatrix:n_,typed:Q}),a_=$ee({abs:yn,add:wt,concat:At,identity:gs,index:zT,lusolve:e_,matrix:Ce,matrixFromColumns:D0,multiply:Mt,range:cl,schur:i_,subset:kn,subtract:sr,transpose:nc,typed:Q}),Ble=Uee({matrix:Ce,multiply:Mt,sylvester:a_,transpose:nc,typed:Q}),xl={},oc={},s_={},Qr=lK({mathWithTransform:oc}),wl=FK({Node:Qr}),Sa=kK({Node:Qr}),go=RK({Node:Qr}),o_=zK({Node:Qr}),Sl=dK({Node:Qr}),l_=yK({Node:Qr,ResultSet:ET}),u_=xK({Node:Qr}),vs=DK({Node:Qr}),c_=$K({Node:Qr}),kle=Bre({classes:s_}),R0=zJ({math:xl,typed:Q}),f_=MK({Node:Qr,typed:Q}),Ile=wee({Chain:R0,typed:Q}),El=cK({Node:Qr,subset:kn}),d_=gK({matrix:Ce,Node:Qr,subset:kn}),Al=_K({Node:Qr,size:qr}),ys=HK({Unit:Ye,Node:Qr,math:xl}),bs=WK({Node:Qr,SymbolNode:ys,math:xl}),Ai=jK({AccessorNode:El,ArrayNode:Sl,AssignmentNode:d_,BlockNode:l_,ConditionalNode:u_,ConstantNode:vs,FunctionAssignmentNode:f_,FunctionNode:bs,IndexNode:Al,ObjectNode:wl,OperatorNode:Sa,ParenthesisNode:go,RangeNode:c_,RelationalNode:o_,SymbolNode:ys,config:be,numeric:Yn,typed:Q}),p_=xre({ConstantNode:vs,FunctionNode:bs,OperatorNode:Sa,ParenthesisNode:go,parse:Ai,typed:Q}),P0=mre({bignumber:Nn,fraction:ic,AccessorNode:El,ArrayNode:Sl,ConstantNode:vs,FunctionNode:bs,IndexNode:Al,ObjectNode:wl,OperatorNode:Sa,SymbolNode:ys,config:be,mathWithTransform:oc,matrix:Ce,typed:Q}),Rle=JK({parse:Ai,typed:Q}),$0=vre({AccessorNode:El,ArrayNode:Sl,ConstantNode:vs,FunctionNode:bs,IndexNode:Al,ObjectNode:wl,OperatorNode:Sa,ParenthesisNode:go,SymbolNode:ys,add:wt,divide:Pr,equal:ri,isZero:qi,multiply:Mt,parse:Ai,pow:Ei,subtract:sr,typed:Q}),Yp=XK({parse:Ai,typed:Q}),h_=PJ({evaluate:Yp}),m_=eJ({evaluate:Yp,parse:Ai}),Xp=dre({AccessorNode:El,ArrayNode:Sl,ConstantNode:vs,FunctionNode:bs,IndexNode:Al,ObjectNode:wl,OperatorNode:Sa,ParenthesisNode:go,SymbolNode:ys,equal:ri,parse:Ai,replacer:NT,resolve:p_,simplifyConstant:P0,simplifyCore:$0,typed:Q}),Ple=Sre({OperatorNode:Sa,parse:Ai,simplify:Xp,typed:Q}),$le=ore({parse:Ai,typed:Q}),Lle=rJ({Parser:m_,typed:Q}),zle=Dre({bignumber:Nn,fraction:ic,AccessorNode:El,ArrayNode:Sl,ConstantNode:vs,FunctionNode:bs,IndexNode:Al,ObjectNode:wl,OperatorNode:Sa,ParenthesisNode:go,SymbolNode:ys,add:wt,config:be,divide:Pr,equal:ri,isZero:qi,mathWithTransform:oc,matrix:Ce,multiply:Mt,parse:Ai,pow:Ei,simplify:Xp,simplifyConstant:P0,simplifyCore:$0,subtract:sr,typed:Q}),qle=Are({ConstantNode:vs,FunctionNode:bs,OperatorNode:Sa,ParenthesisNode:go,SymbolNode:ys,config:be,equal:ri,isZero:qi,numeric:Yn,parse:Ai,simplify:Xp,typed:Q}),Ule=bee({Help:h_,mathWithTransform:oc,typed:Q});pr(xl,{e:wA,false:mae,fineStructure:gae,i:ST,Infinity:vae,LN10:yae,LOG10E:bae,NaN:xae,null:wae,phi:Sae,SQRT1_2:Aae,sackurTetrode:Nae,tau:AT,true:Dae,E:wA,version:Cae,efimovFactor:Mae,LN2:Tae,pi:Vg,replacer:NT,reviver:kle,SQRT2:_ae,typed:Q,PI:Vg,weakMixingAngle:Oae,abs:yn,acos:Fae,acot:Bae,acsc:kae,addScalar:mr,arg:Iae,asech:Rae,asinh:Pae,atan:DT,atanh:$ae,bigint:Lae,bitNot:zae,boolean:qae,clone:Uae,combinations:Vp,complex:Wp,conj:uo,cos:v0,cot:Hae,csc:Vae,cube:Wae,equalScalar:gt,erf:Gae,exp:CT,expm1:jae,filter:Kae,flatten:tc,forEach:Jae,format:rc,getMatrixDataType:y0,hex:Yae,im:b0,isInteger:An,isNegative:ms,isPositive:co,isZero:qi,LOG2E:Xae,lgamma:Zae,log10:Qae,log2:x0,map:fo,multiplyScalar:rr,not:Yd,number:wa,oct:ese,pickRandom:tse,print:rse,random:nse,re:w0,sec:ise,sign:MT,sin:Gp,splitUnit:ase,square:sse,string:ose,subtractScalar:ti,tan:lse,typeOf:S0,acosh:use,acsch:cse,asec:fse,bignumber:Nn,chain:Ile,combinationsWithRep:dse,cosh:pse,csch:hse,isNaN:ma,isPrime:mse,mapSlices:Lu,matrix:Ce,matrixFromFunction:gse,ones:vse,randomInt:yse,reshape:TT,sech:bse,sinh:xse,sparse:wse,sqrt:Si,squeeze:Sse,tanh:Ese,transpose:nc,xgcd:_T,zeros:Rr,acoth:Ase,asin:Nse,bin:Dse,concat:At,coth:Cse,ctranspose:E0,diag:OT,dotMultiply:Mse,equal:ri,fraction:ic,identity:gs,isNumeric:po,kron:Tse,largerEq:jp,leftShift:_se,mode:Ose,nthRoot:Fse,numeric:Yn,prod:FT,resize:Bse,rightArithShift:kse,round:bl,size:qr,smaller:on,to:Ise,unaryMinus:Ui,unequal:Rse,xor:Pse,add:wt,atan2:$se,bitAnd:Lse,bitOr:zse,bitXor:qse,cbrt:BT,compare:ho,compareText:kT,count:Use,deepEqual:A0,divideScalar:Xt,dotDivide:ac,equalText:Hse,floor:IT,gcd:Vse,hasNumericValue:Wse,hypot:Gse,larger:ln,log:N0,lsolve:PT,matrixFromColumns:D0,max:C0,min:jse,mod:$T,nthRoots:Kse,or:Jse,partitionSelect:Kp,qr:M0,rightLogShift:Yse,smallerEq:ul,subset:kn,subtract:sr,trace:Xse,usolve:T0,catalan:Zse,compareNatural:Hi,composition:Qse,diff:eoe,distance:toe,dot:Jp,index:zT,invmod:roe,lcm:noe,log1p:ioe,lsolveAll:aoe,matrixFromRows:soe,multiply:Mt,range:cl,row:ooe,setCartesian:loe,setDistinct:uoe,setIsSubset:coe,setPowerset:foe,slu:qT,sort:doe,unaryPlus:_0,usolveAll:UT,zpk2tf:poe,and:hoe,ceil:O0,column:HT,cross:moe,det:VT,fix:WT,inv:mo,pinv:goe,pow:Ei,setDifference:GT,setMultiplicity:voe,setSymDifference:jT,sqrtm:yoe,sum:F0,vacuumImpedance:boe,wienDisplacement:xoe,atomicMass:woe,bohrMagneton:Soe,boltzmann:Eoe,conductanceQuantum:Aoe,coulomb:Noe,cumsum:Doe,deuteronMass:Coe,dotPow:Moe,electricConstant:Toe,elementaryCharge:_oe,expm:Ooe,faraday:Foe,fft:JT,gamma:B0,gravitationConstant:Boe,hartreeEnergy:koe,ifft:Ioe,inverseConductanceQuantum:Roe,klitzing:Poe,loschmidt:$oe,magneticConstant:Loe,molarMass:zoe,molarPlanckConstant:qoe,neutronMass:Uoe,nuclearMagneton:Hoe,planckCharge:Voe,planckLength:Woe,planckTemperature:Goe,protonMass:joe,quantumOfCirculation:Koe,reducedPlanckConstant:Joe,rydberg:Yoe,secondRadiation:Xoe,setSize:Zoe,speedOfLight:Qoe,stefanBoltzmann:ele,thomsonCrossSection:tle,avogadro:rle,bohrRadius:nle,createUnit:ile,divide:Pr,electronMass:ale,factorial:sc,firstRadiation:sle,gravity:ole,intersect:lle,lup:YT,magneticFluxQuantum:ule,molarMassC12:cle,multinomial:fle,parse:Ai,permutations:dle,planckMass:ple,polynomialRoot:hle,resolve:p_,setIntersect:XT,simplifyConstant:P0,solveODE:mle,stirlingS2:ZT,unit:gle,bellNumbers:vle,compile:Rle,eigs:QT,fermiCoupling:yle,gasConstant:ble,kldivergence:xle,lusolve:e_,mean:t_,molarVolume:wle,planckConstant:Sle,quantileSeq:Ele,setUnion:Ale,simplifyCore:$0,variance:k0,classicalElectronRadius:Nle,evaluate:Yp,median:r_,simplify:Xp,symbolicEqual:Ple,corr:Dle,freqz:Cle,leafCount:$le,mad:Mle,parser:Lle,rationalize:zle,std:Tle,zeta:_le,derivative:qle,norm:I0,rotationMatrix:n_,help:Ule,planckTime:Ole,schur:i_,rotate:Fle,sylvester:a_,lyap:Ble,config:be});pr(oc,xl,{mapSlices:eie({isInteger:An,typed:Q}),filter:lie({typed:Q}),forEach:fie({typed:Q}),map:vie({typed:Q}),or:lae({DenseMatrix:ft,concat:At,equalScalar:gt,matrix:Ce,typed:Q}),and:aae({add:wt,concat:At,equalScalar:gt,matrix:Ce,not:Yd,typed:Q,zeros:Rr}),concat:zie({isInteger:An,matrix:Ce,typed:Q}),index:hie({Index:Jr,getMatrixDataType:y0}),print:rae({add:wt,matrix:Ce,typed:Q,zeros:Rr}),sum:jie({add:wt,config:be,numeric:Yn,typed:Q}),bitAnd:fae({add:wt,concat:At,equalScalar:gt,matrix:Ce,not:Yd,typed:Q,zeros:Rr}),min:Mie({config:be,isNaN:ma,numeric:Yn,smaller:on,typed:Q}),subset:Pie({add:wt,matrix:Ce,typed:Q,zeros:Rr}),bitOr:hae({DenseMatrix:ft,concat:At,equalScalar:gt,matrix:Ce,typed:Q}),cumsum:Zie({add:wt,typed:Q,unaryPlus:_0}),diff:Uie({bignumber:Nn,matrix:Ce,number:wa,subtract:sr,typed:Q}),max:Sie({config:be,isNaN:ma,larger:ln,numeric:Yn,typed:Q}),range:Oie({bignumber:Nn,matrix:Ce,add:wt,config:be,isPositive:co,larger:ln,largerEq:jp,smaller:on,smallerEq:ul,typed:Q}),row:kie({Index:Jr,matrix:Ce,range:cl,typed:Q}),column:nie({Index:Jr,matrix:Ce,range:cl,typed:Q}),mean:Nie({add:wt,divide:Pr,typed:Q}),quantileSeq:Yie({add:wt,bignumber:Nn,compare:ho,divide:Pr,isInteger:An,larger:ln,mapSlices:Lu,multiply:Mt,partitionSelect:Kp,smaller:on,smallerEq:ul,subtract:sr,typed:Q}),variance:eae({add:wt,divide:Pr,isNaN:ma,mapSlices:Lu,multiply:Mt,subtract:sr,typed:Q}),std:Wie({map:fo,sqrt:Si,typed:Q,variance:k0})});pr(s_,{BigNumber:Te,Complex:Rt,Fraction:lo,Matrix:Hp,Node:Qr,ObjectNode:wl,OperatorNode:Sa,ParenthesisNode:go,Range:Eae,RelationalNode:o_,ResultSet:ET,ArrayNode:Sl,BlockNode:l_,ConditionalNode:u_,ConstantNode:vs,DenseMatrix:ft,RangeNode:c_,Chain:R0,FunctionAssignmentNode:f_,SparseMatrix:gr,ImmutableDenseMatrix:RT,Index:Jr,AccessorNode:El,AssignmentNode:d_,FibonacciHeap:LT,IndexNode:Al,Spa:KT,Unit:Ye,SymbolNode:ys,FunctionNode:bs,Help:h_,Parser:m_});R0.createProxy(xl);const Hle={key:0,class:"fixed w-screen z-50",style:{bottom:"env(safe-area-inset-bottom)"}},Vle={class:"absolute left-0 right-0 bottom-0 flex flex-row gap-1 justify-between items-center bg-[var(--bg2)] border-t-1 border-[var(--text)] text-[var(--text)]"},Wle={class:"ml-2"},Gle={class:"mr-2"},jle={key:0,class:"absolute boottom-0"},Kle=fr({__name:"RichMarkdownEditor",props:{id:{}},setup(t){const e=t,r=Pe(window.innerWidth>=1024),n=()=>{r.value=window.innerWidth>=1024};jt(()=>{window.addEventListener("resize",n)});const i=Pe(),a=Pe(""),s=Pe(!0),o=()=>{var x;return(x=i.value)==null?void 0:x.chain().focus().toggleBold().run()},l=()=>{var x;return(x=i.value)==null?void 0:x.chain().focus().toggleItalic().run()},u=()=>{var x;return(x=i.value)==null?void 0:x.chain().focus().toggleStrike().run()},c=()=>{var x;return(x=i.value)==null?void 0:x.chain().focus().toggleUnderline().run()},f=x=>{var b;return(b=i.value)==null?void 0:b.chain().focus().toggleHeading({level:x}).run()},d=kr(()=>{var x;return((x=i.value)==null?void 0:x.isActive("bold"))||!1}),p=kr(()=>{var x;return((x=i.value)==null?void 0:x.isActive("italic"))||!1}),h=kr(()=>{var x;return((x=i.value)==null?void 0:x.isActive("strike"))||!1}),m=kr(()=>{var x;return((x=i.value)==null?void 0:x.isActive("underline"))||!1}),v=()=>{i.value&&!i.value.isFocused&&i.value.commands.focus()},y=async()=>{try{const x=await bt.getNote(e.id);a.value=(x==null?void 0:x.content)||"",console.log(x)}catch(x){console.error("Erreur lors du chargement de la note:",x),a.value="Erreur de chargement."}};function S(){if(!i.value)return;const x=/(\d+(?:\s*[\+\-\*\/]\s*\d+)+)\s*=(?!\d)/g;i.value.state.doc.descendants((b,A)=>{var N;if(!b.isText)return!0;const D=b.text??"";let E;for(;(E=x.exec(D))!==null;){const C=E[1].trim(),M=E[0];try{const F=Yp(C),I=`${C}=${F}`;if(D.includes(I))continue;const R=A+E.index,T=R+M.length;(N=i.value)==null||N.commands.command(({tr:L})=>(L.insertText(I,R,T),!0))}catch(F){console.warn(`chec de lvaluation "${C}"`,F)}}return!0})}const g=()=>{i.value&&bt.saveContent(i.value.getHTML(),e.id)},w=$r.create({name:"mathEvalShortcut",addKeyboardShortcuts(){return{"Mod-Enter":()=>(S(),!0)}}});return jt(async()=>{setTimeout(async()=>{await y(),i.value=new WL({extensions:[G8,vz.configure({openOnClick:!1,autolink:!0,linkOnPaste:!0}),j8,K8.configure({placeholder:"Commencez  crire ici..."}),w],content:a.value,onUpdate:()=>{g(),S()}})},500)}),fl(()=>{var x;(x=i.value)==null||x.destroy()}),(x,b)=>(ke(),Ve(Gt,null,[ce("div",{class:"editor-container",onClick:v},[dt(Oe(GL),{editor:i.value??void 0,class:"prose h-full"},null,8,["editor"])]),r.value?Yt("",!0):(ke(),Ve("div",Hle,[ce("div",Vle,[ce("ul",Wle,[ce("button",{onClick:b[0]||(b[0]=A=>f(1))},"H1"),ce("button",{onClick:b[1]||(b[1]=A=>f(2))},"H2"),ce("button",{onClick:b[2]||(b[2]=A=>f(3))},"H3"),ce("button",{onClick:b[3]||(b[3]=A=>f(4))},"H4")]),ce("ul",Gle,[ce("button",{onClick:o,class:ct({active:d.value})},b[4]||(b[4]=[ce("strong",null,"B",-1)]),2),ce("button",{onClick:l,class:ct({active:p.value})},b[5]||(b[5]=[ce("i",null,"i",-1)]),2),ce("button",{onClick:u,class:ct({active:h.value})},b[6]||(b[6]=[ce("s",null,"S",-1)]),2),ce("button",{onClick:c,class:ct({active:m.value})},b[7]||(b[7]=[ce("u",null,"U",-1)]),2)])])])),dt(cv,null,{default:Fs(()=>[s.value?(ke(),Ve("section",jle,b[8]||(b[8]=[ce("div",null,null,-1)]))):Yt("",!0)]),_:1})],64))}}),Jle={class:"flex flex-row relative",style:{"padding-top":"calc(1rem + env(safe-area-inset-top)/2)"}},Yle={class:"flex flex-row gap-4 absolute right-4"},Xle={class:"flex flex-col justify-center items-center h-full lg:mr-[20%] lg:ml-[20%] 2xl:mr-[30%] 2xl:ml-[30%] mt-12 overflow-x-hidden"},Zle=fr({__name:"Edit",setup(t){jt(()=>{pp()});let e;jt(async()=>{e=await io()});const r=ro(),n=ZN(),i=Pe(n.query.pinned=="true"),a=Pe(n.query.simply_edit=="true"),s=Pe({title:"",content:"",pinned:!1,simply_edit:!1,date:"",id:-1,tags:[]}),o=Pe(null),l=()=>{s.value.title&&bt.saveTitle(s.value.title,Number(n.query.id))};jt(async()=>{if(setTimeout(()=>{var f;(f=o.value)==null||f.focus()},200),n.query.id=="new"){console.log("Cration d'une nouvelle note");const f=await bt.create({id:-1,pinned:!1,simply_edit:!1,title:s.value.title,content:s.value.content,date:Lt.date(),tags:[]});console.log(f.id),s.value.id=f.id||-1,r.push({query:{...n.query,id:f.id}})}const c=await bt.getNote(Number(n.query.id));c&&(s.value=c)}),Wu(async()=>{s.value.title==""&&(console.log("Sauvegarde de la note vide"),bt.saveTitle("Note sans titre",s.value.id))});const u=()=>{i.value=!i.value,bt.togle_pinned(Number(n.query.id)),r.push({query:{...n.query,pinned:i.value?"true":"false"}}),bt.togle_pinned(Number(n.query.id))};return(c,f)=>(ke(),Ve(Gt,null,[ce("header",Jle,[ce("div",{class:ct(["left-arrow absolute left-4 cursor-pointer",Oe(e)?"bg-red-600":""]),onClick:f[0]||(f[0]=d=>Oe(r).push("/"))},null,2),ce("div",Yle,[ce("div",{class:ct(["pin",Oe(e)?"bg-red-600":""]),style:ca({backgroundImage:i.value?`url(${Oe(xD)})`:`url(${Oe(wD)})`}),onClick:u},null,6)])]),ce("section",Xle,[jo(ce("input",{class:ct(["text-3xl mb-3 font-bold",Oe(e)?"bg-indigo-600":""]),type:"text",placeholder:"Titre...",ref_key:"title",ref:o,"onUpdate:modelValue":f[1]||(f[1]=d=>s.value.title=d),onInput:l},null,34),[[xu,s.value.title]]),dt(Kle,{class:ct(Oe(e)?"bg-blue-600":""),simplify_text:a.value,id:s.value.id},null,8,["class","simplify_text","id"])])],64))}}),Qle=gi(Zle,[["__scopeId","data-v-cf64d370"]]),g_="0.0.0",eue={class:"flex flex-row relative",style:{"padding-top":"calc(1rem + env(safe-area-inset-top)/2)"}},tue={class:"flex flex-col justify-start relative items-start min-h-[80VH] ml-4 mr-4 mt-12 overflow-x-hidden"},rue={key:0,style:{"font-family":"'Montserrat'"},class:"text-2xl mb-1 font-bold"},nue=["for"],iue={class:"switch flex flex-row"},aue=["id","onUpdate:modelValue"],sue={key:2,class:"mb-2 mt-4 opacity-25"},oue={class:"flex flex-col w-full gap-4"},lue=fr({__name:"Settings",setup(t){jt(()=>{pp()});let e;jt(async()=>{e=await io()});const r=Pe(!1),n=Pe(void 0),i=new mv(mI),a=ro(),s=qu({gnraux:[],avanc:[],dev_mode:[]}),o=p=>p=="dev_mode",l=()=>{const p=s.avanc;if(!p)return!1;const h=p.find(m=>m.name==="Mode dveloppeur");return h!=null&&h.active&&s.dev_mode.map(m=>m.active==!1),(h==null?void 0:h.active)??!1},u=()=>{var p;return(p=n.value)==null?void 0:p.click()},c=async()=>{const p=await bt.getAll("tags"),h=await bt.getAll("notes"),v={userAgent:navigator.userAgent,version:g_,with:"blob"},y={tags_lenght:p.length,notes_lenght:h.length},S={tags:p,notes:h,sender_info:v,data_info:y,hash:{tags:await Lt.hash(p),notes:await Lt.hash(h),sender_info:await Lt.hash(v),data_info:await Lt.hash(y)}},g=new Blob([JSON.stringify(S)],{type:"application/json"}),w=URL.createObjectURL(g),x=document.createElement("a");x.href=w,x.download="mes_data_silvernote.snote",document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(w)},f=async p=>{const h=p.target;if(h.files){const m=h.files[0],v=new FileReader;v.onload=async y=>{var g;const S=(g=y.target)==null?void 0:g.result;if(typeof S=="string"){try{const w=JSON.parse(S),x=await Lt.hash(w.tags)===w.hash.tags,b=await Lt.hash(w.notes)===w.hash.notes,A=await Lt.hash(w.sender_info)===w.hash.sender_info,D=await Lt.hash(w.data_info)===w.hash.data_info;if(x?console.log("Hash tags ok !"):console.warn("Hash tags incorect !"),b?console.log("Hash notes ok !"):console.warn("Hash notes incorect !"),A?console.log("Hash sender_info ok !"):console.warn("Hash sender_info incorect !"),D?console.log("Hash data_info ok !"):console.warn("Hash data_info incorect !"),x&&b&&A&&D){console.log("All hash ok !"),console.log("Starting eating data...");try{await bt.add_notes(w.notes)}catch{throw new Error("Erreur lors de la sync des notes.")}try{await bt.add_tags(w.tags)}catch{throw new Error("Erreur lors de la sync des tags.")}}else throw new Error(`Hash not valid.

 Hashes:
  Tags: ${await Lt.hash(w.tags)} || ${w.hash.tags}
  Notes: ${await Lt.hash(w.notes)} || ${w.hash.notes}
  Sender Info: ${await Lt.hash(w.sender_info)} || ${w.hash.sender_info}
  Data Info: ${await Lt.hash(w.data_info)} || ${w.hash.data_info}

Validation:
  Tags OK: ${await Lt.hash(w.tags)===w.hash.tags}
  Notes OK: ${await Lt.hash(w.notes)===w.hash.notes}
  Sender Info OK: ${await Lt.hash(w.sender_info)===w.hash.sender_info}
  Data Info OK: ${await Lt.hash(w.data_info)===w.hash.data_info}`)}catch(w){return console.error("Une erreur est survenue, step : parse data / eating data / verify hash :",w)}console.log("Database eat end !")}},v.readAsText(m)}},d=async p=>{p==2?(r.value=!1,await bt.reset()):r.value=!0};return jt(async()=>{Object.assign(s,await i.get())}),Kn(s,async()=>{await i.save(JSON.parse(JSON.stringify(s))),console.log("Parametre modifier : ",Object.values(s))},{deep:!0}),(p,h)=>(ke(),Ve(Gt,null,[ce("header",eue,[ce("div",{class:ct(["left-arrow absolute left-4",Oe(e)?"bg-red-600":""]),onClick:h[0]||(h[0]=m=>Oe(a).push("/"))},null,2),ce("div",{class:ct(["legal absolute right-4",Oe(e)?"bg-red-600":""]),onClick:h[1]||(h[1]=m=>Oe(a).push("/legale"))},null,2)]),ce("div",tue,[(ke(!0),Ve(Gt,null,fa(Object.values(s),(m,v)=>(ke(),Ve("section",{class:"flex flex-col w-full gap-4",key:v},[!o(Object.keys(s)[v])||l()?(ke(),Ve("h1",rue," Paramtres "+ar(Object.keys(s)[v]),1)):Yt("",!0),!o(Object.keys(s)[v])||l()?(ke(!0),Ve(Gt,{key:1},fa(m,(y,S)=>(ke(),Ve("label",{class:ct(["cursor-pointer w-full flex justify-between items-center",Oe(e)?"bg-red-600":""]),for:`switch-${v}-${S}`,key:S},[ce("span",null,ar(y.name),1),ce("div",iue,[ce("div",null,[jo(ce("input",{id:`switch-${v}-${S}`,type:"checkbox","onUpdate:modelValue":g=>y.active=g},null,8,aue),[[U3,y.active]]),h[6]||(h[6]=ce("span",{class:"slider"},null,-1))])])],10,nue))),128)):Yt("",!0),!o(Object.keys(s)[v])||l()?(ke(),Ve("hr",sue)):Yt("",!0)]))),128)),ce("section",oue,[h[10]||(h[10]=ce("h1",{style:{"font-family":"'Montserrat'"},class:"text-2xl mb-1 font-bold"}," Paramtres base de donnes ",-1)),ce("label",{class:ct(["cursor-pointer w-full flex justify-between items-center",Oe(e)?"bg-red-600":""])},[h[7]||(h[7]=ce("span",null,"Tlcharger la base de donne",-1)),ce("button",{onClick:c,class:"primary"}," Tlcharger ")],2),ce("label",{class:ct(["cursor-pointer w-full flex justify-between items-center",Oe(e)?"bg-red-600":""])},[h[8]||(h[8]=ce("span",null,"Tlverser une base de donne",-1)),ce("div",null,[ce("button",{onClick:u,class:"second"},"Tlversez un fichier"),ce("input",{ref_key:"file_input",ref:n,onChange:h[2]||(h[2]=m=>f(m)),accept:".snote,.json",class:"w-0",type:"file"},null,544)])],2),ce("label",{class:ct(["cursor-pointer w-full flex justify-between items-center",Oe(e)?"bg-red-600":""])},[h[9]||(h[9]=ce("span",null,"Rinitialiser les donnes",-1)),ce("button",{onClick:h[3]||(h[3]=m=>d(1)),class:"primary danger"}," Rinitialiser ")],2)])]),dt(bD,{visible:r.value,title:"Confirmation",message:"Voulez-vous vraiment rinitialiser vos dones ?",onConfirm:h[4]||(h[4]=m=>d(2)),onCancel:h[5]||(h[5]=m=>r.value=!1)},null,8,["visible"])],64))}}),uue=gi(lue,[["__scopeId","data-v-79ba0396"]]),cue={class:"flex flex-row relative",style:{"padding-top":"calc(1rem + env(safe-area-inset-top)/2)"}},fue=fr({__name:"Account",setup(t){let e;jt(async()=>{e=await io()});const r=ro();return(n,i)=>(ke(),Ve("header",cue,[ce("div",{class:ct(["left-arrow absolute left-4",Oe(e)?"bg-red-600":""]),onClick:i[0]||(i[0]=a=>Oe(r).push("/"))},null,2)]))}}),due={class:"flex flex-row relative",style:{"padding-top":"calc(1rem + env(safe-area-inset-top)/2)"}},pue={class:"flex justify-start items-center mt-12 ml-4 mr-4"},hue={class:"ml-1"},mue={class:"ml-1"},gue=fr({__name:"Dev",setup(t){jt(()=>{pp()});let e;jt(async()=>{e=await io()});const r=ro(),n=navigator.userAgent,i=navigator.platform,a=navigator.language,s=navigator.onLine,o=async()=>{await bt.reset(),await bt.add_notes(nu.dev_db.notes),await bt.add_tags(nu.dev_db.tags),alert("c fini")},l=async()=>{const u={notes:await bt.getAll("notes"),tags:await bt.getAll("tags")},c=new Blob([JSON.stringify(u,null,2)],{type:"application/json"}),f=URL.createObjectURL(c),d=document.createElement("a");d.href=f,d.download="db_silvernote.snote",document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(f)};return(u,c)=>(ke(),Ve(Gt,null,[ce("header",due,[ce("div",{class:ct(["left-arrow absolute left-4",Oe(e)?"bg-red-600":""]),onClick:c[0]||(c[0]=f=>Oe(r).push("/"))},null,2)]),ce("div",pue,[ce("section",null,[c[2]||(c[2]=ce("h1",{style:{"font-family":"'Montserrat'"},class:"text-2xl mb-1 font-bold"},"Informations systeme",-1)),ce("ul",hue,[ce("li",null,"Platform = "+ar(Oe(i)),1),ce("li",null,"Lang = "+ar(Oe(a)),1),ce("li",null,"isOnline ? = "+ar(Oe(s)),1),ce("li",null,"userAgent = "+ar(Oe(n)),1)]),c[3]||(c[3]=ce("h1",{style:{"font-family":"'Montserrat'"},class:"text-2xl mb-1 font-bold mt-5"},"Informations app",-1)),ce("ul",mue,[ce("li",null,"Version = "+ar(Oe(g_)),1)]),c[4]||(c[4]=ce("h1",{style:{"font-family":"'Montserrat'"},class:"text-2xl mb-1 font-bold mt-5"},"Db",-1)),ce("ul",{class:"ml-1"},[ce("li",{class:"flex flex-col"},[ce("button",{onClick:o,class:"second"},"load db template"),c[1]||(c[1]=ce("span",null,"Attention cela rinitialise la db !",-1))]),ce("li",{class:"flex flex-col"},[ce("button",{onClick:l,class:"second"},"tlcharger la db")])])])])],64))}}),vue="modulepreload",yue=function(t,e){return new URL(t,e).href},SA={},bue=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let s=function(c){return Promise.all(c.map(f=>Promise.resolve(f).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};const o=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=s(r.map(c=>{if(c=yue(c,n),c in SA)return;SA[c]=!0;const f=c.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(!!n)for(let m=o.length-1;m>=0;m--){const v=o[m];if(v.href===c&&(!f||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=f?"stylesheet":vue,f||(h.as="script"),h.crossOrigin="",h.href=c,u&&h.setAttribute("nonce",u),document.head.appendChild(h),f)return new Promise((m,v)=>{h.addEventListener("load",m),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})},xue=fr({__name:"Components",setup(t){const e=ZN(),r=Pe(),n=async()=>{try{const i=e.params.component;r.value=vO(()=>bue(()=>import(`../../components/${i}`),[],import.meta.url))}catch(i){console.error("Composant introuvable :",i)}};return n(),Kn(()=>e.params.component,()=>{n()}),(i,a)=>(ke(),fi(CO(r.value)))}}),wue=[{path:"/",name:"Home",component:WR,props:{},meta:{title:"SilverNote - Home"}},{path:"/edit",name:"Edit",component:Qle,props:{},meta:{title:"SilverNote - Edit"}},{path:"/settings",name:"Settings",component:uue,props:{},meta:{title:"SilverNote - Settings"}},{path:"/account",name:"Account",component:fue,props:{},meta:{title:"SilverNote - Account"}},{path:"/dev",name:"dev",component:gue,props:{},meta:{title:"SilverNote - dev access"}},{path:"/dev/component/:component",name:"dev component view",component:xue,props:{},meta:{title:"SilverNote - dev component view"}}],Sue=window.location.protocol==="file:",v_=tB({history:Sue?_F("./"):jN("./"),routes:wue});v_.beforeEach((t,e,r)=>{const n=t.meta.title;if(n){document.title=n;const i=document.querySelector('meta[property="og:title"]');if(i)i.setAttribute("content",n);else{const a=document.createElement("meta");a.setAttribute("property","og:title"),a.setAttribute("content",n),document.head.appendChild(a)}}r()});const y_=K3(Q3);y_.use(v_);y_.mount("#app");
